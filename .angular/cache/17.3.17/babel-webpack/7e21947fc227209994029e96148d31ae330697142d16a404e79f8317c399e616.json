{"ast":null,"code":"import { __awaiter as t } from \"../../../../../node_modules/.pnpm/@rollup_plugin-typescript@11.1.6_rollup@4.24.4_tslib@2.6.3_typescript@4.9.5/node_modules/tslib/tslib.es6.js\";\nimport { requestPortFromParentWithVersion as r } from \"../../internal/communication.js\";\nimport { ensureInitialized as e } from \"../../internal/internalAPIs.js\";\nimport { getLogger as n, getApiVersionTag as o } from \"../../internal/telemetry.js\";\nimport { errorNotSupportedOnPlatform as a } from \"../../public/constants.js\";\nimport { runtime as i } from \"../../public/runtime.js\";\nlet s;\nconst l = n(\"messageChannels.dataLayer\");\nfunction m() {\n  return t(this, void 0, void 0, function* () {\n    if (s) return l(\"Returning dataLayer port from cache\"), s;\n    if (!p()) throw a;\n    return s = yield r(o(\"v1\", \"messageChannels.dataLayer.getDataLayerPort\"), \"messageChannels.dataLayer.getDataLayerPort\"), s;\n  });\n}\nfunction p() {\n  var t;\n  return !(!e(i) || !(null === (t = i.supports.messageChannels) || void 0 === t ? void 0 : t.dataLayer));\n}\nfunction u() {\n  s = void 0;\n}\nexport { u as _clearDataLayerPort, m as getDataLayerPort, p as isSupported };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}