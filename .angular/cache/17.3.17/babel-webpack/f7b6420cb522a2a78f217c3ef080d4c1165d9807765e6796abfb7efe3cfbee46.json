{"ast":null,"code":"// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\nexport const apiVersionPolicyName = \"ApiVersionPolicy\";\n/**\n * Creates a policy that sets the apiVersion as a query parameter on every request\n * @param options - Client options\n * @returns Pipeline policy that sets the apiVersion as a query parameter on every request\n */\nexport function apiVersionPolicy(options) {\n  return {\n    name: apiVersionPolicyName,\n    sendRequest: (req, next) => {\n      // Use the apiVesion defined in request url directly\n      // Append one if there is no apiVesion and we have one at client options\n      const url = new URL(req.url);\n      if (!url.searchParams.get(\"api-version\") && options.apiVersion) {\n        req.url = `${req.url}${Array.from(url.searchParams.keys()).length > 0 ? \"&\" : \"?\"}api-version=${options.apiVersion}`;\n      }\n      return next(req);\n    }\n  };\n}","map":{"version":3,"names":["apiVersionPolicyName","apiVersionPolicy","options","name","sendRequest","req","next","url","URL","searchParams","get","apiVersion","Array","from","keys","length"],"sources":["D:/Project/github-teams/teams-app-new/node_modules/@azure-rest/core-client/dist/browser/apiVersionPolicy.js"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\nexport const apiVersionPolicyName = \"ApiVersionPolicy\";\n/**\n * Creates a policy that sets the apiVersion as a query parameter on every request\n * @param options - Client options\n * @returns Pipeline policy that sets the apiVersion as a query parameter on every request\n */\nexport function apiVersionPolicy(options) {\n    return {\n        name: apiVersionPolicyName,\n        sendRequest: (req, next) => {\n            // Use the apiVesion defined in request url directly\n            // Append one if there is no apiVesion and we have one at client options\n            const url = new URL(req.url);\n            if (!url.searchParams.get(\"api-version\") && options.apiVersion) {\n                req.url = `${req.url}${Array.from(url.searchParams.keys()).length > 0 ? \"&\" : \"?\"}api-version=${options.apiVersion}`;\n            }\n            return next(req);\n        },\n    };\n}\n"],"mappings":"AAAA;AACA;AACA,OAAO,MAAMA,oBAAoB,GAAG,kBAAkB;AACtD;AACA;AACA;AACA;AACA;AACA,OAAO,SAASC,gBAAgBA,CAACC,OAAO,EAAE;EACtC,OAAO;IACHC,IAAI,EAAEH,oBAAoB;IAC1BI,WAAW,EAAEA,CAACC,GAAG,EAAEC,IAAI,KAAK;MACxB;MACA;MACA,MAAMC,GAAG,GAAG,IAAIC,GAAG,CAACH,GAAG,CAACE,GAAG,CAAC;MAC5B,IAAI,CAACA,GAAG,CAACE,YAAY,CAACC,GAAG,CAAC,aAAa,CAAC,IAAIR,OAAO,CAACS,UAAU,EAAE;QAC5DN,GAAG,CAACE,GAAG,GAAG,GAAGF,GAAG,CAACE,GAAG,GAAGK,KAAK,CAACC,IAAI,CAACN,GAAG,CAACE,YAAY,CAACK,IAAI,CAAC,CAAC,CAAC,CAACC,MAAM,GAAG,CAAC,GAAG,GAAG,GAAG,GAAG,eAAeb,OAAO,CAACS,UAAU,EAAE;MACxH;MACA,OAAOL,IAAI,CAACD,GAAG,CAAC;IACpB;EACJ,CAAC;AACL","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}