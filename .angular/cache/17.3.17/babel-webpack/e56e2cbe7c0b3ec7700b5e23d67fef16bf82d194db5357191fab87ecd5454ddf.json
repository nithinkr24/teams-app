{"ast":null,"code":"import { HostClientType as i } from \"../public/constants.js\";\nimport { ErrorCode as t } from \"../public/interfaces.js\";\nimport { isRuntimeInitialized as e } from \"../public/runtime.js\";\nimport { errorLibraryNotInitialized as n, defaultSDKVersionForCompatCheck as o, userOriginUrlValidationRegExp as r } from \"./constants.js\";\nimport { GlobalVars as l } from \"./globalVars.js\";\nimport { getLogger as s } from \"./telemetry.js\";\nimport { compareSDKVersions as a } from \"./utils.js\";\nconst f = s(\"internal\"),\n  c = f.extend(\"ensureInitializeCalled\"),\n  d = f.extend(\"ensureInitialized\");\nfunction p() {\n  if (!l.initializeCalled) throw c(n), new Error(n);\n}\nfunction m(i, ...t) {\n  if (!l.initializeCompleted) throw d(\"%s. initializeCalled: %s\", n, l.initializeCalled.toString()), new Error(n);\n  if (t && t.length > 0) {\n    let i = !1;\n    for (let e = 0; e < t.length; e++) if (t[e] === l.frameContext) {\n      i = !0;\n      break;\n    }\n    if (!i) throw new Error(`This call is only allowed in following contexts: ${JSON.stringify(t)}. Current context: \"${l.frameContext}\".`);\n  }\n  return e(i);\n}\nfunction u(i = o) {\n  const t = a(l.clientSupportedSDKVersion, i);\n  return !isNaN(t) && t >= 0;\n}\nfunction C() {\n  return l.hostClientType == i.android || l.hostClientType == i.ios || l.hostClientType == i.ipados || l.hostClientType == i.visionOS;\n}\nfunction h(i = o) {\n  if (!C()) {\n    throw {\n      errorCode: t.NOT_SUPPORTED_ON_PLATFORM\n    };\n  }\n  if (!u(i)) {\n    throw {\n      errorCode: t.OLD_PLATFORM\n    };\n  }\n}\nfunction w(i) {\n  let t = l.additionalValidOrigins.concat(i.filter(i => \"string\" == typeof i && r.test(i)));\n  const e = {};\n  t = t.filter(i => !e[i] && (e[i] = !0, !0)), l.additionalValidOrigins = t;\n}\nexport { p as ensureInitializeCalled, m as ensureInitialized, u as isCurrentSDKVersionAtLeast, C as isHostClientMobile, w as processAdditionalValidOrigins, h as throwExceptionIfMobileApiIsNotSupported };","map":{"version":3,"names":["HostClientType","i","ErrorCode","t","isRuntimeInitialized","e","errorLibraryNotInitialized","n","defaultSDKVersionForCompatCheck","o","userOriginUrlValidationRegExp","r","GlobalVars","l","getLogger","s","compareSDKVersions","a","f","c","extend","d","p","initializeCalled","Error","m","initializeCompleted","toString","length","frameContext","JSON","stringify","u","clientSupportedSDKVersion","isNaN","C","hostClientType","android","ios","ipados","visionOS","h","errorCode","NOT_SUPPORTED_ON_PLATFORM","OLD_PLATFORM","w","additionalValidOrigins","concat","filter","test","ensureInitializeCalled","ensureInitialized","isCurrentSDKVersionAtLeast","isHostClientMobile","processAdditionalValidOrigins","throwExceptionIfMobileApiIsNotSupported"],"sources":["D:/Project/github-teams/teams-app-new/node_modules/@microsoft/teams-js/dist/esm/packages/teams-js/src/internal/internalAPIs.js"],"sourcesContent":["import{HostClientType as i}from\"../public/constants.js\";import{ErrorCode as t}from\"../public/interfaces.js\";import{isRuntimeInitialized as e}from\"../public/runtime.js\";import{errorLibraryNotInitialized as n,defaultSDKVersionForCompatCheck as o,userOriginUrlValidationRegExp as r}from\"./constants.js\";import{GlobalVars as l}from\"./globalVars.js\";import{getLogger as s}from\"./telemetry.js\";import{compareSDKVersions as a}from\"./utils.js\";const f=s(\"internal\"),c=f.extend(\"ensureInitializeCalled\"),d=f.extend(\"ensureInitialized\");function p(){if(!l.initializeCalled)throw c(n),new Error(n)}function m(i,...t){if(!l.initializeCompleted)throw d(\"%s. initializeCalled: %s\",n,l.initializeCalled.toString()),new Error(n);if(t&&t.length>0){let i=!1;for(let e=0;e<t.length;e++)if(t[e]===l.frameContext){i=!0;break}if(!i)throw new Error(`This call is only allowed in following contexts: ${JSON.stringify(t)}. Current context: \"${l.frameContext}\".`)}return e(i)}function u(i=o){const t=a(l.clientSupportedSDKVersion,i);return!isNaN(t)&&t>=0}function C(){return l.hostClientType==i.android||l.hostClientType==i.ios||l.hostClientType==i.ipados||l.hostClientType==i.visionOS}function h(i=o){if(!C()){throw{errorCode:t.NOT_SUPPORTED_ON_PLATFORM}}if(!u(i)){throw{errorCode:t.OLD_PLATFORM}}}function w(i){let t=l.additionalValidOrigins.concat(i.filter((i=>\"string\"==typeof i&&r.test(i))));const e={};t=t.filter((i=>!e[i]&&(e[i]=!0,!0))),l.additionalValidOrigins=t}export{p as ensureInitializeCalled,m as ensureInitialized,u as isCurrentSDKVersionAtLeast,C as isHostClientMobile,w as processAdditionalValidOrigins,h as throwExceptionIfMobileApiIsNotSupported};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}