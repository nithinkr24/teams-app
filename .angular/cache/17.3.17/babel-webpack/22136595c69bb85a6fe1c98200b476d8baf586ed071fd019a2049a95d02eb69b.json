{"ast":null,"code":"'use strict';\n\nvar uuid = require('uuid');\nvar coreUtil = require('@azure/core-util');\nvar coreClient = require('@azure/core-client');\nvar coreRestPipeline = require('@azure/core-rest-pipeline');\nfunction _interopDefaultLegacy(e) {\n  return e && typeof e === 'object' && 'default' in e ? e : {\n    'default': e\n  };\n}\nvar uuid__default = /*#__PURE__*/_interopDefaultLegacy(uuid);\nvar coreUtil__default = /*#__PURE__*/_interopDefaultLegacy(coreUtil);\nvar coreClient__default = /*#__PURE__*/_interopDefaultLegacy(coreClient);\nvar coreRestPipeline__default = /*#__PURE__*/_interopDefaultLegacy(coreRestPipeline);\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\nfunction unwrapExports(x) {\n  return x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\nfunction createCommonjsModule(fn, module) {\n  return module = {\n    exports: {}\n  }, fn(module, module.exports), module.exports;\n}\nvar tsregistrar = createCommonjsModule(function (module, exports) {\n  !function (t, e) {\n    module.exports = e();\n  }(commonjsGlobal, function () {\n    return function (t) {\n      function e(n) {\n        if (r[n]) return r[n].exports;\n        var o = r[n] = {\n          i: n,\n          l: !1,\n          exports: {}\n        };\n        return t[n].call(o.exports, o, o.exports, e), o.l = !0, o.exports;\n      }\n      var r = {};\n      return e.m = t, e.c = r, e.i = function (t) {\n        return t;\n      }, e.d = function (t, r, n) {\n        e.o(t, r) || Object.defineProperty(t, r, {\n          configurable: !1,\n          enumerable: !0,\n          get: n\n        });\n      }, e.n = function (t) {\n        var r = t && t.__esModule ? function () {\n          return t.default;\n        } : function () {\n          return t;\n        };\n        return e.d(r, \"a\", r), r;\n      }, e.o = function (t, e) {\n        return Object.prototype.hasOwnProperty.call(t, e);\n      }, e.p = \"\", e(e.s = 1);\n    }([function (t, e, r) {\n      function n(t, e) {\n        var r,\n          n = new Promise(function (e, n) {\n            fetch(t).then(function (t) {\n              void 0 !== r && clearTimeout(r), e(t);\n            }).catch(function (t) {\n              void 0 !== r && clearTimeout(r), n(t);\n            });\n          });\n        if (0 !== e) {\n          var o = new Promise(function (n, o) {\n            r = setTimeout(o, e, new Error(\"Fetch for '\".concat(t.url, \"' timed out\")));\n          });\n          return Promise.race([n, o]);\n        }\n        return n;\n      }\n      function o(t) {\n        try {\n          return JSON.stringify(t);\n        } catch (e) {\n          return \"Unable to serialize object of type \".concat(typeof t);\n        }\n      }\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.Timespan = e.toJson = e.fetchWithTimeout = void 0, e.fetchWithTimeout = n, e.toJson = o;\n      var i = function () {\n        function t() {\n          this.start = Date.now();\n        }\n        return Object.defineProperty(t.prototype, \"duration\", {\n          get: function () {\n            return Date.now() - this.start;\n          },\n          enumerable: !1,\n          configurable: !0\n        }), Object.defineProperty(t.prototype, \"startTime\", {\n          get: function () {\n            return this.start;\n          },\n          enumerable: !1,\n          configurable: !0\n        }), t.prototype.reset = function () {\n          this.start = Date.now();\n        }, t;\n      }();\n      e.Timespan = i;\n    }, function (t, e, r) {\n      function n(t, e, r) {\n        return new h(t, e, r);\n      }\n      var o = this && this.__extends || function () {\n          var t = function (e, r) {\n            return (t = Object.setPrototypeOf || {\n              __proto__: []\n            } instanceof Array && function (t, e) {\n              t.__proto__ = e;\n            } || function (t, e) {\n              for (var r in e) Object.prototype.hasOwnProperty.call(e, r) && (t[r] = e[r]);\n            })(e, r);\n          };\n          return function (e, r) {\n            function n() {\n              this.constructor = e;\n            }\n            if (\"function\" != typeof r && null !== r) throw new TypeError(\"Class extends value \" + String(r) + \" is not a constructor or null\");\n            t(e, r), e.prototype = null === r ? Object.create(r) : (n.prototype = r.prototype, new n());\n          };\n        }(),\n        i = this && this.__assign || function () {\n          return i = Object.assign || function (t) {\n            for (var e, r = 1, n = arguments.length; r < n; r++) {\n              e = arguments[r];\n              for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);\n            }\n            return t;\n          }, i.apply(this, arguments);\n        },\n        s = this && this.__awaiter || function (t, e, r, n) {\n          function o(t) {\n            return t instanceof r ? t : new r(function (e) {\n              e(t);\n            });\n          }\n          return new (r || (r = Promise))(function (r, i) {\n            function s(t) {\n              try {\n                c(n.next(t));\n              } catch (t) {\n                i(t);\n              }\n            }\n            function a(t) {\n              try {\n                c(n.throw(t));\n              } catch (t) {\n                i(t);\n              }\n            }\n            function c(t) {\n              t.done ? r(t.value) : o(t.value).then(s, a);\n            }\n            c((n = n.apply(t, e || [])).next());\n          });\n        },\n        a = this && this.__generator || function (t, e) {\n          function r(t) {\n            return function (e) {\n              return n([t, e]);\n            };\n          }\n          function n(r) {\n            if (o) throw new TypeError(\"Generator is already executing.\");\n            for (; a && (a = 0, r[0] && (c = 0)), c;) try {\n              if (o = 1, i && (s = 2 & r[0] ? i.return : r[0] ? i.throw || ((s = i.return) && s.call(i), 0) : i.next) && !(s = s.call(i, r[1])).done) return s;\n              switch (i = 0, s && (r = [2 & r[0], s.value]), r[0]) {\n                case 0:\n                case 1:\n                  s = r;\n                  break;\n                case 4:\n                  return c.label++, {\n                    value: r[1],\n                    done: !1\n                  };\n                case 5:\n                  c.label++, i = r[1], r = [0];\n                  continue;\n                case 7:\n                  r = c.ops.pop(), c.trys.pop();\n                  continue;\n                default:\n                  if (s = c.trys, !(s = s.length > 0 && s[s.length - 1]) && (6 === r[0] || 2 === r[0])) {\n                    c = 0;\n                    continue;\n                  }\n                  if (3 === r[0] && (!s || r[1] > s[0] && r[1] < s[3])) {\n                    c.label = r[1];\n                    break;\n                  }\n                  if (6 === r[0] && c.label < s[1]) {\n                    c.label = s[1], s = r;\n                    break;\n                  }\n                  if (s && c.label < s[2]) {\n                    c.label = s[2], c.ops.push(r);\n                    break;\n                  }\n                  s[2] && c.ops.pop(), c.trys.pop();\n                  continue;\n              }\n              r = e.call(t, c);\n            } catch (t) {\n              r = [6, t], i = 0;\n            } finally {\n              o = s = 0;\n            }\n            if (5 & r[0]) throw r[1];\n            return {\n              value: r[0] ? r[1] : void 0,\n              done: !0\n            };\n          }\n          var o,\n            i,\n            s,\n            a,\n            c = {\n              label: 0,\n              sent: function () {\n                if (1 & s[0]) throw s[1];\n                return s[1];\n              },\n              trys: [],\n              ops: []\n            };\n          return a = {\n            next: r(0),\n            throw: r(1),\n            return: r(2)\n          }, \"function\" == typeof Symbol && (a[Symbol.iterator] = function () {\n            return this;\n          }), a;\n        };\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.createRegistrarClient = e.RegistrarClient = void 0;\n      var c = r(0),\n        u = [\"skype\", \"aad\", \"cae\"],\n        l = function (t) {\n          function e(e) {\n            var r = t.call(this, e) || this;\n            return r.name = \"CancelationError\", r;\n          }\n          return o(e, t), e;\n        }(Error),\n        f = function () {\n          function t(e, r, n) {\n            this.logger = e, this.maxBackoffInMs = r, this.initialDelay = n, this.backoffCount = 0, this.id = ++t.idCounter;\n          }\n          return t.prototype.delay = function (t) {\n            var e = this;\n            if (void 0 !== this.timerHandle) throw new Error(\"Retry sequence logical failure\");\n            if (-1 === this.backoffCount) return new Promise(function (t, e) {\n              e(new l(\"Cancelled\"));\n            });\n            var r = this.calculateNextBackoffMs();\n            return this.backoffCount++, this.logger.info(\"[RegistrarClient] Backing off \".concat(t, \" for \").concat(r, \" milliseconds with ID \").concat(this.id)), new Promise(function (n, o) {\n              e.cancelFunc = o, e.timerHandle = setTimeout(function () {\n                e.logger.info(\"[RegistrarClient] Back off for \".concat(t, \" with ID \").concat(e.id, \" complete\")), e.timerHandle = void 0, n();\n              }, r);\n            });\n          }, t.prototype.cancel = function () {\n            void 0 !== this.timerHandle && (this.logger.debug(\"Resetting back off\"), clearTimeout(this.timerHandle), void 0 !== this.cancelFunc && this.cancelFunc(new l(\"Cancelled\"))), this.backoffCount = -1;\n          }, t.prototype.calculateNextBackoffMs = function () {\n            var t = 1 + .4 * (Math.random() - .5),\n              e = this.initialDelay * Math.pow(2, this.backoffCount) * t;\n            return e = Math.round(e), Math.min(this.maxBackoffInMs, e);\n          }, t.idCounter = 0, t;\n        }(),\n        h = function () {\n          function t(t, e, r) {\n            var n;\n            this.logger = t, this.tokenProvider = e, this.options = r, this.DEFAULT_MAX_RETRIES_FOR_GET_TOKEN = 15, this.DEFAULT_MAX_BACKOFF_TIME_IN_MS = 3e5, this.backoffs = {}, this.maxBackOffTime = this.options.maxRetryDelayMs > 0 ? this.options.maxRetryDelayMs : this.DEFAULT_MAX_BACKOFF_TIME_IN_MS, this.maxRetriesForGetToken = void 0 === r.maxRetriesForGetToken || null === r.maxRetriesForGetToken ? this.DEFAULT_MAX_RETRIES_FOR_GET_TOKEN : r.maxRetriesForGetToken, this.proxyUrlRewrite = null !== (n = r.proxyUrlRewrite) && void 0 !== n ? n : function (t) {\n              return t;\n            };\n          }\n          return t.prototype.setTelemetryLogger = function (t) {\n            this.eventLogger = t;\n          }, t.prototype.register = function (t, e) {\n            return s(this, void 0, void 0, function () {\n              return a(this, function (r) {\n                switch (r.label) {\n                  case 0:\n                    return [4, this.performRegistration(t, e, \"pr_set_registration\")];\n                  case 1:\n                    return r.sent(), this.cachedRegistrationParams = [t, e], [2];\n                }\n              });\n            });\n          }, t.prototype.unregister = function () {\n            return s(this, void 0, void 0, function () {\n              var t;\n              return a(this, function (e) {\n                switch (e.label) {\n                  case 0:\n                    return this.logger.info(\"[RegistrarClient] sending unregister request\"), t = new Request(this.proxyUrlRewrite(\"\".concat(this.options.registrarUrl, \"/\").concat(this.options.registrationId)), {\n                      method: \"DELETE\",\n                      mode: \"cors\",\n                      headers: new Headers(i(i({}, this.options.extraRegistrationHeaders), {\n                        accept: \"application/json, text/javascript\"\n                      }))\n                    }), [4, this.callRegistrar(t, \"pr_delete_registration\")];\n                  case 1:\n                    return e.sent(), [2];\n                }\n              });\n            });\n          }, t.prototype.cancelPendingRequests = function () {\n            var t = this;\n            Object.keys(this.backoffs).forEach(function (e) {\n              t.backoffs[e].cancel();\n            }), this.backoffs = {};\n          }, t.prototype.resendRegistration = function () {\n            return s(this, void 0, void 0, function () {\n              return a(this, function (t) {\n                switch (t.label) {\n                  case 0:\n                    if (!this.cachedRegistrationParams) throw new Error(\"Re-registration failed because there is no registration parameters cached\");\n                    return [4, this.performRegistration(this.cachedRegistrationParams[0], this.cachedRegistrationParams[1], \"pr_resend_registration\")];\n                  case 1:\n                    return t.sent(), [2];\n                }\n              });\n            });\n          }, t.prototype.performRegistration = function (t, e, r) {\n            return s(this, void 0, void 0, function () {\n              var n, o;\n              return a(this, function (s) {\n                switch (s.label) {\n                  case 0:\n                    return this.logger.info(\"[RegistrarClient] Sending register request\"), n = {\n                      clientDescription: t,\n                      registrationId: this.options.registrationId,\n                      nodeId: \"\",\n                      transports: e\n                    }, o = new Request(this.proxyUrlRewrite(this.options.registrarUrl), {\n                      method: \"POST\",\n                      mode: \"cors\",\n                      headers: new Headers(i(i({}, this.options.extraRegistrationHeaders), {\n                        \"content-type\": \"application/json\",\n                        accept: \"application/json, text/javascript\"\n                      })),\n                      body: (0, c.toJson)(n)\n                    }), [4, this.callRegistrar(o, r)];\n                  case 1:\n                    return s.sent(), [2];\n                }\n              });\n            });\n          }, t.prototype.startBackoff = function () {\n            var t = new f(this.logger, this.maxBackOffTime, this.options.initialRetryDelayMs);\n            return this.backoffs[t.id] = t, t;\n          }, t.prototype.stopBackoff = function (t) {\n            t.cancel(), delete this.backoffs[t.id];\n          }, t.prototype.getToken = function (t) {\n            return s(this, void 0, void 0, function () {\n              var e, r, n, o, i, s, c;\n              return a(this, function (a) {\n                switch (a.label) {\n                  case 0:\n                    e = this.startBackoff(), r = 0, a.label = 1;\n                  case 1:\n                    return a.trys.push([1, 3,, 8]), this.logger.info(\"[RegistrarClient] Asking for a new token\"), [4, this.tokenProvider({\n                      needFresh: !0,\n                      supportedTokenTypes: u,\n                      wwwAuthenticateHeader: t,\n                      purpose: \"registrar\"\n                    })];\n                  case 2:\n                    return n = a.sent(), this.stopBackoff(e), [2, n];\n                  case 3:\n                    o = a.sent(), a.label = 4;\n                  case 4:\n                    return a.trys.push([4, 6,, 7]), (r++, i = JSON.stringify(o), r > this.maxRetriesForGetToken) ? (s = \"[RegistrarClient] getToken retry limit hit. Will not retry now. Error: \".concat(i), this.logger.error(s), this.stopBackoff(e), [2, Promise.reject(s)]) : (this.logger.warn(\"[RegistrarClient] Retrying for a new token. Retry Count: \".concat(r, \" Error: \").concat(i)), [4, e.delay(\"Fetching a new token\")]);\n                  case 5:\n                    return a.sent(), [3, 8];\n                  case 6:\n                    throw c = a.sent(), this.stopBackoff(e), c;\n                  case 7:\n                    return [3, 8];\n                  case 8:\n                    return [3, 1];\n                  case 9:\n                    return [2];\n                }\n              });\n            });\n          }, t.prototype.callRegistrar = function (t, e) {\n            var r, n, o;\n            return s(this, void 0, void 0, function () {\n              var i, s, l, f, h, p, d, g, y, v, w, k, m, b, R, _;\n              return a(this, function (a) {\n                switch (a.label) {\n                  case 0:\n                    return i = this.startBackoff(), [4, this.tokenProvider({\n                      needFresh: !1,\n                      supportedTokenTypes: u,\n                      wwwAuthenticateHeader: void 0,\n                      purpose: \"registrar\"\n                    })];\n                  case 1:\n                    s = a.sent(), this.setTokenHeader(t, s), l = new c.Timespan(), f = 0, a.label = 2;\n                  case 2:\n                    h = void 0, a.label = 3;\n                  case 3:\n                    return a.trys.push([3, 10, 15, 16]), p = t.clone(), [4, (0, c.fetchWithTimeout)(p, this.options.requestTimeoutMs)];\n                  case 4:\n                    return h = a.sent(), 401 !== h.status ? [3, 8] : ++f > this.maxRetriesForGetToken ? (d = \"[RegistrarClient] getSkypeToken retry limit hit. Will not retry now. Request '\".concat(t.url, \"' failed with \").concat(h.status, \" \").concat(h.statusText), this.logger.error(d), this.stopBackoff(i), [2, Promise.reject(d)]) : (this.logger.warn(\"[RegistrarClient] Retry Count \".concat(f, \". Request '\").concat(t.url, \"' failed with \").concat(h.status, \" \").concat(h.statusText)), g = null !== (n = null === (r = h.headers) || void 0 === r ? void 0 : r.get(\"www-authenticate\")) && void 0 !== n ? n : void 0, y = this.setTokenHeader, v = [t], [4, this.getToken(g)]);\n                  case 5:\n                    return y.apply(this, v.concat([a.sent()])), f > 1 ? [4, i.delay(\"Registrar call retry after 401\")] : [3, 7];\n                  case 6:\n                    a.sent(), a.label = 7;\n                  case 7:\n                    return [3, 22];\n                  case 8:\n                    if (h.status >= 500 && h.status < 600) throw new Error(\"Fetch for '\".concat(t.url, \"' failed with \").concat(h.status, \" \").concat(h.statusText));\n                    a.label = 9;\n                  case 9:\n                    return [3, 16];\n                  case 10:\n                    w = a.sent(), this.logger.error(\"[RegistrarClient] Request failed with \".concat(w)), a.label = 11;\n                  case 11:\n                    return a.trys.push([11, 13,, 14]), [4, i.delay(\"Registrar call retry\")];\n                  case 12:\n                    return a.sent(), [3, 22];\n                  case 13:\n                    throw k = a.sent(), this.logger.error(\"[RegistrarClient] Request cancelled\"), this.stopBackoff(i), k;\n                  case 14:\n                    return [3, 16];\n                  case 15:\n                    return this.sendTelemetryEvent(e, t, h, l), [7];\n                  case 16:\n                    return this.stopBackoff(i), h.ok ? [2, h] : [3, 17];\n                  case 17:\n                    m = void 0, a.label = 18;\n                  case 18:\n                    return a.trys.push([18, 20,, 21]), R = (b = JSON).stringify, [4, h.json()];\n                  case 19:\n                    return m = R.apply(b, [a.sent()]), [3, 21];\n                  case 20:\n                    return a.sent(), m = \"no details\", [3, 21];\n                  case 21:\n                    throw _ = \"Fetch for '\".concat(t.url, \"' failed with \").concat(h.status, \" \").concat(h.statusText, \" (\").concat(m, \", MS-CV: \").concat(null === (o = h.headers) || void 0 === o ? void 0 : o.get(\"MS-CV\"), \")\"), this.logger.error(\"[RegistrarClient] \".concat(_)), new Error(_);\n                  case 22:\n                    return [3, 2];\n                  case 23:\n                    return [2];\n                }\n              });\n            });\n          }, t.prototype.setTokenHeader = function (t, e) {\n            switch (t.headers.delete(\"X-Skypetoken\"), t.headers.delete(\"Authorization\"), t.headers.delete(\"X-MS-Migration\"), e.tokenType.toLowerCase()) {\n              case \"skype\":\n                t.headers.set(\"X-Skypetoken\", e.token);\n                break;\n              case \"aad\":\n              case \"cae\":\n                t.headers.set(\"Authorization\", \"Bearer \".concat(e.token));\n                break;\n              default:\n                throw new Error(\"unsupported token type: \".concat(e.tokenType));\n            }\n            !1 === this.options.usingLegacyTokenApi && t.headers.set(\"X-MS-Migration\", \"True\");\n          }, t.prototype.sendTelemetryEvent = function (t, e, r, n) {\n            if (void 0 !== this.eventLogger) {\n              var o = {\n                name: t,\n                properties: {\n                  url: {\n                    value: e.url\n                  },\n                  result_code: {\n                    value: void 0 !== r ? r.status : 0\n                  },\n                  begin_timestamp: {\n                    value: n.startTime\n                  },\n                  elapsed: {\n                    value: n.duration\n                  }\n                }\n              };\n              this.eventLogger.logEvent(o);\n            }\n          }, t;\n        }();\n      e.RegistrarClient = h, e.createRegistrarClient = n;\n    }]);\n  });\n});\nunwrapExports(tsregistrar);\nvar tstrouter = createCommonjsModule(function (module, exports) {\n  !function (t, e) {\n    module.exports = e(tsregistrar);\n  }(commonjsGlobal, function (t) {\n    return function (t) {\n      function e(o) {\n        if (n[o]) return n[o].exports;\n        var i = n[o] = {\n          i: o,\n          l: !1,\n          exports: {}\n        };\n        return t[o].call(i.exports, i, i.exports, e), i.l = !0, i.exports;\n      }\n      var n = {};\n      return e.m = t, e.c = n, e.i = function (t) {\n        return t;\n      }, e.d = function (t, n, o) {\n        e.o(t, n) || Object.defineProperty(t, n, {\n          configurable: !1,\n          enumerable: !0,\n          get: o\n        });\n      }, e.n = function (t) {\n        var n = t && t.__esModule ? function () {\n          return t.default;\n        } : function () {\n          return t;\n        };\n        return e.d(n, \"a\", n), n;\n      }, e.o = function (t, e) {\n        return Object.prototype.hasOwnProperty.call(t, e);\n      }, e.p = \"\", e(e.s = 20);\n    }([function (t, e, n) {\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.Logger = void 0;\n      var o = function () {\n        function t(t, e) {\n          this.name = t, this.logger = e;\n        }\n        return t.prototype.debug = function (t) {\n          this.logger.debug(\"[\".concat(this.name, \"] \").concat(t));\n        }, t.prototype.info = function (t) {\n          this.logger.info(\"[\".concat(this.name, \"] \").concat(t));\n        }, t.prototype.warn = function (t) {\n          this.logger.warn(\"[\".concat(this.name, \"] \").concat(t));\n        }, t.prototype.error = function (t) {\n          this.logger.error(\"[\".concat(this.name, \"] \").concat(t));\n        }, t;\n      }();\n      e.Logger = o;\n    }, function (t, e, n) {\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.USER_AUTHENTICATE_EVENT_NAME = e.SUPPORTED_TOKEN_TYPES = e.FAILED_MESSAGE_ACK = e.UNHANDLED_MESSAGE_ACK = e.HANDLED_MESSAGE_ACK = e.CLIENT_VERSION = e.constants = void 0, e.constants = {\n        TROUTER_INIT: \"trouterinit\",\n        TROUTER_READY_EVENT: \"trouterReadyEvent\",\n        TROUTER_READY_TIMEOUT: \"trouterReadyTimeout\",\n        TROUTER_TOKEN_REQUEST: \"trouterTokenRequest\",\n        TROUTER_TOKEN_GET_SUCCEEDED: \"trouterTokenGetSucceeded\",\n        TROUTER_TOKEN_GET_FAILED: \"trouterTokenGetFailed\",\n        TROUTER_RECONNECTING: \"trouterReconnecting\",\n        RENEWAL: \"renewal\",\n        NEW_CONNECTION: \"newConnection\",\n        ENDPOINT_REGISTRATION_FAILED: \"endpointRegistrationFailed\"\n      }, e.CLIENT_VERSION = \"2024.14.01.55\", e.HANDLED_MESSAGE_ACK = 200, e.UNHANDLED_MESSAGE_ACK = 404, e.FAILED_MESSAGE_ACK = 500, e.SUPPORTED_TOKEN_TYPES = [\"skype\", \"aad\", \"cae\"], e.USER_AUTHENTICATE_EVENT_NAME = \"user.authenticate\";\n    }, function (t, e, n) {\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.TrouterState = e.UserActivityState = void 0;\n      var o;\n      !function (t) {\n        t[t.Unknown = 0] = \"Unknown\", t[t.Active = 1] = \"Active\", t[t.Inactive = 2] = \"Inactive\";\n      }(o || (e.UserActivityState = o = {}));\n      var i;\n      !function (t) {\n        t[t.Unknown = 0] = \"Unknown\", t[t.Connected = 2] = \"Connected\", t[t.Disconnected = 3] = \"Disconnected\", t[t.Switching = 9] = \"Switching\";\n      }(i || (e.TrouterState = i = {}));\n    }, function (t, e, n) {\n      function o(t) {\n        try {\n          return JSON.stringify(t);\n        } catch (e) {\n          return \"Unable to serialize object of type \".concat(typeof t);\n        }\n      }\n      function i(t) {\n        var e = Math.round(new Date().getTime() / 1e3);\n        return void 0 !== t && t > e ? t - e : 0;\n      }\n      function r(t) {\n        return Math.round(new Date().getTime() / 1e3) + t;\n      }\n      function s(t, e) {\n        return c(this, void 0, void 0, function () {\n          var n, o, i;\n          return a(this, function (r) {\n            return o = new Promise(function (e, o) {\n              fetch(t).then(function (t) {\n                clearTimeout(n), e(t);\n              }).catch(function (t) {\n                clearTimeout(n), o(t);\n              });\n            }), 0 !== e ? (i = new Promise(function (o, i) {\n              var r = new URL(t.url),\n                s = new Error(\"\".concat(t.method, \" \").concat(r.origin).concat(r.pathname, \" timed out\"));\n              n = setTimeout(i, e, s);\n            }), [2, Promise.race([o, i])]) : [2, o];\n          });\n        });\n      }\n      var c = this && this.__awaiter || function (t, e, n, o) {\n          function i(t) {\n            return t instanceof n ? t : new n(function (e) {\n              e(t);\n            });\n          }\n          return new (n || (n = Promise))(function (n, r) {\n            function s(t) {\n              try {\n                a(o.next(t));\n              } catch (t) {\n                r(t);\n              }\n            }\n            function c(t) {\n              try {\n                a(o.throw(t));\n              } catch (t) {\n                r(t);\n              }\n            }\n            function a(t) {\n              t.done ? n(t.value) : i(t.value).then(s, c);\n            }\n            a((o = o.apply(t, e || [])).next());\n          });\n        },\n        a = this && this.__generator || function (t, e) {\n          function n(t) {\n            return function (e) {\n              return o([t, e]);\n            };\n          }\n          function o(n) {\n            if (i) throw new TypeError(\"Generator is already executing.\");\n            for (; c && (c = 0, n[0] && (a = 0)), a;) try {\n              if (i = 1, r && (s = 2 & n[0] ? r.return : n[0] ? r.throw || ((s = r.return) && s.call(r), 0) : r.next) && !(s = s.call(r, n[1])).done) return s;\n              switch (r = 0, s && (n = [2 & n[0], s.value]), n[0]) {\n                case 0:\n                case 1:\n                  s = n;\n                  break;\n                case 4:\n                  return a.label++, {\n                    value: n[1],\n                    done: !1\n                  };\n                case 5:\n                  a.label++, r = n[1], n = [0];\n                  continue;\n                case 7:\n                  n = a.ops.pop(), a.trys.pop();\n                  continue;\n                default:\n                  if (s = a.trys, !(s = s.length > 0 && s[s.length - 1]) && (6 === n[0] || 2 === n[0])) {\n                    a = 0;\n                    continue;\n                  }\n                  if (3 === n[0] && (!s || n[1] > s[0] && n[1] < s[3])) {\n                    a.label = n[1];\n                    break;\n                  }\n                  if (6 === n[0] && a.label < s[1]) {\n                    a.label = s[1], s = n;\n                    break;\n                  }\n                  if (s && a.label < s[2]) {\n                    a.label = s[2], a.ops.push(n);\n                    break;\n                  }\n                  s[2] && a.ops.pop(), a.trys.pop();\n                  continue;\n              }\n              n = e.call(t, a);\n            } catch (t) {\n              n = [6, t], r = 0;\n            } finally {\n              i = s = 0;\n            }\n            if (5 & n[0]) throw n[1];\n            return {\n              value: n[0] ? n[1] : void 0,\n              done: !0\n            };\n          }\n          var i,\n            r,\n            s,\n            c,\n            a = {\n              label: 0,\n              sent: function () {\n                if (1 & s[0]) throw s[1];\n                return s[1];\n              },\n              trys: [],\n              ops: []\n            };\n          return c = {\n            next: n(0),\n            throw: n(1),\n            return: n(2)\n          }, \"function\" == typeof Symbol && (c[Symbol.iterator] = function () {\n            return this;\n          }), c;\n        };\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.Timespan = e.CorrelationVector = e.fetchWithTimeout = e.calculateExpireTsInSec = e.calculateTtlInSec = e.toJson = void 0, e.toJson = o, e.calculateTtlInSec = i, e.calculateExpireTsInSec = r, e.fetchWithTimeout = s;\n      var u = function () {\n        function t(t) {\n          this.base = void 0 !== t ? t : this.createCorrelationVectorBase(), this.extension = 0;\n        }\n        return t.extend = function (e) {\n          return new t(e);\n        }, t.prototype.increase = function () {\n          this.extension++;\n        }, t.prototype.value = function () {\n          return \"\".concat(this.base, \".\").concat(this.extension);\n        }, t.prototype.createCorrelationVectorBase = function () {\n          for (var t = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0987654321/+\", e = \"AQgw\", n = \"\", o = 0; o < 21; o++) n += t.charAt(Math.floor(Math.random() * t.length));\n          return n += e.charAt(Math.floor(Math.random() * e.length));\n        }, t;\n      }();\n      e.CorrelationVector = u;\n      var h = function () {\n        function t() {\n          this.start = Date.now();\n        }\n        return Object.defineProperty(t.prototype, \"duration\", {\n          get: function () {\n            return Date.now() - this.start;\n          },\n          enumerable: !1,\n          configurable: !0\n        }), Object.defineProperty(t.prototype, \"startTime\", {\n          get: function () {\n            return this.start;\n          },\n          enumerable: !1,\n          configurable: !0\n        }), t.prototype.reset = function () {\n          this.start = Date.now();\n        }, t;\n      }();\n      e.Timespan = h;\n    }, function (t, e, n) {\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.TrouterManagerState = e.UserActivityEventReason = e.ServerState = void 0;\n      var o = n(3),\n        i = function () {\n          function t(t, e, n, o, i, r, s) {\n            this.connectionId = t, this.connectedClientId = e, this.domId = n, this.unsecureUrl = o, this.url = i, this.c2cUrlBase = r, this.expirationTsSec = s;\n          }\n          return t.prototype.getRemainingTtlInSec = function () {\n            return (0, o.calculateTtlInSec)(this.expirationTsSec);\n          }, t;\n        }();\n      e.ServerState = i;\n      var r;\n      !function (t) {\n        t[t.Unknown = 0] = \"Unknown\", t[t.Modified = 1] = \"Modified\", t[t.Snapshot = 2] = \"Snapshot\", t[t.Connected = 3] = \"Connected\";\n      }(r || (e.UserActivityEventReason = r = {}));\n      var s;\n      !function (t) {\n        t[t.Unknown = 0] = \"Unknown\", t[t.Connected = 2] = \"Connected\", t[t.Disconnected = 3] = \"Disconnected\", t[t.Switching = 9] = \"Switching\", t[t.TerminalError = 10] = \"TerminalError\";\n      }(s || (e.TrouterManagerState = s = {}));\n    }, function (t, e, n) {\n      function o(t, e) {\n        return \"skype\" === t && \"1\" !== i(null === e || void 0 === e ? void 0 : e.scae) ? \"v4a\" : \"v4c\";\n      }\n      function i(t) {\n        return \"string\" == typeof t ? t : \"number\" == typeof t ? t.toString() : void 0;\n      }\n      function r(t, e) {\n        return \"v4c-websocket-failure\" === (null === e || void 0 === e ? void 0 : e.kind) ? \"v4a\" : t;\n      }\n      function s(t) {\n        return Object.prototype.hasOwnProperty.call(t, \"connectparams\");\n      }\n      function c(t, e) {\n        return \"v4a\" === e ? t.replace(/\\/v4\\/c\\b/, \"/v4/a\").replace(\"wss://\", \"https://\").replace(\"ws://\", \"http://\") : t.replace(/\\/v4\\/a\\b/, \"/v4/c\").replace(\"https://\", \"wss://\").replace(\"http://\", \"ws://\");\n      }\n      function a(t) {\n        if (void 0 !== t) return d(d({}, t), {\n          reconnectUrl: void 0,\n          serviceUrl: void 0\n        });\n      }\n      function u(t) {\n        return \"string\" == typeof t ? parseInt(t, 10) : t;\n      }\n      function h(t) {\n        if (\"redirect\" === (null === t || void 0 === t ? void 0 : t.kind) && void 0 !== t.host) {\n          var e = t.host;\n          return e.endsWith(\"/\") && (e = e.substring(0, e.length - 1)), e.endsWith(\"/v4/c\") || e.endsWith(\"/v4/a\") || (e += \"/v4/c\"), e;\n        }\n      }\n      var d = this && this.__assign || function () {\n        return d = Object.assign || function (t) {\n          for (var e, n = 1, o = arguments.length; n < o; n++) {\n            e = arguments[n];\n            for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);\n          }\n          return t;\n        }, d.apply(this, arguments);\n      };\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.redirectUrlIfPresent = e.ensureNumber = e.reconnectParamsWithoutUrls = e.adaptUrl = e.isV4ConnectEvent = e.usedProtocolAfterFallback = e.usedProtocol = void 0, e.usedProtocol = o, e.usedProtocolAfterFallback = r, e.isV4ConnectEvent = s, e.adaptUrl = c, e.reconnectParamsWithoutUrls = a, e.ensureNumber = u, e.redirectUrlIfPresent = h;\n    }, function (t, e, n) {\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.TrouterFsm = e.State = void 0;\n      var o,\n        i = n(4),\n        r = n(0),\n        s = n(5);\n      !function (t) {\n        t[t.Initial = 0] = \"Initial\", t[t.RetrievingToken = 1] = \"RetrievingToken\", t[t.Allocating = 2] = \"Allocating\", t[t.Handshaking = 3] = \"Handshaking\", t[t.Connecting = 4] = \"Connecting\", t[t.AnonymousConnecting = 5] = \"AnonymousConnecting\", t[t.WebsocketAuthenticating = 6] = \"WebsocketAuthenticating\", t[t.Connected = 7] = \"Connected\", t[t.Unregistering = 8] = \"Unregistering\", t[t.TerminalError = 9] = \"TerminalError\";\n      }(o || (e.State = o = {}));\n      var c;\n      !function (t) {\n        t[t.Initial = 0] = \"Initial\", t[t.Registering = 1] = \"Registering\", t[t.RegisteringButResendPending = 2] = \"RegisteringButResendPending\", t[t.Retrying = 3] = \"Retrying\", t[t.Registered = 4] = \"Registered\", t[t.RegistrationDisabled = 5] = \"RegistrationDisabled\";\n      }(c || (c = {}));\n      var a = function () {\n        function t(t, e, n, i) {\n          this.worker = e, this.incallModeEnabled = n, this.protocolSelector = i, this.state = o.Initial, this.autoReconnect = !0, this.logger = new r.Logger(\"ConnectionFsm\", t), this.registrationState = c.Initial;\n        }\n        return t.prototype.getState = function () {\n          return this.state;\n        }, t.prototype.isActive = function () {\n          return this.state === o.Allocating || this.state === o.Connected || this.state === o.Handshaking || this.state === o.Connecting || this.state === o.RetrievingToken || this.state === o.AnonymousConnecting || this.state === o.WebsocketAuthenticating;\n        }, t.prototype.isConnecting = function () {\n          return this.state === o.Allocating || this.state === o.Handshaking || this.state === o.Connecting || this.state === o.AnonymousConnecting;\n        }, t.prototype.start = function () {\n          return this.state === o.Initial ? (this.setState(o.RetrievingToken), this.worker.getToken(!0, !1, void 0), !0) : (this.showIgnored(\"start\"), !1);\n        }, t.prototype.stop = function (t, e) {\n          t && (this.registrationState = c.Initial), this.worker.isIncallMode() && this.worker.exitIncallMode(), this.worker.resetTokenBackoff(), this.worker.cancelPendingRegistrationRequests(), this.worker.stopConnectionTimer(), this.worker.stopPingTimer(), this.worker.clearSentEventTimers(), this.worker.stopRegistrationTimer(), this.worker.stopSocketIo(), this.state === o.Connected && this.worker.sendDisconnectTelemetryEvent(\"connection stopped\"), this.registrationState !== c.Registered && this.registrationState !== c.Registering && this.registrationState !== c.RegisteringButResendPending || this.state === o.Unregistering ? e ? (this.setState(o.TerminalError), this.worker.dispatchTerminalError()) : (this.setState(o.Initial), this.worker.dispatchDisconnected()) : (this.registrationState = c.Initial, this.setState(o.Unregistering), this.worker.sendUnregisterRequest());\n        }, t.prototype.onTokenReceived = function (t, e, n) {\n          this.state === o.RetrievingToken ? \"v4c\" === (0, s.usedProtocolAfterFallback)(this.protocolSelector(t.tokenType, n), e) ? (this.setState(o.AnonymousConnecting), this.worker.startConnectionTimer(), this.worker.connectV4c(t, e)) : (this.setState(o.Allocating), this.worker.startConnectionTimer(), this.worker.sendAllocateRequest(t)) : this.showIgnored(\"onTokenReceived\");\n        }, t.prototype.checkConnection = function (t) {\n          t && this.onPingInterval();\n        }, t.prototype.onAllocationSucceed = function (t) {\n          return this.state === o.Allocating && this.registrationState === c.Registered && this.worker.dispatchUnregistered(), this.state === o.Allocating ? (this.setState(o.Handshaking), this.registrationState = c.Initial, this.worker.startSocketIo(t), !0) : (this.showIgnored(\"onAllocationSucceed\"), !1);\n        }, t.prototype.onAllocationFailed = function (t, e) {\n          this.state === o.Allocating ? this.cleanUpAndInitiateReconnect({\n            backoff: !0,\n            allowCachedToken: !t,\n            claimsChallenge: e\n          }) : this.showIgnored(\"onAllocationFailed\");\n        }, t.prototype.onV4cException = function () {\n          this.state !== o.AnonymousConnecting && this.state !== o.WebsocketAuthenticating || (this.logger.error(\"v4c exception, falling back to longpoll\"), this.cleanUpAndInitiateReconnect({\n            backoff: !0,\n            allowCachedToken: !0,\n            fallbackReason: {\n              kind: \"v4c-websocket-failure\"\n            }\n          }));\n        }, t.prototype.onConnectingTimeout = function () {\n          this.state === o.Allocating || this.state === o.Connecting || this.state === o.Handshaking || this.state === o.AnonymousConnecting || this.state === o.WebsocketAuthenticating ? this.cleanUpAndInitiateReconnect({\n            backoff: !1,\n            allowCachedToken: !0\n          }) : this.showIgnored(\"onConnectingTimeout\");\n        }, t.prototype.onConnecting = function () {\n          this.state === o.Handshaking ? this.setState(o.Connecting) : this.showIgnored(\"onConnecting\");\n        }, t.prototype.onSocketConnect = function (t) {\n          this.state === o.AnonymousConnecting ? (this.setState(o.WebsocketAuthenticating), this.worker.sendV4cAuthenticationEvent(t)) : this.showIgnored(\"onSocketConnect\");\n        }, t.prototype.onConnectingFailed = function () {\n          this.state === o.Connecting ? this.onConnectingTimeout() : this.state === o.Handshaking ? (this.logger.error(\"Unexpected error in Socket.io - no valid transports\"), this.onConnectingTimeout()) : this.state === o.AnonymousConnecting || this.state === o.WebsocketAuthenticating ? (this.logger.info(\"/v4/c falling back to longpoll\"), this.cleanUpAndInitiateReconnect({\n            backoff: !0,\n            allowCachedToken: !0,\n            fallbackReason: {\n              kind: \"v4c-websocket-failure\"\n            }\n          })) : this.showIgnored(\"onConnectingFailed\");\n        }, t.prototype.onSocketDisconnect = function (t) {\n          this.state === o.Handshaking || this.state === o.Connected || this.state === o.WebsocketAuthenticating ? (this.state === o.Connected && this.worker.sendDisconnectTelemetryEvent(null === t || void 0 === t ? void 0 : t.toTelemetryString()), this.state === o.WebsocketAuthenticating && this.worker.countDisconnectBeforeConnectionEstablishment(), \"skypetoken-deprecated\" === (null === t || void 0 === t ? void 0 : t.reason) ? (this.logger.error(\"Skypetoken deprecated response, not retrying any further\"), this.onTerminalError()) : this.cleanUpAndInitiateReconnect({\n            backoff: this.state !== o.Connected && \"dup\" !== (null === t || void 0 === t ? void 0 : t.reason),\n            allowCachedToken: \"unauthorized\" !== (null === t || void 0 === t ? void 0 : t.reason),\n            claimsChallenge: null === t || void 0 === t ? void 0 : t.claims\n          })) : this.showIgnored(\"onSocketDisconnect\");\n        }, t.prototype.onTrouterConnected = function () {\n          this.state === o.Connecting || this.state === o.WebsocketAuthenticating ? (this.setState(o.Connected), this.worker.resetTokenBackoff(), this.worker.stopConnectionTimer(), this.worker.sendUserActivityState(i.UserActivityEventReason.Connected, !0), this.worker.startPingTimer(), this.worker.dispatchConnected(), this.worker.shouldSkipRegistration() ? (this.registrationState = c.RegistrationDisabled, this.worker.dispatchRegistered()) : (this.registrationState = c.Registering, this.worker.sendRegisterRequest())) : this.showIgnored(\"onTrouterConnected\");\n        }, t.prototype.onReconnectRequired = function (t, e, n) {\n          this.state === o.AnonymousConnecting || this.state === o.WebsocketAuthenticating ? void 0 === n || \"host\" !== n.target || void 0 === n.url || \"\" === n.url ? (this.logger.error(\"unexpected reconnect arguments: \".concat(null === n || void 0 === n ? void 0 : n.target, \" \").concat(null === n || void 0 === n ? void 0 : n.url, \", reconnecting without cache\")), this.cleanUpAndInitiateReconnect({\n            backoff: !0,\n            allowCachedToken: !0,\n            fallbackReason: {\n              kind: \"redirect-no-host\"\n            }\n          })) : this.cleanUpAndInitiateReconnect({\n            backoff: !0,\n            allowCachedToken: !0,\n            fallbackReason: {\n              kind: \"redirect\",\n              host: n.url\n            }\n          }) : this.worker.dispatchReconnectIsRequired(t, e);\n        }, t.prototype.disableAutoReconnect = function () {\n          this.autoReconnect = !1;\n        }, t.prototype.onDownstreamRequest = function (t) {\n          this.state === o.Connected ? (this.switchToIncallModeIfEnabled(), this.worker.dispatchDownstreamRequest(t)) : this.showIgnored(\"onDownstreamRequest\");\n        }, t.prototype.onTrouterMessageLost = function (t) {\n          this.state === o.Connected ? this.worker.dispatchTrouterMessageLost(t) : this.showIgnored(\"onTrouterMessageLost\");\n        }, t.prototype.onPingInterval = function () {\n          this.state === o.Connected ? this.worker.sendPingRequest() : this.showIgnored(\"onPingInterval\");\n        }, t.prototype.onPingResponseTimeout = function () {\n          this.onMissedResponse(\"onPingResponseTimeout\");\n        }, t.prototype.onPingResponse = function () {\n          this.state === o.Connected || this.showIgnored(\"onPingResponse\");\n        }, t.prototype.onRegistrationFailed = function () {\n          this.state === o.Connected && this.registrationState === c.Registering ? (this.worker.dispatchUnregistered(), this.registrationState = c.Retrying, this.worker.startRegistrationRetryTimer()) : this.state === o.Connected && this.registrationState === c.RegisteringButResendPending ? (this.registrationState = c.Registering, this.worker.sendRegisterRequest()) : this.showIgnored(\"onRegistrationFailed\");\n        }, t.prototype.onRetryRegistration = function () {\n          this.state === o.Connected && this.registrationState === c.Retrying ? (this.registrationState = c.Registering, this.worker.sendRegisterRequest()) : this.showIgnored(\"onRetryRegistration\");\n        }, t.prototype.onRegistrationSucceeded = function () {\n          this.state === o.Connected && this.registrationState === c.Registering ? (this.registrationState = c.Registered, this.worker.dispatchRegistered(), this.worker.startRegistrationTimer()) : this.state === o.Connected && this.registrationState === c.RegisteringButResendPending ? (this.registrationState = c.Registering, this.worker.sendRegisterRequest()) : this.showIgnored(\"onRegistrationSucceeded\");\n        }, t.prototype.onRegistrationNearExpiry = function () {\n          this.state === o.Connected && this.registrationState === c.Registered ? (this.registrationState = c.Registering, this.worker.sendRegisterRequest()) : this.showIgnored(\"onRegistrationNearExpiry\");\n        }, t.prototype.onUnregistrationDone = function () {\n          this.state === o.Unregistering ? (this.setState(o.Initial), this.worker.dispatchUnregistered(), this.worker.dispatchDisconnected()) : this.showIgnored(\"onUnregistrationDone\");\n        }, t.prototype.onResendRegistration = function () {\n          this.worker.dispatchUnregistered(), this.state === o.Connected && this.registrationState === c.Registered ? (this.registrationState = c.Registering, this.worker.stopRegistrationTimer(), this.worker.sendRegisterRequest()) : this.state === o.Connected && this.registrationState === c.Registering && (this.registrationState = c.RegisteringButResendPending);\n        }, t.prototype.onIncallModeTimer = function () {\n          this.worker.exitIncallMode(), this.state === o.Connected ? (this.worker.stopPingTimer(), this.worker.startPingTimer()) : this.showIgnored(\"onIncallModeTimer\");\n        }, t.prototype.onSetNewUserActivityState = function () {\n          this.worker.sendUserActivityState(i.UserActivityEventReason.Modified, this.state === o.Connected);\n        }, t.prototype.onActivityStateResponseTimeout = function () {\n          this.onMissedResponse(\"onActivityStateResponseTimeout\");\n        }, t.prototype.forceReconnect = function (t) {\n          this.state === o.Connected && this.worker.sendDisconnectTelemetryEvent(t), this.worker.resetTokenBackoff(), this.cleanUpAndInitiateReconnect({\n            backoff: !1,\n            allowCachedToken: !0\n          });\n        }, t.prototype.onTerminalError = function () {\n          this.logger.error(\"Cannot proceed, reached terminal state. Switching from state '\".concat(o[this.state], \"' to \").concat(o[o.TerminalError])), this.stop(!0, !0), this.setState(o.TerminalError);\n        }, t.prototype.onMissedResponse = function (t) {\n          this.state === o.Connected ? (this.worker.sendDisconnectTelemetryEvent(t), this.cleanUpAndInitiateReconnect({\n            backoff: !1,\n            allowCachedToken: !0\n          })) : this.showIgnored(t);\n        }, t.prototype.showIgnored = function (t) {\n          this.logger.debug(\"Ignoring event '\".concat(t, \"' in state '\").concat(o[this.state], \"'\"));\n        }, t.prototype.setState = function (t) {\n          if (this.logger.info(\"Switching from state '\".concat(o[this.state], \"' to state '\").concat(o[t], \"'\")), this.state === t) return void this.logger.error(\"Attempt to switch to the current state '\".concat(o[t], \"'\"));\n          this.state = t;\n        }, t.prototype.switchToIncallModeIfEnabled = function () {\n          this.incallModeEnabled && (this.worker.isIncallMode() || (this.worker.enterIncallMode(), this.worker.stopPingTimer(), this.worker.startPingTimer()), this.worker.restartIncallModeTimer());\n        }, t.prototype.cleanUpAndInitiateReconnect = function (t) {\n          if (!this.autoReconnect) return this.logger.info(\"Automatic reconnect is disabled, stopping this connection\"), void this.stop(!0);\n          this.worker.cancelPendingRegistrationRequests(), this.worker.stopConnectionTimer(), this.worker.stopPingTimer(), this.worker.clearSentEventTimers(), this.worker.stopRegistrationTimer(), this.worker.stopSocketIo(), this.setState(o.RetrievingToken), this.worker.dispatchReconnecting(), this.worker.getToken(t.allowCachedToken, t.backoff, t.claimsChallenge, t.fallbackReason);\n        }, t;\n      }();\n      e.TrouterFsm = a;\n    }, function (t, e, n) {\n      function o(t, e) {\n        var n = e ? void 0 : {\n          \"X-MS-Migration\": \"True\"\n        };\n        switch (t.tokenType.toLowerCase()) {\n          case \"skype\":\n            return c({\n              \"X-Skypetoken\": t.token\n            }, n);\n          case \"aad\":\n          case \"cae\":\n            return c({\n              Authorization: \"Bearer \".concat(t.token)\n            }, n);\n          default:\n            throw new Error(\"unsupported token type: \".concat(t.tokenType));\n        }\n      }\n      function i(t) {\n        return void 0 !== t && null !== t && \"function\" == typeof t.toString ? t.toString() : \"[\".concat(typeof t, \"]\");\n      }\n      function r(t) {\n        return \"object\" == typeof t && null !== t && void 0 !== t.stack ? (0, l.toJson)(t.stack) : '\"(no error.stack)\"';\n      }\n      function s(t) {\n        return \"object\" == typeof t && null !== t && \"string\" == typeof t.message ? t.message : \"(no error.message)\";\n      }\n      var c = this && this.__assign || function () {\n          return c = Object.assign || function (t) {\n            for (var e, n = 1, o = arguments.length; n < o; n++) {\n              e = arguments[n];\n              for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);\n            }\n            return t;\n          }, c.apply(this, arguments);\n        },\n        a = this && this.__awaiter || function (t, e, n, o) {\n          function i(t) {\n            return t instanceof n ? t : new n(function (e) {\n              e(t);\n            });\n          }\n          return new (n || (n = Promise))(function (n, r) {\n            function s(t) {\n              try {\n                a(o.next(t));\n              } catch (t) {\n                r(t);\n              }\n            }\n            function c(t) {\n              try {\n                a(o.throw(t));\n              } catch (t) {\n                r(t);\n              }\n            }\n            function a(t) {\n              t.done ? n(t.value) : i(t.value).then(s, c);\n            }\n            a((o = o.apply(t, e || [])).next());\n          });\n        },\n        u = this && this.__generator || function (t, e) {\n          function n(t) {\n            return function (e) {\n              return o([t, e]);\n            };\n          }\n          function o(n) {\n            if (i) throw new TypeError(\"Generator is already executing.\");\n            for (; c && (c = 0, n[0] && (a = 0)), a;) try {\n              if (i = 1, r && (s = 2 & n[0] ? r.return : n[0] ? r.throw || ((s = r.return) && s.call(r), 0) : r.next) && !(s = s.call(r, n[1])).done) return s;\n              switch (r = 0, s && (n = [2 & n[0], s.value]), n[0]) {\n                case 0:\n                case 1:\n                  s = n;\n                  break;\n                case 4:\n                  return a.label++, {\n                    value: n[1],\n                    done: !1\n                  };\n                case 5:\n                  a.label++, r = n[1], n = [0];\n                  continue;\n                case 7:\n                  n = a.ops.pop(), a.trys.pop();\n                  continue;\n                default:\n                  if (s = a.trys, !(s = s.length > 0 && s[s.length - 1]) && (6 === n[0] || 2 === n[0])) {\n                    a = 0;\n                    continue;\n                  }\n                  if (3 === n[0] && (!s || n[1] > s[0] && n[1] < s[3])) {\n                    a.label = n[1];\n                    break;\n                  }\n                  if (6 === n[0] && a.label < s[1]) {\n                    a.label = s[1], s = n;\n                    break;\n                  }\n                  if (s && a.label < s[2]) {\n                    a.label = s[2], a.ops.push(n);\n                    break;\n                  }\n                  s[2] && a.ops.pop(), a.trys.pop();\n                  continue;\n              }\n              n = e.call(t, a);\n            } catch (t) {\n              n = [6, t], r = 0;\n            } finally {\n              i = s = 0;\n            }\n            if (5 & n[0]) throw n[1];\n            return {\n              value: n[0] ? n[1] : void 0,\n              done: !0\n            };\n          }\n          var i,\n            r,\n            s,\n            c,\n            a = {\n              label: 0,\n              sent: function () {\n                if (1 & s[0]) throw s[1];\n                return s[1];\n              },\n              trys: [],\n              ops: []\n            };\n          return c = {\n            next: n(0),\n            throw: n(1),\n            return: n(2)\n          }, \"function\" == typeof Symbol && (c[Symbol.iterator] = function () {\n            return this;\n          }), c;\n        };\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.TrouterConnection = e.ReconnectReason = void 0;\n      var h,\n        d = n(21),\n        l = n(3),\n        p = n(15),\n        g = n(1),\n        f = n(16),\n        v = n(17),\n        m = n(2),\n        y = n(4),\n        T = n(0),\n        S = n(5),\n        k = n(6),\n        w = n(12),\n        b = function () {\n          function t() {\n            this.cv = g.CLIENT_VERSION, this.ua = \"\", this.hr = \"\", this.v = \"\";\n          }\n          return t;\n        }(),\n        R = function () {\n          function t() {\n            this[\"force new connection\"] = !0, this.reconnect = !1, this.query = \"\", this.ackTimeoutMs = 5e3;\n          }\n          return t.prototype.rewriteUrlForProxy = function (t) {\n            return t;\n          }, t;\n        }(),\n        C = \"MS-CV\",\n        E = function () {\n          function t(t, e) {\n            this.logger = e, this.cvCounter = 0;\n            var n = JSON.parse(t);\n            this.startTS = this.safeJsonNumber(n, \"startTS\", 0), this.url = this.safeJsonString(n, \"url\", \"\"), this.shortUrl = this.safeJsonString(n, \"shortUrl\", \"\"), this.body = this.safeJsonString(n, \"body\", \"\"), this.headers = this.safeJsonRecord(n, \"headers\", {}), this.id = this.safeJsonNumber(n, \"id\", -1), this.method = this.safeJsonString(n, \"method\", \"\"), this.replied = !1, this.timedout = !1, this.receivedCv = this.headers[C], this.updateCvHeader();\n          }\n          return Object.defineProperty(t.prototype, \"correlationVector\", {\n            get: function () {\n              return this.receivedCv ? \"\".concat(this.receivedCv, \".\").concat(this.cvCounter) : \"\";\n            },\n            enumerable: !1,\n            configurable: !0\n          }), t.prototype.on = function (t, e) {\n            \"data\" === t ? this.dataCallback = e : \"end\" === t && (\"function\" == typeof this.dataCallback && this.dataCallback(this.body), e());\n          }, t.prototype.incrementCorrelationVector = function () {\n            ++this.cvCounter, this.updateCvHeader();\n          }, t.prototype.updateCvHeader = function () {\n            var t = this.correlationVector;\n            t && (this.headers[C] = t);\n          }, t.prototype.safeJsonNumber = function (t, e, n) {\n            var o;\n            if (null !== t && void 0 !== t && Object.prototype.hasOwnProperty.call(t, e)) {\n              var i = t;\n              if (\"number\" == typeof i[e]) return i[e];\n              if (\"string\" == typeof i[e]) return parseFloat(i[e]);\n              null === (o = this.logger) || void 0 === o || o.warn(\"unexpected type of '\".concat(e, \"': \").concat(typeof i[e]));\n            }\n            return n;\n          }, t.prototype.safeJsonString = function (t, e, n) {\n            var o;\n            if (null !== t && void 0 !== t && Object.prototype.hasOwnProperty.call(t, e)) {\n              var i = t;\n              if (\"string\" == typeof i[e]) return i[e];\n              null === (o = this.logger) || void 0 === o || o.warn(\"unexpected type of '\".concat(e, \"': \").concat(typeof i[e]));\n            }\n            return n;\n          }, t.prototype.safeJsonRecord = function (t, e, n) {\n            var o;\n            if (null !== t && void 0 !== t && Object.prototype.hasOwnProperty.call(t, e)) {\n              var i = t;\n              if (\"object\" == typeof i[e]) return i[e];\n              null === (o = this.logger) || void 0 === o || o.warn(\"unexpected type of '\".concat(e, \"': \").concat(typeof i[e]));\n            }\n            return n;\n          }, t;\n        }(),\n        I = function () {\n          function t(t, e, n) {\n            this.request = t, this.responseData = e, this.sendResponse = n;\n          }\n          return t.prototype.writeHead = function (t, e) {\n            this.responseData.status = t, this.responseData.headers = e;\n          }, t.prototype.write = function (t) {\n            this.responseData.body += t;\n          }, t.prototype.end = function (t) {\n            return t && (this.responseData.body += t), this.sendResponse(this.request, this.responseData);\n          }, t;\n        }(),\n        A = function () {\n          function t(t) {\n            this.name = t, this.args = {}, this.timeoutTimerId = 0;\n          }\n          return t;\n        }();\n      !function (t) {\n        t[t.Configuration = 0] = \"Configuration\", t[t.ServerInitiated = 1] = \"ServerInitiated\";\n      }(h || (e.ReconnectReason = h = {}));\n      var U = function () {\n        function t(t, e, n, o, i, r, s, c) {\n          var a,\n            u = this;\n          this.options = e, this.manager = n, this.tokenProvider = o, this.usingLegacyTokenApi = i, this.protocolSelector = s, this.audienceSubscriptionState = c, this.WEBSOCKET_TRANSPORT_NAME = \"websocket\", this.XHR_POLLING_TRANSPORT_NAME = \"xhr-polling\", this.AUDIENCE_SUBSCRIPTION_RESULT_ERROR = \"Error\", this.AUDIENCE_SUBSCRIPTION_RESULT_UNSUBSCRIBED = \"Unsubscribed\", this.AUDIENCE_SUBSCRIPTION_RESULT_TIMEOUT = \"Timeout\", this.AUDIENCE_SUBSCRIPTION_RESULT_BAD_REQUEST = \"BadRequest\", this.AUDIENCE_SUBSCRIPTION_STATE_QUERY_PARAM_REGEX = /&audienceSubscriptionState=[^&]*|^audienceSubscriptionState=[^&]*&?/, this.connectionId = \"\", this.inIncallMode = !1, this.connectionAttempt = 0, this.connectedClientId = \"\", this.isNavigatorOnline = !0, this.onNavigatorOnlineStatusUpdateBound = this.onNavigatorOnlineStatusUpdate.bind(this), this.c2cUrlBase = \"\", this.connectingErrorsInRow = 0, this.unauthorizedErrorCount = 0, this.pendingSentEventTimers = {}, this.lastDisconnectReason = \"\", this.UNKNOWN_TRANSPORT = \"unknown_transport\", this.connectingErrorsThreshold = 3, this.pendingAudienceSubscription = void 0, this.logger = new T.Logger(\"Connection\", t), this.timeoutOptions = this.options.timeoutOptions, this.tokenBackoff = new v.ExponentialBackoff(this.logger, this.timeoutOptions.maxBackoffMs), this.clientID = Date.now(), \"undefined\" != typeof window && window.location && (this.domId = window.location.hostname);\n          var h = new b();\n          h.cv = g.CLIENT_VERSION, h.ua = \"\", (null === (a = this.options) || void 0 === a ? void 0 : a.clientInfo) && (h.ua = this.safeString(this.options.clientInfo.ua), h.v = this.safeString(this.options.clientInfo.v)), this.clientInfo = h, this.connectionTracker = new p.ConnectionTracker(t, this.clientID, this.clientInfo, function () {\n            return u.getServerState();\n          }, this.options.endpointId, this.options.clientCorrelationID, this.options.environment), this.applyConnectionTrackerOptions(e);\n          var l = this.options.incallModeTimeoutMs > 0;\n          if (this.fsm = new k.TrouterFsm(t, this, l, this.protocolSelector), e.registration) {\n            var f = {\n              registrarUrl: e.registration.registrarUrl,\n              proxyUrlRewrite: e.rewriteUrlForProxy,\n              registrationId: e.registration.registrationId,\n              requestTimeoutMs: e.timeoutOptions.fetchTimeoutMs,\n              initialRetryDelayMs: 1e3,\n              maxRetryDelayMs: e.timeoutOptions.maxBackoffMs,\n              usingLegacyTokenApi: this.usingLegacyTokenApi,\n              maxRetriesForGetToken: e.retryLimitOnTokenFetch,\n              extraRegistrationHeaders: e.extraConnectionHeaders\n            };\n            this.registrarClient = (0, d.createRegistrarClient)(t, this.tokenProvider, f);\n          }\n          this.userActivityState = r;\n        }\n        return t.prototype.start = function (t) {\n          this.logger.info(\"Starting\"), this.reconnectParams = t, \"undefined\" != typeof window && window.navigator && window.addEventListener ? (this.isNavigatorOnline = window.navigator.onLine, window.addEventListener(\"online\", this.onNavigatorOnlineStatusUpdateBound), window.addEventListener(\"offline\", this.onNavigatorOnlineStatusUpdateBound), this.logger.debug(\"Registered for browser online notifications - current state: \".concat(this.isNavigatorOnline))) : this.isNavigatorOnline = !0, this.fsm.start();\n        }, t.prototype.stop = function (t) {\n          this.logger.info(\"Stopping\"), \"undefined\" != typeof window && window.navigator && (window.removeEventListener(\"online\", this.onNavigatorOnlineStatusUpdateBound), window.removeEventListener(\"offline\", this.onNavigatorOnlineStatusUpdateBound)), this.fsm.stop(t), this.connectionTracker.close();\n        }, t.prototype.configure = function (t) {\n          var e = this.options.trouterUrl !== t.trouterUrl;\n          this.options = t, this.applyConnectionTrackerOptions(t), e && (this.logger.info(\"Configuration changed. Reconnection required.\"), this.fsm.onReconnectRequired(!1, h.Configuration));\n        }, t.prototype.checkConnection = function (t) {\n          this.logger.info(\"checkConnection called with \".concat(t)), this.fsm.checkConnection(t), t && this.connectionTracker.sendTelemetry(p.ClientEventName.CheckConnection, {\n            disconnectDetected: t\n          }, []);\n        }, t.prototype.disableRegistrationsAndAutoReconnect = function () {\n          this.stopRegistrationTimer(), this.cancelPendingRegistrationRequests(), this.fsm.disableAutoReconnect();\n        }, t.prototype.getServerState = function () {\n          return new y.ServerState(this.connectionId, this.connectedClientId, this.domId ? this.domId : \"\", this.allocateResult ? this.allocateResult.url : \"\", this.allocateResult ? this.allocateResult.surl : \"\", this.c2cUrlBase, this.connectionExpireTimestampInSecs);\n        }, t.prototype.getState = function () {\n          return this.fsm.getState();\n        }, t.prototype.getToken = function (t, e, n, o, i) {\n          var r = this;\n          void 0 === i && (i = 0), this.logger.info(\"Getting token \".concat(e ? \"with backoff\" : \"without backoff\"));\n          var s = function () {\n            r.connectionTracker.trackStart(\"token\");\n            var e = {\n              needFresh: !t,\n              wwwAuthenticateHeader: n,\n              supportedTokenTypes: g.SUPPORTED_TOKEN_TYPES,\n              purpose: \"trouter\"\n            };\n            r.logger.info(\"Requesting token: needFresh=\".concat(e.needFresh, \" \") + \"types=[\".concat(g.SUPPORTED_TOKEN_TYPES, \"], \") + \"wwwAuthenticateHeader is \".concat(e.wwwAuthenticateHeader ? \"non empty\" : \"empty\")), r.tokenProvider(e).then(function (t) {\n              r.logger.debug(\"\".concat(t.tokenType, \" token is received\")), r.connectionTracker.trackEnd(\"token\"), r.fsm.onTokenReceived(t, o, r.reconnectParams);\n            }).catch(function (e) {\n              var s = (0, l.toJson)(e.stack);\n              if (r.logger.error(\"Getting token failed, will retry after timeout. Error: \".concat(s)), r.connectionTracker.trackError(\"token\", s), !r.canRetryTokenFetchRequest(i + r.unauthorizedErrorCount)) {\n                return r.connectionTracker.trackError(\"token\", \"getToken retry limit hit, reached terminal error state\"), r.resetTokenBackoff(), void r.fsm.onTerminalError();\n              }\n              r.getToken(t, !0, n, o, i + 1);\n            });\n          };\n          e ? this.tokenBackoff.backoff(\"getting token\", s) : (this.resetTokenBackoff(), s());\n        }, t.prototype.startConnectionTimer = function () {\n          var t = this;\n          this.stopConnectionTimer(), this.logger.debug(\"Starting connection timeout for \".concat(this.timeoutOptions.connectionTimeoutMs, \" ms\")), this.connectionTimeoutId = setTimeout(function () {\n            t.logger.info(\"Connection timeout is fired\"), t.fsm.onConnectingTimeout();\n          }, this.timeoutOptions.connectionTimeoutMs);\n        }, t.prototype.stopConnectionTimer = function () {\n          this.connectionTimeoutId && (this.logger.debug(\"Stopping connection timeout\"), clearTimeout(this.connectionTimeoutId), this.connectionTimeoutId = void 0);\n        }, t.prototype.startPingTimer = function () {\n          var t = this;\n          \"websocket\" === this.transportTypeName ? (this.logger.debug(\"Starting ping timeout for \".concat(this.timeoutOptions.pingTimeoutMs, \" ms\")), this.pingTimerId = setInterval(function () {\n            t.logger.info(\"Ping interval fired\"), t.fsm.onPingInterval();\n          }, this.timeoutOptions.pingTimeoutMs)) : this.logger.debug(\"Not starting ping for transport \".concat(this.transportTypeName));\n        }, t.prototype.stopPingTimer = function () {\n          this.pingTimerId && (this.logger.debug(\"Stopping ping timeout\"), this.clearPingResponseTimer(), clearInterval(this.pingTimerId), this.pingTimerId = void 0);\n        }, t.prototype.shouldSkipRegistration = function () {\n          return void 0 === this.options.registration;\n        }, t.prototype.hasCustomRegistrationTtl = function () {\n          var t, e;\n          return void 0 !== (null === (t = this.options.registration) || void 0 === t ? void 0 : t.registrarTtlSec) && 0 !== (null === (e = this.options.registration) || void 0 === e ? void 0 : e.registrarTtlSec);\n        }, t.prototype.startRegistrationTimer = function () {\n          var t = this;\n          this.stopRegistrationTimer();\n          var e = this.getRegistrationTtl(),\n            n = e[0],\n            o = e[1];\n          if (n <= 30 || !o) return this.logger.debug(\"Starting registration expiration timer (TTL \".concat(n, \" sec)\")), void (this.registrationTimerId = setTimeout(function () {\n            t.registrationTimerId = void 0, t.logger.warn(\"Registration expired but the connection is still alive. Should never happen\"), t.dispatchUnregistered();\n          }, 1e3 * n));\n          var i = n - 30;\n          this.logger.debug(\"Starting registration extension timer for \".concat(i, \" sec\")), this.registrationTimerId = setTimeout(function () {\n            t.logger.info(\"Registration extension timer fired\"), t.registrationTimerId = setTimeout(function () {\n              t.registrationTimerId = void 0, t.logger.debug(\"Registration extension did not happen in time\"), t.dispatchUnregistered();\n            }, 3e4), t.fsm.onRegistrationNearExpiry();\n          }, 1e3 * i);\n        }, t.prototype.startRegistrationRetryTimer = function () {\n          var t = this;\n          this.stopRegistrationTimer();\n          this.registrationTimerId = setTimeout(function () {\n            t.registrationTimerId = void 0, t.fsm.onRetryRegistration();\n          }, 123e3);\n        }, t.prototype.stopRegistrationTimer = function () {\n          this.registrationTimerId && (this.logger.debug(\"Stopping registration timeout\"), clearTimeout(this.registrationTimerId), this.registrationTimerId = void 0);\n        }, t.prototype.resendRegistration = function () {\n          if (!this.registrarClient) throw new Error(\"Trouter Client not configured to handle registrations\");\n          return this.fsm.onResendRegistration(), Promise.resolve();\n        }, t.prototype.buildSocketIoUrlParams = function (t, e) {\n          if (!this.allocateResult) throw new Error(\"Allocate result is undefined in buildSocketIoUrlParams()\");\n          for (var n = {}, o = this.allocateResult.connectparams, i = 0, r = Object.keys(o); i < r.length; i++) {\n            var s = r[i];\n            if (void 0 !== o[s]) {\n              var c = o[s];\n              \"string\" == typeof c || \"number\" == typeof c ? n[s] = c : this.logger.error(\"signatureData[\".concat(s, \"] has unsupported type \").concat(typeof c));\n            }\n          }\n          return n.v = \"v4\", n.tc = encodeURI((0, l.toJson)(this.clientInfo)), n.timeout = this.timeoutOptions.pingTimeoutMs / 1e3, n.auth = \"true\", this.options.endpointId && (n.epid = this.options.endpointId), t && (n.userActivity = encodeURI((0, l.toJson)(t))), e && (n.audienceSubscriptionState = encodeURIComponent((0, l.toJson)(e))), this.appendConnectedClientIds(this.buildQuery(n), !0);\n        }, t.prototype.startSocketIo = function (t) {\n          var e, n;\n          if (this.logger.debug(\"Starting socket io\"), this.connectionTracker.trackStart(\"connectSocket\"), !this.allocateResult) throw new Error(\"Allocate result is undefined in startSocketIo()\");\n          var i = this.options.ioOptions ? c({}, this.options.ioOptions) : new R(),\n            r = this.userActivityState.state !== m.UserActivityState.Unknown ? this.userActivityState.increaseCvAndGetEventObject() : void 0,\n            s = null === (e = this.audienceSubscriptionState) || void 0 === e ? void 0 : e.increaseCvAndGetEventObject();\n          if (i[\"force new connection\"] = !0, i.reconnect = !1, i.rewriteUrlForProxy = this.options.rewriteUrlForProxy, i.requestHeaders = c(c({}, this.options.extraConnectionHeaders), o(t, this.usingLegacyTokenApi)), i.query = this.buildSocketIoUrlParams(r, s), this.logger.info(\"connecting to \".concat(this.allocateResult.socketio, \"?\").concat(i.query)), this.stopSocketIo(), this.socket = (null !== (n = this.options.io) && void 0 !== n ? n : w).connect(this.allocateResult.socketio, i), void 0 === this.socket) throw new Error(\"Can't create Socket.io object\");\n          this.attachSocketIoHandlers(this.socket, t, r, s);\n        }, t.prototype.stopSocketIo = function () {\n          if (this.socket) {\n            this.logger.debug(\"clearing socket.io\");\n            try {\n              for (var t = 0, e = [\"connecting\", \"connect\", \"connect_failed\", \"close_during_connecting\", \"disconnect\", \"reconnect\", \"reconnect_failed\", \"reconnecting\", \"error\", \"message\", \"trouter.connected\", \"trouter.reconnect\", \"trouter.message_loss\"]; t < e.length; t++) {\n                var n = e[t];\n                this.socket.removeAllListeners(n);\n              }\n              this.socket.disconnect(), this.logger.debug(\"cleared socket\"), this.socket = void 0;\n            } catch (t) {\n              this.logger.error(\"exception in disconnecting previous socket. Error: \".concat(r(t)));\n            }\n          }\n        }, t.prototype.dispatchConnected = function () {\n          this.logger.info(\"dispatching connected\"), this.manager.onConnected(this);\n        }, t.prototype.dispatchRegistered = function () {\n          this.logger.info(\"dispatching registered\"), this.manager.onRegistered(this);\n        }, t.prototype.dispatchUnregistered = function () {\n          this.logger.info(\"dispatching unregistered\"), this.manager.onUnregistered(this);\n        }, t.prototype.dispatchDownstreamRequest = function (t) {\n          var e = this;\n          this.logger.debug(\"dispatching downstream request\");\n          try {\n            var n = new I(t, new p.ResponseData(t.id), function (t, n) {\n              return e.logger.debug(\"sending response to downstream\"), e.sendResponse(t, n);\n            });\n            this.manager.onDownstreamRequest(this, t, n);\n          } catch (t) {\n            this.logger.error(\"exception in socket.on message. Error : \".concat(r(t)));\n          }\n        }, t.prototype.dispatchReconnecting = function () {\n          this.logger.info(\"dispatching reconnecting\"), this.manager.onReconnecting(this);\n        }, t.prototype.dispatchReconnectIsRequired = function (t, e) {\n          this.logger.info(\"dispatching reconnect is required by server\"), this.manager.onReconnectIsRequired(this, t, e);\n        }, t.prototype.dispatchDisconnected = function () {\n          this.logger.info(\"dispatching disconnected\"), this.manager.onDisconnected(this);\n        }, t.prototype.dispatchTerminalError = function () {\n          this.logger.info(\"dispatching terminal error\"), this.manager.onTerminalError(this);\n        }, t.prototype.dispatchTrouterMessageLost = function (t) {\n          this.logger.info(\"dispatching trouter message lost\"), this.manager.onTrouterMessageLost(t);\n        }, t.prototype.countDisconnectBeforeConnectionEstablishment = function () {\n          this.logger.warn(\"counting disconnect before connection was fully established as a connection failure\"), ++this.connectingErrorsInRow >= this.connectingErrorsThreshold && this.resetReconnectParamsOnErrorThreshold();\n        }, t.prototype.sendProcessedDroppedIndicators = function (t) {\n          var e = this;\n          try {\n            this.logger.debug(\"emitting processed flow tags to the server\");\n            var n = new A(\"trouter.processed_message_loss\");\n            n.args = {\n              droppedIndicators: t\n            }, this.sendDownstreamEvent(n, function () {\n              e.logger.info(\"emitted processed flow tags to the server\");\n            });\n          } catch (t) {\n            var o = r(t);\n            this.logger.error(\"unable to send processed message loss event. Error: \".concat(o)), this.connectionTracker.trackError(\"trouter.processed_message_loss\", o, !1);\n          }\n        }, t.prototype.sendAllocateRequest = function (t) {\n          var e = this;\n          this.connectionAttempt++, this.connectionTracker.trackNewConnection();\n          var n,\n            i = this.options.trouterUrl,\n            r = this.reconnectParams,\n            s = \"string\" == typeof (null === r || void 0 === r ? void 0 : r.se) ? parseInt(r.se, 10) : \"number\" == typeof (null === r || void 0 === r ? void 0 : r.se) ? r.se : void 0;\n          s && s <= Date.now() + 36e5 && (this.logger.warn(\"Dropping expired cached connection parameters: \".concat(new Date(s))), this.reconnectParams = r = void 0), r && r.serviceUrl !== i && (this.logger.warn(\"Dropping cached connection parameters for a different environment (\".concat(r.serviceUrl, \", now \").concat(i, \")\")), this.reconnectParams = r = void 0), (null === r || void 0 === r ? void 0 : r.reconnectUrl) && (i = r.reconnectUrl), n = r ? c(c({}, r), {\n            serviceUrl: void 0,\n            reconnectUrl: void 0\n          }) : null, i = (0, S.adaptUrl)(i, \"v4a\"), i = this.appendCorrelationIds(i, !1), i = this.appendEndpointId(i, !1), n && (i += \"&\".concat(this.buildQuery(n)), n.v || (i += \"&v=\".concat(\"v4\"))), i = this.options.rewriteUrlForProxy(i);\n          var a = new Request(i, {\n            method: \"POST\",\n            mode: \"cors\",\n            headers: new Headers(c(c({\n              \"Content-Type\": \"text/plain\"\n            }, this.options.extraConnectionHeaders), o(t, this.usingLegacyTokenApi)))\n          });\n          this.logger.info(\"sendAllocateRequest: POST \".concat(i)), this.connectionTracker.trackStart(\"allocation\");\n          var u,\n            h = Date.now(),\n            d = -1,\n            p = !1;\n          (0, l.fetchWithTimeout)(a, this.timeoutOptions.fetchTimeoutMs).then(function (t) {\n            var n;\n            if (d = t.status, !t.ok) throw u = null !== (n = t.headers.get(\"www-authenticate\")) && void 0 !== n ? n : void 0, p = \"1\" === t.headers.get(\"x-trouter-skypetoken-deprecated\"), e.logger.warn(\"Allocation request got response status \".concat(t.status, \", www-authenticate header was \").concat(u ? \"not empty\" : \"empty\")), new Error(t.statusText);\n            var o = t.headers.get(\"content-type\");\n            if (!o || \"application/json\" !== o && !o.startsWith(\"application/json;\")) throw new Error(\"Content-type '\".concat(o, \"' is unexpected\"));\n            return e.connectionTracker.trackEnd(\"allocation\"), t.json();\n          }).then(function (n) {\n            e.unauthorizedErrorCount = 0, e.onAllocationResponse(n, t);\n          }).catch(function (t) {\n            e.connectingErrorsInRow++;\n            var n = \"\".concat(t).concat(d >= 0 ? \", status code \".concat(d) : \"\");\n            if (e.logger.error(\"\".concat(e.connectingErrorsInRow, \" failed connecting attempt(s) in a row. \").concat(n)), e.connectionTracker.trackError(\"allocation\", n), p) {\n              var o = \"Skypetoken deprecated response, not retrying any further\";\n              return e.logger.error(o), e.connectionTracker.trackError(\"allocation\", o), void e.fsm.onTerminalError();\n            }\n            if (401 === d && e.unauthorizedErrorCount++, !e.canRetryTokenFetchRequest(e.unauthorizedErrorCount)) {\n              var o = \"getToken retry limit hit, reached terminal error state\";\n              return e.connectionTracker.trackError(\"allocation\", o), void e.fsm.onTerminalError();\n            }\n            if (-1 !== d || e.isNavigatorOnline) {\n              if (e.reconnectParams && e.connectingErrorsInRow >= e.connectingErrorsThreshold) if (d >= 400 && d <= 599) e.resetReconnectParamsOnErrorThreshold();else if (e.reconnectParams.reconnectUrl && e.connectingErrorsInRow % 3 == 0) {\n                e.logger.warn(\"\".concat(e.connectingErrorsInRow, \" connection attempts, testing nominal service URL\"));\n                var i = Math.min(e.timeoutOptions.connectionTimeoutMs - (Date.now() - h) - 500, e.timeoutOptions.fetchTimeoutMs);\n                return void e.testNominalUrlConnectivity(i).then(function (t) {\n                  e.connectionTracker.trackProgress(\"nomcheck\", t ? \"ok\" : \"failed\"), t ? (e.logger.warn(\"Nominal service URL is reachable, erasing cached reconnect URL\"), e.reconnectParams && delete e.reconnectParams.reconnectUrl) : e.logger.warn(\"Nominal service URL is not reachable either, keeping cached reconnect URL\"), e.fsm.onAllocationFailed(!1, void 0);\n                }, function () {\n                  e.fsm.onAllocationFailed(!1, void 0);\n                });\n              }\n            } else e.logger.info(\"Expected failure, the browser says it is not online at the moment\");\n            e.fsm.onAllocationFailed(401 === d, u);\n          });\n        }, t.prototype.testNominalUrlConnectivity = function (t) {\n          var e = this;\n          if (t < 1e3) return this.logger.warn(\"There is no time left to reasonably perform the nominal service URL connectivity check (\".concat(t, \" ms), falling back to assuming that the connectivity is fine\")), Promise.resolve(!0);\n          var n;\n          try {\n            var o = new URL(this.options.trouterUrl);\n            o.pathname = \"/\", o.search = \"?\" + this.buildQuery({\n              check: Date.now(),\n              cor_id: encodeURIComponent(this.options.clientCorrelationID),\n              epid: encodeURIComponent(this.options.endpointId ? this.options.endpointId : \"\"),\n              tc: encodeURIComponent((0, l.toJson)(this.clientInfo))\n            }), n = new Request(this.options.rewriteUrlForProxy(o.toString()), {\n              method: \"GET\",\n              headers: {\n                Accept: \"text/plain\"\n              }\n            });\n          } catch (t) {\n            return this.logger.warn(\"Nominal service URL connectivity test request could not be created (\".concat(t, \"), falling back to assuming that the connectivity is fine\")), Promise.resolve(!0);\n          }\n          return (0, l.fetchWithTimeout)(n, t).then(function (t) {\n            if (200 !== t.status) throw new Error(\"Not 200 OK: \".concat(t.status, \" \").concat(t.statusText));\n            return t.text();\n          }).then(function (t) {\n            if (\"Trouter\" !== t) throw new Error('Not \"Trouter\": '.concat(t.substring(0, 16)).concat(t.length > 16 ? \"...\" : \"\"));\n            return !0;\n          }).catch(function (t) {\n            return e.logger.error(\"Nominal service URL connectivity test failed: \".concat(t)), !1;\n          });\n        }, t.prototype.sendPingRequest = function () {\n          var t = this;\n          if (this.socket && void 0 === this.pingResponseTimerId) try {\n            this.logger.debug(\"emitting ping event\");\n            var e = !1;\n            this.socket.emit(\"ping\", function () {\n              !0 !== e && t.onPingResponse();\n            }), this.pingResponseTimerId = setTimeout(function () {\n              t.logger.error(\"Ping response timeout is fired\"), e = !0, t.clearPingResponseTimer(), t.fsm.onPingResponseTimeout();\n            }, this.timeoutOptions.pongTimeoutMs);\n          } catch (t) {\n            var n = r(t);\n            this.logger.error(\"unable to send ping. Error: \".concat(n)), this.connectionTracker.trackError(\"ping\", n, !1);\n          }\n        }, t.prototype.connectV4c = function (t, e) {\n          var n,\n            o,\n            i,\n            r,\n            s,\n            a,\n            u = this.options.ioOptions ? c({}, this.options.ioOptions) : new R();\n          u[\"force new connection\"] = !0, u.reconnect = !1, (null === (n = this.reconnectParams) || void 0 === n ? void 0 : n.serviceUrl) && (0, S.adaptUrl)(this.reconnectParams.serviceUrl, \"v4c\") !== (0, S.adaptUrl)(this.options.trouterUrl, \"v4c\") && (this.logger.warn(\"Dropping cached connection parameters for a different environment (\".concat(this.reconnectParams.serviceUrl, \", now \").concat(this.options.trouterUrl, \")\")), this.reconnectParams = void 0);\n          var h = null !== (r = null !== (o = (0, S.redirectUrlIfPresent)(e)) && void 0 !== o ? o : \"redirect-no-host\" !== (null === e || void 0 === e ? void 0 : e.kind) ? null === (i = this.reconnectParams) || void 0 === i ? void 0 : i.reconnectUrl : void 0) && void 0 !== r ? r : this.options.trouterUrl,\n            d = (0, S.adaptUrl)(h, \"v4c\");\n          u[\"skipped handshake data\"] = {\n            timeout: 70,\n            websocketUrl: d\n          }, u.query = this.buildV4cUrlParams(), u.rewriteUrlForProxy = this.options.rewriteUrlForProxy;\n          try {\n            if (this.stopSocketIo(), this.transportTypeName = \"websocket\", this.socket = (null !== (s = this.options.io) && void 0 !== s ? s : w).connect(this.options.trouterUrl, u), void 0 === this.socket) throw new Error(\"failed to create Socket.io object\");\n            var l = null === (a = this.audienceSubscriptionState) || void 0 === a ? void 0 : a.increaseCvAndGetEventObject();\n            this.attachSocketIoHandlers(this.socket, t, void 0, l);\n          } catch (t) {\n            this.logger.error(\"\".concat(t)), this.connectionTracker.trackError(\"v4c\", \"\".concat(t)), this.fsm.onV4cException();\n          }\n        }, t.prototype.sendV4cAuthenticationEvent = function (t) {\n          var e,\n            n = {\n              headers: c(c({}, this.options.extraConnectionHeaders), o(t, this.usingLegacyTokenApi)),\n              connectparams: (0, S.reconnectParamsWithoutUrls)(this.reconnectParams)\n            };\n          null === (e = this.socket) || void 0 === e || e.emit(g.USER_AUTHENTICATE_EVENT_NAME, n);\n        }, t.prototype.setUserActivityState = function (t) {\n          var e = t.state !== this.userActivityState.state;\n          this.userActivityState = t, e ? (this.logger.info(\"Changing user activity state to '\".concat(t.toEventJSON(), \"'\")), this.fsm.onSetNewUserActivityState()) : (this.logger.debug(\"Not changing the same user activity state '\".concat(t.toEventJSON(), \"'\")), this.manager.onUserActivityStateAccepted(t.correlationVector.value()));\n        }, t.prototype.sendUserActivityState = function (t, e) {\n          this.userActivityState.state !== m.UserActivityState.Unknown && (\"websocket\" === this.transportTypeName && e ? t === y.UserActivityEventReason.Connected ? this.sendUserActivityStateMultiple(2) : this.sendUserActivityStateMultiple(1) : \"xhr-polling\" === this.transportTypeName && t === y.UserActivityEventReason.Modified && this.fsm.forceReconnect(\"user activity/force reconnect\"));\n        }, t.prototype.setAudienceSubscriptionsAsync = function (t, e) {\n          var n = this.audienceSubscriptionState;\n          if (this.audienceSubscriptionState = t, this.transportTypeName === this.WEBSOCKET_TRANSPORT_NAME) return this.setAudienceSubscriptionsInternalAsync(t.increaseCvAndGetEventObject(), e);\n          if (this.transportTypeName === this.XHR_POLLING_TRANSPORT_NAME) {\n            var o = this.setAudienceSubscriptionsLongpollInternalAsync(t.increaseCvAndGetEventObject(), e, n);\n            return this.fsm.forceReconnect(\"set audience subscription force reconnect\"), o;\n          }\n          throw new Error(\"set audience subscription executed on an unknown transport\");\n        }, t.prototype.setAudienceSubscriptionsUnsafeAsync = function (t) {\n          if (t) return this.transportTypeName === this.WEBSOCKET_TRANSPORT_NAME ? this.setAudienceSubscriptionsInternalAsync(t, 15e3) : void 0;\n        }, t.prototype.setAudienceSubscriptionsInternalAsync = function (t, e) {\n          return a(this, void 0, void 0, function () {\n            var n,\n              o,\n              i = this;\n            return u(this, function (r) {\n              switch (r.label) {\n                case 0:\n                  return this.logger.info(\"[WebSocket] Audience subscription set requested.\"), n = new A(\"audience.subscribe\"), n.args = t, [4, new Promise(function (o) {\n                    var r = !1,\n                      s = setTimeout(function () {\n                        return r = !0, o(i.buildAudienceSubscriptionsTimeoutResponse(t));\n                      }, e);\n                    i.sendDownstreamEvent(n, function (t, e) {\n                      r || (clearTimeout(s), i.logger.debug(\"[Websocket] Audience subscription response: \".concat(e)), i.pendingAudienceSubscription && i.onAudienceSubscriptionResult(e), o(e));\n                    });\n                  })];\n                case 1:\n                  return o = r.sent(), this.manager.onAudiencesSetResolved(o, t.cv), [2, o];\n              }\n            });\n          });\n        }, t.prototype.setAudienceSubscriptionsLongpollInternalAsync = function (t, e, n) {\n          var o;\n          return a(this, void 0, void 0, function () {\n            var i,\n              r,\n              s,\n              c,\n              a,\n              h,\n              d = this;\n            return u(this, function (u) {\n              switch (u.label) {\n                case 0:\n                  return this.logger.info(\"[XHR Polling] Audience subscription set requested.\"), this.pendingAudienceSubscription && (this.logger.error(\"Racing audience subscriptions occured. This situation resolves into undefined scenario and/or nasal demons.\"), clearTimeout(this.pendingAudienceSubscription.timeoutId)), 0 === t.audiences.length ? [2, this.handleAudienceUnsubscribeLongpoll(t.cv, n)] : [4, new Promise(function (n) {\n                    var o = setTimeout(function () {\n                      return d.pendingAudienceSubscription = void 0, n(d.buildAudienceSubscriptionsTimeoutResponse(t));\n                    }, e);\n                    d.pendingAudienceSubscription = {\n                      audienceSetResolve: n,\n                      timeoutId: o\n                    };\n                  })];\n                case 1:\n                  return i = u.sent(), this.manager.getState() === m.TrouterState.Unknown || this.transportTypeName === this.WEBSOCKET_TRANSPORT_NAME ? [2, i] : (r = i.responses[0], (null === r || void 0 === r ? void 0 : r.result.audienceSubscriptionState) === this.AUDIENCE_SUBSCRIPTION_RESULT_BAD_REQUEST ? (this.clearAudienceSubscriptionStateQueryParam(), this.manager.onAudiencesSetResolved(i, t.cv), [2, i]) : (s = i.responses.find(function (e) {\n                    return e.audienceId === t.audiences[0].id;\n                  }), (null === s || void 0 === s ? void 0 : s.result.audienceSubscriptionState) === this.AUDIENCE_SUBSCRIPTION_RESULT_ERROR ? (this.clearAudienceSubscriptionStateQueryParam(), this.manager.onAudiencesSetResolved(i, t.cv), [2, i]) : (c = (null === (o = null === n || void 0 === n ? void 0 : n.audienceSubscriptionModel.audienceSubscriptions[0]) || void 0 === o ? void 0 : o.id) !== (null === r || void 0 === r ? void 0 : r.audienceId), n && c && (a = this.mapToSyntheticAudienceSubscriptionResponses(n.audienceSubscriptionModel.audienceSubscriptions, this.AUDIENCE_SUBSCRIPTION_RESULT_UNSUBSCRIBED, 200), (h = i.responses).push.apply(h, a)), this.manager.onAudiencesSetResolved(i, t.cv), [2, i])));\n              }\n            });\n          });\n        }, t.prototype.clearAudienceSubscriptionStateQueryParam = function () {\n          var t, e, n;\n          (null === (n = null === (e = null === (t = this.socket) || void 0 === t ? void 0 : t.socket) || void 0 === e ? void 0 : e.options) || void 0 === n ? void 0 : n.query) && (this.socket.socket.options.query = this.socket.socket.options.query.replace(this.AUDIENCE_SUBSCRIPTION_STATE_QUERY_PARAM_REGEX, \"\"));\n        }, t.prototype.handleAudienceUnsubscribeLongpoll = function (t, e) {\n          var n;\n          this.audienceSubscriptionState = void 0;\n          var o = {\n            responses: []\n          };\n          if (e) {\n            var i = this.mapToSyntheticAudienceSubscriptionResponses(e.audienceSubscriptionModel.audienceSubscriptions, this.AUDIENCE_SUBSCRIPTION_RESULT_UNSUBSCRIBED, 200);\n            (n = o.responses).push.apply(n, i);\n          }\n          return this.manager.onAudiencesSetResolved(o, t), o;\n        }, t.prototype.buildAudienceSubscriptionsTimeoutResponse = function (t) {\n          return this.logger.error(\"Audience subscription attempt has timed out.\"), {\n            responses: this.mapToSyntheticAudienceSubscriptionResponses(t.audiences, this.AUDIENCE_SUBSCRIPTION_RESULT_TIMEOUT)\n          };\n        }, t.prototype.mapToSyntheticAudienceSubscriptionResponses = function (t, e, n) {\n          return t.map(function (t) {\n            return {\n              audienceId: t.id,\n              result: {\n                audienceSubscriptionState: e,\n                responseStatus: n\n              }\n            };\n          });\n        }, t.prototype.expediteBackoff = function () {\n          this.tokenBackoff.expediteIfPending();\n        }, t.prototype.sendRegisterRequest = function () {\n          var t = this;\n          if (!this.options.registration || !this.registrarClient) throw new Error(\"Internal error - options.registration is undefined\");\n          if (!this.allocateResult) throw new Error(\"Allocate result is undefined in sendRegisterRequest()\");\n          this.logger.info(\"sending register request\");\n          var e = new l.Timespan();\n          this.connectionTracker.trackStart(\"registration\");\n          var n = this.getRegistrationTtl()[0];\n          this.registrarClient.register({\n            appId: this.options.registration.pnhAppId,\n            aesKey: \"\",\n            languageId: \"en-US\",\n            platform: this.options.registration.platform,\n            templateKey: this.options.registration.pnhTemplateKey,\n            platformUIVersion: this.options.registration.platformUIVersion,\n            productContext: this.options.registration.productContext\n          }, {\n            TROUTER: [{\n              context: this.options.registration.context,\n              path: this.allocateResult.surl,\n              ttl: n\n            }]\n          }).then(function () {\n            t.logger.info(\"Register request successful\"), t.connectionTracker.trackEnd(\"registration\"), t.fsm.onRegistrationSucceeded(), t.connectionTracker.sendTelemetry(p.ClientEventName.Registration, {\n              duration: e.duration\n            }, []);\n          }).catch(function (n) {\n            t.logger.error(\"Register request failed. Error: \".concat(n)), t.connectionTracker.trackError(\"registration\", s(n)), t.fsm.onRegistrationFailed(), t.connectionTracker.sendTelemetry(p.ClientEventName.Registration, {\n              duration: e.duration\n            }, []);\n          });\n        }, t.prototype.sendUnregisterRequest = function () {\n          var t = this;\n          this.logger.info(\"sending unregister request\");\n          var e = new l.Timespan();\n          if (!this.options.registration || !this.registrarClient) throw new Error(\"Internal error - options.registration is undefined\");\n          this.connectionTracker.trackStart(\"unregistration\"), this.registrarClient.unregister().then(function () {\n            t.logger.info(\"Unregister request successful\"), t.connectionTracker.trackEnd(\"unregistration\"), t.fsm.onUnregistrationDone(), t.connectionTracker.sendTelemetry(p.ClientEventName.Unregistration, {\n              duration: e.duration\n            }, []);\n          }).catch(function (n) {\n            t.logger.error(\"Unregister request failed. Error: \".concat(n)), t.connectionTracker.trackError(\"unregistration\", s(n)), t.fsm.onUnregistrationDone(), t.connectionTracker.sendTelemetry(p.ClientEventName.Unregistration, {\n              duration: e.duration\n            }, []);\n          });\n        }, t.prototype.resetTokenBackoff = function () {\n          this.tokenBackoff.reset();\n        }, t.prototype.cancelPendingRegistrationRequests = function () {\n          this.registrarClient && this.registrarClient.cancelPendingRequests();\n        }, t.prototype.clearSentEventTimers = function () {\n          var t = Object.keys(this.pendingSentEventTimers);\n          if (t.length > 0) {\n            this.logger.debug(\"Clearing all pending downstream events related timers\");\n            for (var e = 0, n = t; e < n.length; e++) {\n              var o = n[e];\n              this.clearSentEventTimer(Number(o));\n            }\n          }\n        }, t.prototype.restartIncallModeTimer = function () {\n          var t = this;\n          this.clearIncallModeTimerId(), this.logger.debug(\"Restarting incall mode timer\"), this.incallModeTimerId = setTimeout(function () {\n            t.logger.info(\"Call mode timer fired\"), t.fsm.onIncallModeTimer();\n          }, this.options.incallModeTimeoutMs);\n        }, t.prototype.enterIncallMode = function () {\n          this.logger.info(\"Entering incall mode\"), this.timeoutOptions = this.options.incallTimeoutOptions, this.tokenBackoff.setMaxBackoffMs(this.timeoutOptions.maxBackoffMs), this.inIncallMode = !0;\n        }, t.prototype.exitIncallMode = function () {\n          this.logger.info(\"Exiting incall mode\"), this.clearIncallModeTimerId(), this.timeoutOptions = this.options.timeoutOptions, this.tokenBackoff.setMaxBackoffMs(this.timeoutOptions.maxBackoffMs), this.inIncallMode = !1;\n        }, t.prototype.isIncallMode = function () {\n          return this.inIncallMode;\n        }, t.prototype.sendDisconnectTelemetryEvent = function (t) {\n          var e = {\n            reason: t,\n            serverClosed: !this.fsm.isActive()\n          };\n          this.connectionTracker.trackDisconnected(e), this.connectionTracker.clearConnectedInfo();\n        }, t.prototype.forceReconnectDueToNoRegistration = function () {\n          this.fsm.forceReconnect(\"force reconnect due to no registration\");\n        }, t.prototype.resetReconnectParamsOnErrorThreshold = function () {\n          this.logger.warn(\"\".concat(this.connectingErrorsInRow, \" connection attempts, server-side failure: erasing cached connection parameters\")), this.reconnectParams = void 0;\n        }, t.prototype.onSocketConnecting = function (t) {\n          this.logger.info(\"onSocketConnecting(\".concat(t, \")\")), this.transportTypeName = t, this.connectionTracker.trackProgress(\"connecting\", this.transportTypeName), this.fsm.onConnecting();\n        }, t.prototype.onSocketConnect = function (t) {\n          this.logger.info(\"onSocketConnect\"), this.fsm.onSocketConnect(t);\n        }, t.prototype.onSocketConnectFailed = function (t) {\n          this.logger.error(\"onSocketConnectFailed\"), this.connectionTracker.trackError(\"connect_failed\", t, !0, this.transportTypeName ? this.transportTypeName : this.UNKNOWN_TRANSPORT), this.fsm.onConnectingFailed();\n        }, t.prototype.onSocketDisconnect = function (t) {\n          var e = this.connectionTracker.getSessionLength() || 0,\n            n = f.DisconnectReason.fromRawReason(t);\n          this.logger.error(\"onSocketDisconnect, reason: \".concat(n.reason)), \"dup\" === n.reason && \"dup\" === this.lastDisconnectReason && e < this.options.duplicateDisconnectThresholdMs && (this.logger.warn(\"Socket was closed by server as Duplicate for the second time in a row \" + \"after \".concat(e, \" ms which is below the threshold of \") + \"\".concat(this.options.duplicateDisconnectThresholdMs, \" ms. Resetting cached \") + \"connection parameters and making a new allocation.\"), this.reconnectParams = void 0), this.lastDisconnectReason = n.reason, this.fsm.onSocketDisconnect(n), this.connectionExpireTimestampInSecs = void 0;\n        }, t.prototype.onSocketReconnect = function () {\n          this.logger.error(\"onSocketReconnect\"), this.fsm.onTrouterConnected();\n        }, t.prototype.onSocketReconnectFailed = function (t) {\n          this.logger.error(\"onSocketReconnectFailed with '\".concat(t, \"'\")), this.fsm.onSocketDisconnect(f.DisconnectReason.fromSocketIoEventData(\"reconnecterror\", t));\n        }, t.prototype.onSocketReconnecting = function () {\n          this.logger.error(\"onSocketReconnecting\");\n        }, t.prototype.onSocketError = function (t) {\n          this.logger.error(\"onSocketError with '\".concat((0, l.toJson)(t), \"'\")), this.fsm.isConnecting() && ++this.connectingErrorsInRow >= this.connectingErrorsThreshold && this.resetReconnectParamsOnErrorThreshold(), this.connectionTracker.trackError(\"connectSocket\", i(t)), this.fsm.onSocketDisconnect(f.DisconnectReason.fromSocketIoEventData(\"socketerror\", t));\n        }, t.prototype.onSocketMessage = function (t) {\n          var e,\n            n = this;\n          this.logger.debug(\"onSocketMessage\");\n          var o;\n          try {\n            o = new E(t, this.logger);\n            var i = null === (e = o.headers) || void 0 === e ? void 0 : e[\"X-Microsoft-Skype-Chain-ID\"],\n              c = i ? \" Chain-Id \".concat(i) : \"\";\n            this.logger.info(\"Received request N \".concat(o.id).concat(c, \" CV \").concat(o.correlationVector, \" to '\").concat(o.url, \"'\")), o.startTS = Date.now(), o.url && this.urlPath && o.url.startsWith(this.urlPath) && (o.shortUrl = o.url.substring(this.urlPath.length));\n          } catch (t) {\n            var a = r(t);\n            return this.logger.error(\"unable to parse request. Error: \".concat(a)), this.connectionTracker.trackRequest(void 0, a), void this.connectionTracker.sendResponseError(\"unable to parse request, error: \".concat(t));\n          }\n          o.timeoutTimerId = setTimeout(function () {\n            if (!o.replied) {\n              n.logger.error(\"Request \".concat(o.id, \" timed out\"));\n              var t = new p.ResponseData(o.id);\n              t.status = 504, t.headers = {\n                \"Trouter-Responder\": \"ClientLib\"\n              }, n.sendResponse(o, t), o.timedout = !0;\n            }\n          }, this.timeoutOptions.requestTimeoutMs);\n          try {\n            this.connectionTracker.trackRequest(o), this.fsm.onDownstreamRequest(o);\n          } catch (t) {\n            this.logger.error(\"exception in socket.on message. Error: \".concat(r(t))), this.connectionTracker.sendResponseError(s(t), o, void 0);\n          }\n        }, t.prototype.onTrouterConnected = function (t, e, n) {\n          var o,\n            i,\n            r,\n            s,\n            a = this;\n          if ((0, S.isV4ConnectEvent)(t)) {\n            var u = t;\n            this.allocateResult = c(c({}, u), {\n              ttl: t.ttl.toString()\n            }), this.populateAndCacheReconnectParams(u, u.reconnectUrl), this.populateConnectionStateFields(u);\n          } else if (!this.allocateResult) return void this.logger.error(\"Invalid internal state - received onTrouterConnected while allocateResult is not set\");\n          this.connectingErrorsInRow = 0, this.logger.info(\"onTrouterConnected: \".concat(this.allocateResult.url)), \"xhr-polling\" === this.transportTypeName && e && this.manager.onUserActivityStateAccepted(e.cv), (null === (r = null === (i = null === (o = this.socket) || void 0 === o ? void 0 : o.socket) || void 0 === i ? void 0 : i.options) || void 0 === r ? void 0 : r.query) && (this.socket.socket.options.query += \"&connected=true\"), this.urlPath = this.allocateResult.url.replace(/https?:\\/\\/([A-z0-9\\:\\$\\-\\_\\.\\+\\!\\*\\\"\\(\\)\\,]*)\\//, \"/\");\n          var h = this.connectedUrl !== this.allocateResult.url;\n          this.connectedUrl = this.allocateResult.url, this.connectionExpireTimestampInSecs = (0, l.calculateExpireTsInSec)((0, S.ensureNumber)(t.ttl)), this.connectionTracker.trackEnd(\"connectSocket\"), this.connectionTracker.trackConnected(h, this.transportTypeName ? this.transportTypeName : this.UNKNOWN_TRANSPORT), null === (s = this.setAudienceSubscriptionsUnsafeAsync(n)) || void 0 === s || s.catch(function (t) {\n            return a.logger.error(\"Re-subscribe to audiences has failed with \".concat(t));\n          }), this.fsm.onTrouterConnected();\n        }, t.prototype.onTrouterReconnect = function (t) {\n          var e = t.target;\n          this.logger.info(\"onTrouterReconnect target: \".concat(e)), \"self\" === e ? this.fsm.onReconnectRequired(!0, h.ServerInitiated) : this.fsm.onReconnectRequired(!1, h.ServerInitiated, t);\n        }, t.prototype.onTrouterMessageLoss = function (t) {\n          this.logger.debug(\"onTrouterMessageLoss\"), this.fsm.onTrouterMessageLost(t.droppedIndicators);\n        }, t.prototype.onAudienceSubscriptionResult = function (t) {\n          this.logger.info(\"onAudienceSubscriptionResult\"), this.pendingAudienceSubscription && (clearTimeout(this.pendingAudienceSubscription.timeoutId), this.pendingAudienceSubscription.audienceSetResolve(t), this.pendingAudienceSubscription = void 0);\n        }, t.prototype.buildV4cUrlParams = function () {\n          var t = {};\n          return t.tc = encodeURI((0, l.toJson)(this.clientInfo)), t.timeout = Math.floor(this.timeoutOptions.pingTimeoutMs / 1e3), this.options.endpointId && (t.epid = this.options.endpointId), this.appendConnectedClientIds(this.buildQuery(t), !0);\n        }, t.prototype.attachSocketIoHandlers = function (t, e, n, o) {\n          var i = this;\n          t.on(\"connecting\", function (t) {\n            i.onSocketConnecting(t);\n          }), t.on(\"connect\", function () {\n            i.onSocketConnect(e);\n          }), t.on(\"connect_failed\", function (t) {\n            i.onSocketConnectFailed(t);\n          }), t.on(\"close_during_connecting\", function (t) {\n            i.onSocketConnectFailed(t);\n          }), t.on(\"disconnect\", function (t) {\n            i.onSocketDisconnect(t);\n          }), t.on(\"reconnect\", function () {\n            i.onSocketReconnect();\n          }), t.on(\"reconnect_failed\", function (t) {\n            i.onSocketReconnectFailed(t);\n          }), t.on(\"reconnecting\", function () {\n            i.onSocketReconnecting();\n          }), t.on(\"error\", function (t) {\n            i.onSocketError(t);\n          }), t.on(\"message\", function (t) {\n            i.onSocketMessage(t);\n          }), t.on(\"trouter.connected\", function (t) {\n            i.onTrouterConnected(t, n, o);\n          }), t.on(\"trouter.reconnect\", function (t) {\n            i.onTrouterReconnect(t);\n          }), t.on(\"trouter.message_loss\", function (t) {\n            i.onTrouterMessageLoss(t);\n          }), t.on(\"audience.subscriptionresult\", function (t, e) {\n            i.onAudienceSubscriptionResult(e);\n          });\n        }, t.prototype.onNavigatorOnlineStatusUpdate = function () {\n          var t = window.navigator.onLine;\n          this.logger.debug(\"Browser online status update - new state: \".concat(t, \", previously: \").concat(this.isNavigatorOnline)), t && !this.isNavigatorOnline ? (this.isNavigatorOnline = !0, this.tokenBackoff.expediteIfPending(), this.connectionTracker.trackProgress(\"browserNet\", \"online\")) : !t && this.isNavigatorOnline && (this.isNavigatorOnline = !1, this.connectionTracker.trackProgress(\"browserNet\", \"offline\"));\n        }, t.prototype.onAllocationResponse = function (t, e) {\n          this.logger.info(\"Received allocation response \".concat(JSON.stringify(t))), this.allocateResult = t, this.populateAndCacheReconnectParams(this.allocateResult, \"\".concat(this.allocateResult.socketio, \"v4/a\")), this.populateConnectionStateFields(this.allocateResult), this.fsm.onAllocationSucceed(e);\n        }, t.prototype.populateAndCacheReconnectParams = function (t, e) {\n          this.reconnectParams = c({\n            serviceUrl: this.options.trouterUrl,\n            reconnectUrl: e\n          }, t.connectparams), this.manager.onConnectionParametersUpdated(this.reconnectParams);\n        }, t.prototype.populateConnectionStateFields = function (t) {\n          var e,\n            n,\n            o = \"string\" == typeof t.ttl ? parseInt(t.ttl, 10) : t.ttl;\n          if (this.connectionExpireTimestampInSecs = (0, l.calculateExpireTsInSec)(o), this.connectionId = null !== (e = t.id) && void 0 !== e ? e : \"\", this.connectedClientId = t.ccid, this.logger.debug(\"connected client id set {connectedClientId:\".concat(this.connectedClientId, \"}\")), this.c2cUrlBase = null !== (n = t.curlb) && void 0 !== n ? n : \"\", \"\" === this.c2cUrlBase) {\n            var i = t.surl.indexOf(\"://\");\n            i >= 0 && (i = t.surl.indexOf(\"/\", i + 3)) >= 5 && \":3443\" === t.surl.substr(i - 5, 5) && (this.c2cUrlBase = t.surl.substr(0, i - 5));\n          }\n        }, t.prototype.onPingResponse = function () {\n          this.logger.debug(\"onPingResponse\"), this.connectionTracker.increasePingResponseCount(), this.clearPingResponseTimer(), this.fsm.onPingResponse();\n        }, t.prototype.clearPingResponseTimer = function () {\n          void 0 !== this.pingResponseTimerId && (clearTimeout(this.pingResponseTimerId), this.pingResponseTimerId = void 0);\n        }, t.prototype.buildQuery = function (t) {\n          for (var e = [], n = 0, o = Object.keys(t); n < o.length; n++) {\n            var i = o[n];\n            void 0 !== t[i] && e.push(\"\".concat(i, \"=\").concat(t[i]));\n          }\n          return e.join(\"&\");\n        }, t.prototype.appendConnectedClientIds = function (t, e) {\n          var n = \"\";\n          t.includes(\"ccid=\") || (n = \"ccid=\".concat(this.connectedClientId, \"&\")), this.domId && (n += \"dom=\".concat(this.domId, \"&\")), n.length > 0 && (n = n.slice(0, -1));\n          var o = e || t.includes(\"?\") ? \"&\" : \"?\";\n          return this.appendCorrelationIds(t + o + n, e);\n        }, t.prototype.appendEndpointId = function (t, e) {\n          var n = e || t.includes(\"?\") ? \"&\" : \"?\";\n          return !t.includes(\"epid\") && this.options.endpointId ? \"\".concat(t).concat(n, \"epid=\").concat(this.options.endpointId) : t;\n        }, t.prototype.appendCorrelationIds = function (t, e) {\n          var n = e || t.includes(\"?\") ? \"&\" : \"?\";\n          return t.includes(\"cor_id\") ? t : \"\".concat(t).concat(n, \"cor_id=\").concat(this.options.clientCorrelationID) + \"&con_num=\".concat(this.clientID, \"_\").concat(this.connectionAttempt);\n        }, t.prototype.safeString = function (t) {\n          return \"string\" == typeof t ? t : \"\";\n        }, t.prototype.sendResponse = function (t, e) {\n          var n, o, i;\n          if (t.timedout) return this.logger.error(\"Request \".concat(t.id, \" already timed out\")), 1;\n          if (t.replied) return this.logger.error(\"Response for request \".concat(t.id, \" already sent\")), 2;\n          clearTimeout(t.timeoutTimerId), t.timeoutTimerId = void 0, t.replied = !0, e.headers = null !== (n = e.headers) && void 0 !== n ? n : {};\n          var s = t.correlationVector;\n          this.logger.info(\"Sending response N \".concat(t.id, \" CV \").concat(s, \" with status \").concat(e.status)), s && (e.headers[C] = s), (null === (o = t.headers) || void 0 === o ? void 0 : o[\"trouter-request\"]) && (e.headers[\"trouter-request\"] = t.headers[\"trouter-request\"]);\n          var c = Date.now() - t.startTS;\n          if (e.headers[\"trouter-client\"] = (0, l.toJson)({\n            cd: c\n          }), (null === (i = t.headers) || void 0 === i ? void 0 : i[\"trouter-is-broadcast\"]) && (e.headers[\"trouter-is-broadcast\"] = t.headers[\"trouter-is-broadcast\"]), this.logger.debug(\"response: \".concat((0, l.toJson)(e))), !this.socket) return this.connectionTracker.sendResponseError(\"no socket\", t, e), 4;\n          try {\n            return this.socket.send((0, l.toJson)(e)), e.sentTS = Date.now(), t.incrementCorrelationVector(), this.connectionTracker.trackResponse(t, c, e), \"websocket\" === this.transportTypeName && this.sendPingRequest(), 0;\n          } catch (n) {\n            var a = \"unable to send data on response.end. Error: \".concat(r(n));\n            return this.logger.error(a), this.connectionTracker.sendResponseError(a, t, e), 4;\n          }\n        }, t.prototype.sendUserActivityStateMultiple = function (t) {\n          var e = this,\n            n = new A(\"user.activity\"),\n            o = this.userActivityState.increaseCvAndGetEventObject();\n          n.args = o, this.logger.debug(\"Sending user activity '\".concat(this.userActivityState.toEventJSON(), \"', remaining \").concat(t - 1));\n          var i = !1;\n          this.sendDownstreamEvent(n, function () {\n            if (!0 !== i && (e.logger.info(\"User activity state: \".concat(o.state, \", cv: \").concat(o.cv, \" accepted\")), e.manager.onUserActivityStateAccepted(o.cv), e.clearSentEventTimer(n.timeoutTimerId), t > 1)) {\n              var r = setTimeout(function () {\n                e.clearSentEventTimer(r), e.sendUserActivityStateMultiple(t - 1);\n              }, e.options.userActivitySecondResendDelayMs);\n              e.registerSentEventTimer(r, \"user.activity/resend\");\n            }\n          }), n.timeoutTimerId = setTimeout(function () {\n            e.logger.error(\"Activity state response timeout is fired\"), i = !0, e.fsm.onActivityStateResponseTimeout(), e.clearSentEventTimer(n.timeoutTimerId);\n          }, this.timeoutOptions.userActivityResponseTimeoutMs), this.registerSentEventTimer(n.timeoutTimerId, \"user.activity/response\");\n        }, t.prototype.sendDownstreamEvent = function (t, e) {\n          this.logger.debug(\"Sending downstream event \".concat(t.name)), this.socket && this.socket.emit(t.name, t.args, e);\n        }, t.prototype.registerSentEventTimer = function (t, e) {\n          this.logger.debug(\"registering timer \".concat(t, \" -> \").concat(e)), this.pendingSentEventTimers[t] = e;\n        }, t.prototype.clearSentEventTimer = function (t) {\n          var e = this.pendingSentEventTimers[t];\n          this.logger.debug(\"clearing timer \".concat(t, \" -> \").concat(e)), delete this.pendingSentEventTimers[t], clearTimeout(t);\n        }, t.prototype.getRegistrationTtl = function () {\n          var t,\n            e,\n            n = (0, l.calculateTtlInSec)(this.connectionExpireTimestampInSecs);\n          if (this.logger.debug(\"Current connectionID will expire in \".concat(n, \" seconds\")), (null === (t = this.options.registration) || void 0 === t ? void 0 : t.registrarTtlSec) && n > 0) {\n            var o = this.options.registration.registrarTtlSec < n;\n            return [Math.min(this.options.registration.registrarTtlSec, n), o];\n          }\n          return (null === (e = this.options.registration) || void 0 === e ? void 0 : e.registrarTtlSec) ? [this.options.registration.registrarTtlSec, !1] : n > 0 ? [n, !1] : [3600, !1];\n        }, t.prototype.clearIncallModeTimerId = function () {\n          void 0 !== this.incallModeTimerId && (this.logger.debug(\"Clearing in-call mode timer\"), clearTimeout(this.incallModeTimerId), this.incallModeTimerId = void 0);\n        }, t.prototype.applyConnectionTrackerOptions = function (t) {\n          try {\n            t.eventLogger && \"function\" == typeof t.eventLogger.logEvent ? (this.connectionTracker.mergeSettings(t.telemetrySettings), this.connectionTracker.enable(t.eventLogger)) : this.logger.warn(\"Trouter client event logging disabled due to invalid configuration.\");\n          } catch (t) {\n            this.logger.warn(\"Trouter client event logging disabled. Error: \".concat(r(t))), this.connectionTracker.disable();\n          }\n        }, t.prototype.canRetryTokenFetchRequest = function (t) {\n          var e = this.options.retryLimitOnTokenFetch;\n          return null === e || void 0 === e || t < e || (this.logger.warn(\"Reached limit on maximum number of token fetch request. Current count: \".concat(t, \", retry limit: \").concat(e)), !1);\n        }, t;\n      }();\n      e.TrouterConnection = U;\n    }, function (t, e, n) {\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.MessageHandlerRegistry = void 0;\n      var o = n(1),\n        i = n(0),\n        r = function () {\n          function t(t) {\n            this.messageHandlers = [], this.logger = new i.Logger(\"MessageHandlers\", t);\n          }\n          return t.prototype.register = function (t) {\n            if (this.messageHandlers.some(function (e) {\n              return e === t;\n            })) throw new Error(\"Registering the same handler twice is not allowed\");\n            this.messageHandlers.push(t);\n          }, t.prototype.clear = function () {\n            this.logger.debug(\"Clearing message handlers\"), this.messageHandlers = [];\n          }, t.prototype.active = function () {\n            return this.messageHandlers.length > 0;\n          }, t.prototype.handleMessage = function (t) {\n            for (var e = {\n                resultCode: o.UNHANDLED_MESSAGE_ACK,\n                isHandled: !1\n              }, n = 0, i = this.messageHandlers; n < i.length; n++) {\n              var r = i[n],\n                s = this.safeExecuteHandle(r, t);\n              if (void 0 !== s && (void 0 === s.isHandled || s.isHandled)) return void 0 === s.resultCode && (s.resultCode = o.HANDLED_MESSAGE_ACK), s;\n            }\n            return e;\n          }, t.prototype.safeExecuteHandle = function (t, e) {\n            try {\n              return t.handleMessage(e);\n            } catch (t) {\n              return void this.logger.warn(\"Trouter message handler threw an exception: \".concat(t));\n            }\n          }, t;\n        }();\n      e.MessageHandlerRegistry = r;\n    }, function (t, e, n) {\n      function o(t) {\n        var e,\n          n = this;\n        return function (o) {\n          return i(n, void 0, void 0, function () {\n            return r(this, function (n) {\n              return o && (e = void 0), [2, new Promise(function (n, i) {\n                t(o).then(function (t) {\n                  e = t, n(t);\n                }).catch(function (t) {\n                  void 0 !== e && e.length > 0 && n(e), i(t);\n                });\n              })];\n            });\n          });\n        };\n      }\n      var i = this && this.__awaiter || function (t, e, n, o) {\n          function i(t) {\n            return t instanceof n ? t : new n(function (e) {\n              e(t);\n            });\n          }\n          return new (n || (n = Promise))(function (n, r) {\n            function s(t) {\n              try {\n                a(o.next(t));\n              } catch (t) {\n                r(t);\n              }\n            }\n            function c(t) {\n              try {\n                a(o.throw(t));\n              } catch (t) {\n                r(t);\n              }\n            }\n            function a(t) {\n              t.done ? n(t.value) : i(t.value).then(s, c);\n            }\n            a((o = o.apply(t, e || [])).next());\n          });\n        },\n        r = this && this.__generator || function (t, e) {\n          function n(t) {\n            return function (e) {\n              return o([t, e]);\n            };\n          }\n          function o(n) {\n            if (i) throw new TypeError(\"Generator is already executing.\");\n            for (; c && (c = 0, n[0] && (a = 0)), a;) try {\n              if (i = 1, r && (s = 2 & n[0] ? r.return : n[0] ? r.throw || ((s = r.return) && s.call(r), 0) : r.next) && !(s = s.call(r, n[1])).done) return s;\n              switch (r = 0, s && (n = [2 & n[0], s.value]), n[0]) {\n                case 0:\n                case 1:\n                  s = n;\n                  break;\n                case 4:\n                  return a.label++, {\n                    value: n[1],\n                    done: !1\n                  };\n                case 5:\n                  a.label++, r = n[1], n = [0];\n                  continue;\n                case 7:\n                  n = a.ops.pop(), a.trys.pop();\n                  continue;\n                default:\n                  if (s = a.trys, !(s = s.length > 0 && s[s.length - 1]) && (6 === n[0] || 2 === n[0])) {\n                    a = 0;\n                    continue;\n                  }\n                  if (3 === n[0] && (!s || n[1] > s[0] && n[1] < s[3])) {\n                    a.label = n[1];\n                    break;\n                  }\n                  if (6 === n[0] && a.label < s[1]) {\n                    a.label = s[1], s = n;\n                    break;\n                  }\n                  if (s && a.label < s[2]) {\n                    a.label = s[2], a.ops.push(n);\n                    break;\n                  }\n                  s[2] && a.ops.pop(), a.trys.pop();\n                  continue;\n              }\n              n = e.call(t, a);\n            } catch (t) {\n              n = [6, t], r = 0;\n            } finally {\n              i = s = 0;\n            }\n            if (5 & n[0]) throw n[1];\n            return {\n              value: n[0] ? n[1] : void 0,\n              done: !0\n            };\n          }\n          var i,\n            r,\n            s,\n            c,\n            a = {\n              label: 0,\n              sent: function () {\n                if (1 & s[0]) throw s[1];\n                return s[1];\n              },\n              trys: [],\n              ops: []\n            };\n          return c = {\n            next: n(0),\n            throw: n(1),\n            return: n(2)\n          }, \"function\" == typeof Symbol && (c[Symbol.iterator] = function () {\n            return this;\n          }), c;\n        };\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.addCacheAsBackupTo = void 0, e.addCacheAsBackupTo = o;\n    }, function (t, e, n) {\n      var o = this && this.__awaiter || function (t, e, n, o) {\n          function i(t) {\n            return t instanceof n ? t : new n(function (e) {\n              e(t);\n            });\n          }\n          return new (n || (n = Promise))(function (n, r) {\n            function s(t) {\n              try {\n                a(o.next(t));\n              } catch (t) {\n                r(t);\n              }\n            }\n            function c(t) {\n              try {\n                a(o.throw(t));\n              } catch (t) {\n                r(t);\n              }\n            }\n            function a(t) {\n              t.done ? n(t.value) : i(t.value).then(s, c);\n            }\n            a((o = o.apply(t, e || [])).next());\n          });\n        },\n        i = this && this.__generator || function (t, e) {\n          function n(t) {\n            return function (e) {\n              return o([t, e]);\n            };\n          }\n          function o(n) {\n            if (i) throw new TypeError(\"Generator is already executing.\");\n            for (; c && (c = 0, n[0] && (a = 0)), a;) try {\n              if (i = 1, r && (s = 2 & n[0] ? r.return : n[0] ? r.throw || ((s = r.return) && s.call(r), 0) : r.next) && !(s = s.call(r, n[1])).done) return s;\n              switch (r = 0, s && (n = [2 & n[0], s.value]), n[0]) {\n                case 0:\n                case 1:\n                  s = n;\n                  break;\n                case 4:\n                  return a.label++, {\n                    value: n[1],\n                    done: !1\n                  };\n                case 5:\n                  a.label++, r = n[1], n = [0];\n                  continue;\n                case 7:\n                  n = a.ops.pop(), a.trys.pop();\n                  continue;\n                default:\n                  if (s = a.trys, !(s = s.length > 0 && s[s.length - 1]) && (6 === n[0] || 2 === n[0])) {\n                    a = 0;\n                    continue;\n                  }\n                  if (3 === n[0] && (!s || n[1] > s[0] && n[1] < s[3])) {\n                    a.label = n[1];\n                    break;\n                  }\n                  if (6 === n[0] && a.label < s[1]) {\n                    a.label = s[1], s = n;\n                    break;\n                  }\n                  if (s && a.label < s[2]) {\n                    a.label = s[2], a.ops.push(n);\n                    break;\n                  }\n                  s[2] && a.ops.pop(), a.trys.pop();\n                  continue;\n              }\n              n = e.call(t, a);\n            } catch (t) {\n              n = [6, t], r = 0;\n            } finally {\n              i = s = 0;\n            }\n            if (5 & n[0]) throw n[1];\n            return {\n              value: n[0] ? n[1] : void 0,\n              done: !0\n            };\n          }\n          var i,\n            r,\n            s,\n            c,\n            a = {\n              label: 0,\n              sent: function () {\n                if (1 & s[0]) throw s[1];\n                return s[1];\n              },\n              trys: [],\n              ops: []\n            };\n          return c = {\n            next: n(0),\n            throw: n(1),\n            return: n(2)\n          }, \"function\" == typeof Symbol && (c[Symbol.iterator] = function () {\n            return this;\n          }), c;\n        };\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.TrouterManager = e.AudienceSubscriptionState = e.UserActivityObject = void 0;\n      var r = n(3),\n        s = n(2),\n        c = n(4),\n        a = n(0),\n        u = n(5),\n        h = n(18),\n        d = n(7),\n        l = n(6),\n        p = n(19),\n        g = function () {\n          function t(t, e) {\n            this.state = t, this.correlationVector = void 0 !== e ? e : r.CorrelationVector.extend();\n          }\n          return t.prototype.getStateString = function () {\n            switch (this.state) {\n              case s.UserActivityState.Active:\n                return \"active\";\n              case s.UserActivityState.Inactive:\n                return \"inactive\";\n              case s.UserActivityState.Unknown:\n                return \"unknown\";\n              default:\n                return \"undefined\";\n            }\n          }, t.prototype.increaseCvAndGetEventObject = function () {\n            return this.correlationVector.increase(), this.toEventObject();\n          }, t.prototype.toEventObject = function () {\n            return {\n              state: this.getStateString(),\n              cv: this.correlationVector.value()\n            };\n          }, t.prototype.toEventJSON = function () {\n            return (0, r.toJson)(this.toEventObject());\n          }, t;\n        }();\n      e.UserActivityObject = g;\n      var f = function () {\n        function t(t, e) {\n          void 0 === e && (e = r.CorrelationVector.extend()), this.audienceSubscriptionModel = t, this.correlationVector = e;\n        }\n        return t.prototype.increaseCvAndGetEventObject = function () {\n          return this.correlationVector.increase(), this.toEventObject();\n        }, t.prototype.toEventObject = function () {\n          return {\n            audiences: this.audienceSubscriptionModel.audienceSubscriptions,\n            cv: this.correlationVector.value()\n          };\n        }, t.prototype.toEventJSON = function () {\n          return (0, r.toJson)(this.toEventObject());\n        }, t;\n      }();\n      e.AudienceSubscriptionState = f;\n      var v = function () {\n        function t(t, e, n, o, i, c) {\n          var h = this;\n          this.logFunc = t, this.options = e, this.tokenProvider = n, this.usingLegacyTokenApi = o, this.listener = i, this.tokenTypeProtocolSelector = function (t, e) {\n            return h.options.forceV4aProtocol ? \"v4a\" : (0, u.usedProtocol)(t, e);\n          }, this.logger = new a.Logger(\"Manager\", t), this.logger.info(\"Created TrouterManager with options \".concat((0, r.toJson)(this.options))), this.fsm = new p.TrouterManagerFsm(t, this), this.baseEndpointUrl = \"\", this.processedMessageLoss = {}, this.userActivityObject = new g(s.UserActivityState.Unknown), this.protocolSelector = null !== c && void 0 !== c ? c : this.tokenTypeProtocolSelector.bind(this);\n        }\n        return t.prototype.start = function () {\n          this.fsm.start();\n        }, t.prototype.stop = function (t) {\n          this.fsm.stop(t);\n        }, t.prototype.configure = function (t) {\n          this.options = t, void 0 !== this.firstConnection && this.firstConnection.configure(t), void 0 !== this.secondConnection && this.secondConnection.configure(t), this.logger.info(\"Reconfigured TrouterManager with options \".concat((0, r.toJson)(this.options)));\n        }, t.prototype.checkConnection = function (t) {\n          void 0 !== this.firstConnection && this.firstConnection.checkConnection(t), void 0 !== this.secondConnection && this.secondConnection.checkConnection(t);\n        }, t.prototype.resendRegistration = function () {\n          return o(this, void 0, void 0, function () {\n            return i(this, function (t) {\n              return void 0 !== this.secondConnection ? (this.logger.info(\"Resending registration on the second/new connection\"), [2, this.secondConnection.resendRegistration()]) : void 0 !== this.firstConnection ? (this.logger.info(\"Resending registration on the first/current connection\"), [2, this.firstConnection.resendRegistration()]) : (this.logger.info(\"No connection to resend registration on, will be done upon (re)connect\"), [2]);\n            });\n          });\n        }, t.prototype.getServerState = function () {\n          if (void 0 !== this.firstConnection) return this.firstConnection.getServerState();\n        }, t.prototype.getState = function () {\n          return this.fsm.getState();\n        }, t.prototype.isInTerminalState = function () {\n          return this.fsm.getInternalState() === c.TrouterManagerState.TerminalError;\n        }, t.prototype.reportStateInfo = function () {\n          var t = this.firstConnection ? l.State[this.firstConnection.getState()] : \"Unknown\",\n            e = c.TrouterManagerState[this.fsm.getInternalState()];\n          if (this.secondConnection) {\n            var n = l.State[this.secondConnection.getState()];\n            return \"Manager \".concat(e, \"; 1st \").concat(t, \"; 2nd \").concat(n);\n          }\n          return \"Manager \".concat(e, \"; Connection \").concat(t);\n        }, t.prototype.startFirstConnection = function () {\n          var t = new d.TrouterConnection(this.logFunc, this.options, this.configuredTrouterManager(), this.tokenProvider, this.usingLegacyTokenApi, this.userActivityObject, this.protocolSelector, this.audienceSubscriptionState);\n          this.firstConnection = t, this.getConnectionCache().then(function (e) {\n            t.start(e);\n          }).catch(function () {});\n        }, t.prototype.startSecondConnection = function (t) {\n          var e = new d.TrouterConnection(this.logFunc, this.options, this.configuredTrouterManager(), this.tokenProvider, this.usingLegacyTokenApi, this.userActivityObject, this.protocolSelector, this.audienceSubscriptionState);\n          this.secondConnection = e, void 0 !== this.firstConnection && this.firstConnection.disableRegistrationsAndAutoReconnect(), t ? this.getConnectionCache().then(function (t) {\n            e.start(t);\n          }).catch(function () {}) : e.start();\n        }, t.prototype.stopFirstConnection = function (t) {\n          void 0 !== this.firstConnection && (this.storedFirstConnection = this.firstConnection, this.firstConnection.stop(t), this.firstConnection = void 0);\n        }, t.prototype.stopSecondConnection = function (t) {\n          void 0 !== this.secondConnection && (this.secondConnection.stop(t), this.secondConnection = void 0);\n        }, t.prototype.stopSecondConnectionDelayed = function () {\n          if (void 0 !== this.secondConnection) {\n            var t = this.secondConnection;\n            this.secondConnection = void 0, this.logger.info(\"Closing an inactive connection in \".concat(Math.round(this.options.lingeringConnectionDelayMs / 1e3), \"s\")), setTimeout(function () {\n              t.stop(!0);\n            }, this.options.lingeringConnectionDelayMs);\n          }\n        }, t.prototype.forceStopLingeringConnection = function () {\n          this.storedFirstConnection && (this.storedFirstConnection.stop(!1), this.storedFirstConnection = void 0);\n        }, t.prototype.switchConnections = function () {\n          var t = this.firstConnection;\n          this.firstConnection = this.secondConnection, this.secondConnection = t;\n        }, t.prototype.doesSecondConnectionExist = function () {\n          return void 0 !== this.secondConnection;\n        }, t.prototype.dispatchConnected = function () {\n          if (void 0 !== this.firstConnection) {\n            var t = this.firstConnection.getServerState(),\n              e = t.url.endsWith(\"/\") ? t.url.slice(0, -1) : t.url,\n              n = {\n                baseEndpointUrl: e,\n                newEndpointUrl: e !== this.baseEndpointUrl,\n                c2cUrlBase: t.c2cUrlBase,\n                clientId: t.connectedClientId,\n                connectionId: t.connectionId,\n                connectionTtlSec: t.getRemainingTtlInSec()\n              };\n            this.baseEndpointUrl = e, this.listener.onTrouterConnected(t.url, n);\n          }\n        }, t.prototype.dispatchDisconnected = function () {\n          this.listener.onTrouterDisconnected && this.listener.onTrouterDisconnected();\n        }, t.prototype.dispatchTerminalError = function () {\n          this.listener.onTrouterDisconnected && this.listener.onTrouterDisconnected();\n        }, t.prototype.dispatchRegistrationState = function (t) {\n          this.options.registrationStateCallback && this.options.registrationStateCallback(t);\n        }, t.prototype.expediteBackoffOnConnections = function () {\n          var t;\n          if (void 0 !== this.lastExpediteBackoffCallAt && Date.now() - this.lastExpediteBackoffCallAt < (null !== (t = this.options.expediteBackoffOnStartMinimumDelayMs) && void 0 !== t ? t : 1e4)) return void this.logger.info(\"Expedite backoff due to start() too frequent, skipping\");\n          this.lastExpediteBackoffCallAt = Date.now(), void 0 !== this.firstConnection && this.firstConnection.expediteBackoff(), void 0 !== this.secondConnection && this.secondConnection.expediteBackoff();\n        }, t.prototype.onDownstreamRequest = function (t, e, n) {\n          var o = {\n              id: e.id,\n              method: e.method,\n              path: \"/\".concat(e.shortUrl),\n              body: e.body,\n              headers: e.headers\n            },\n            i = {\n              id: e.id,\n              status: 0,\n              headers: {},\n              body: \"\",\n              send: function () {\n                return i.status <= 100 || i.status >= 999 ? 3 : (n.writeHead(i.status, i.headers), n.end(i.body));\n              }\n            };\n          this.listener.onTrouterRequest(o, i);\n        }, t.prototype.onConnected = function (t) {\n          this.fsm.onConnected(t === this.firstConnection);\n        }, t.prototype.onRegistered = function (t) {\n          this.fsm.onRegistered(t === this.firstConnection);\n        }, t.prototype.onUnregistered = function (t) {\n          this.fsm.onUnregistered(t === this.firstConnection || t === this.storedFirstConnection);\n        }, t.prototype.onReconnecting = function (t) {\n          this.fsm.onReconnecting(t === this.firstConnection);\n        }, t.prototype.onReconnectIsRequired = function (t, e, n) {\n          this.fsm.onReconnectionRequired(t === this.firstConnection, e, n);\n        }, t.prototype.onDisconnected = function (t) {\n          this.fsm.onDisconnected(t === this.firstConnection || t == this.storedFirstConnection), this.storedFirstConnection = void 0;\n        }, t.prototype.onTerminalError = function () {\n          this.fsm.onTerminalError(), this.storedFirstConnection = void 0;\n        }, t.prototype.onUserActivityStateAccepted = function (t) {\n          this.listener.onTrouterUserActivityStateAccepted && this.listener.onTrouterUserActivityStateAccepted(t);\n        }, t.prototype.onAudiencesSetResolved = function (t, e) {\n          var n, o;\n          null === (o = (n = this.listener).onAudiencesSetResolved) || void 0 === o || o.call(n, t, e);\n        }, t.prototype.onConnectionParametersUpdated = function (t) {\n          this.setConnectionCache(t);\n        }, t.prototype.setUserActivityState = function (t, e) {\n          return this.userActivityObject = new g(t, r.CorrelationVector.extend(e)), void 0 !== this.secondConnection ? (this.logger.info(\"Setting user activity \".concat(this.userActivityObject.toEventJSON(), \" on the second/new connection\")), void this.secondConnection.setUserActivityState(this.userActivityObject)) : void 0 !== this.firstConnection ? (this.logger.info(\"Setting user activity \".concat(this.userActivityObject.toEventJSON(), \" on the first/current connection\")), void this.firstConnection.setUserActivityState(this.userActivityObject)) : void 0;\n        }, t.prototype.setAudienceSubscriptionsAsync = function (t, e, n) {\n          if (this.audienceSubscriptionState = new f(t, r.CorrelationVector.extend(n)), this.secondConnection) return this.logger.info(\"Setting audience subscriptions \".concat(this.audienceSubscriptionState.toEventJSON(), \" on second/new connection\")), this.secondConnection.setAudienceSubscriptionsAsync(this.audienceSubscriptionState, e);\n          if (this.firstConnection) return this.logger.info(\"Setting audience subscriptions \".concat(this.audienceSubscriptionState.toEventJSON(), \" on first/current connection\")), this.firstConnection.setAudienceSubscriptionsAsync(this.audienceSubscriptionState, e);\n          throw new Error(\"No connection found\");\n        }, t.prototype.onTrouterMessageLost = function (t) {\n          var e = this;\n          if (this.listener.onTrouterMessageLoss) if (null === t || void 0 === t ? void 0 : t.length) {\n            var n = t.filter(function (t) {\n              return void 0 !== e.processedMessageLoss[\"\".concat(t.tag, \"-\").concat(t.etag)];\n            });\n            if (n.length && (this.logger.info(\"onTrouterMessageLoss - immediately acknowledging \".concat(n.length, \" seen dropped indicators\")), this.sendProcessedDroppedIndicators(n), t = t.filter(function (t) {\n              return void 0 === e.processedMessageLoss[\"\".concat(t.tag, \"-\").concat(t.etag)];\n            }), !t.length)) return void this.logger.info(\"onTrouterMessageLoss - all declared dropped indicators have been seen before\");\n            var o = this.listener.onTrouterMessageLoss(t.map(function (t) {\n              return t.tag;\n            }));\n            if (!o) return void this.logger.warn(\"onTrouterMessageLoss - some flow tag(s) have not been processed by listeners\");\n            t.forEach(function (t) {\n              e.processedMessageLoss[\"\".concat(t.tag, \"-\").concat(t.etag)] = \"\";\n            }), this.sendProcessedDroppedIndicators(t);\n          } else this.logger.warn(\"onTrouterMessageLoss - no flow tags have been provided\");\n        }, t.prototype.getConnectionCache = function () {\n          var t = this;\n          return this.options.connectionCache ? (this.logger.debug(\"Querying host's connection cache\"), this.options.connectionCache.onGetTrouterConnectionCache().then(function (t) {\n            var e = t ? JSON.parse(t) : void 0;\n            return \"object\" == typeof e ? e : void 0;\n          }).catch(function (e) {\n            return t.logger.warn(\"Invalid connection cache content provided: \".concat(e)), t.connectionCache;\n          })) : Promise.resolve(this.connectionCache);\n        }, t.prototype.setConnectionCache = function (t) {\n          if (this.connectionCache = t, this.options.connectionCache) try {\n            this.options.connectionCache.onSetTrouterConnectionCache(JSON.stringify(t));\n          } catch (t) {\n            this.logger.warn(\"Error setting external connection cache: \".concat(t));\n          }\n        }, t.prototype.sendProcessedDroppedIndicators = function (t) {\n          return void 0 !== this.firstConnection ? void this.firstConnection.sendProcessedDroppedIndicators(t) : void 0 !== this.secondConnection ? void this.secondConnection.sendProcessedDroppedIndicators(t) : void 0;\n        }, t.prototype.configuredTrouterManager = function () {\n          return new h.RegistrationEnforcer(this, this.options.connectionDependsOnRegistration, this.options.delayEventsUntilRegistered);\n        }, t;\n      }();\n      e.TrouterManager = v;\n    }, function (t, e, n) {\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.TrouterUrlPromise = void 0;\n      var o = n(0),\n        i = function () {\n          function t(t) {\n            this.logger = new o.Logger(\"UrlPromise\", t);\n          }\n          return t.prototype.getPromise = function () {\n            var t = this;\n            return void 0 !== this.url ? (this.logger.debug(\"returning previously resolved url: \".concat(this.url)), Promise.resolve(this.url)) : (void 0 === this.pendingPromise ? (this.logger.debug(\"creating and returning promise\"), this.pendingPromise = new Promise(function (e, n) {\n              t.pendingPromiseResolveRef = e, t.pendingPromiseRejectRef = n;\n            })) : this.logger.debug(\"returning existing promise\"), this.pendingPromise);\n          }, t.prototype.resolveUrl = function (t) {\n            this.url = t, this.logger.debug(\"got url: \".concat(this.url));\n            var e = this.pendingPromiseResolveRef;\n            this.pendingPromise = void 0, this.pendingPromiseResolveRef = void 0, this.pendingPromiseRejectRef = void 0, void 0 !== e && (this.logger.debug(\"resolving promise\"), e(t));\n          }, t.prototype.rejectUrl = function (t) {\n            this.logger.debug(\"aborting\");\n            var e = this.pendingPromiseRejectRef;\n            this.url = void 0, this.pendingPromise = void 0, this.pendingPromiseResolveRef = void 0, this.pendingPromiseRejectRef = void 0, void 0 !== e && (this.logger.debug(\"rejecting promise\"), e(t));\n          }, t.prototype.resetUrl = function () {\n            this.logger.debug(\"resetting url\"), this.url = void 0;\n          }, t;\n        }();\n      e.TrouterUrlPromise = i;\n    }, function (t, e, n) {\n      (function (t, n) {\n        !function (t, e) {\n          var n = t;\n          n.version = \"0.9.6\", n.protocol = 1, n.transports = [], n.j = [], n.sockets = {}, n.connect = function (t, o) {\n            var i,\n              r,\n              s = n.util.parseUri(t);\n            e && e.location && (s.protocol = s.protocol || e.location.protocol.slice(0, -1), s.host = s.host || (e.document ? e.document.domain : e.location.hostname), s.port = s.port || e.location.port), i = n.util.uniqueUri(s);\n            var c = {\n              host: s.host,\n              secure: \"https\" == s.protocol,\n              port: s.port || (\"https\" == s.protocol ? 443 : 80),\n              query: s.query || \"\"\n            };\n            return n.util.merge(c, o), !c[\"force new connection\"] && n.sockets[i] || (r = new n.Socket(c)), !c[\"force new connection\"] && r && (n.sockets[i] = r), r = r || n.sockets[i], c[\"skipped handshake data\"] ? r.of(\"\") : r.of(s.path.length > 1 ? s.path : \"\");\n          };\n        }(n.exports, void 0 === t ? window : t);\n        var o = n.exports;\n        !function (t, e) {\n          var n = t.util = {},\n            o = /^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/,\n            i = [\"source\", \"protocol\", \"authority\", \"userInfo\", \"user\", \"password\", \"host\", \"port\", \"relative\", \"path\", \"directory\", \"file\", \"query\", \"anchor\"];\n          n.parseUri = function (t) {\n            for (var e = o.exec(t || \"\"), n = {}, r = 14; r--;) n[i[r]] = e[r] || \"\";\n            return n;\n          }, n.uniqueUri = function (t) {\n            var n = t.protocol,\n              o = t.host,\n              i = t.port;\n            return \"document\" in e ? (o = o || document.domain, i = i || (\"https\" == n && \"https:\" !== document.location.protocol ? 443 : document.location.port)) : (o = o || \"localhost\", i || \"https\" != n || (i = 443)), (n || \"http\") + \"://\" + o + \":\" + (i || 80);\n          }, n.query = function (t, e) {\n            var o = n.chunkQuery(t || \"\"),\n              i = [];\n            n.merge(o, n.chunkQuery(e || \"\"));\n            for (var r in o) o.hasOwnProperty(r) && i.push(r + \"=\" + o[r]);\n            return i.length ? \"?\" + i.join(\"&\") : \"\";\n          }, n.chunkQuery = function (t) {\n            for (var e, n = {}, o = t.split(\"&\"), i = 0, r = o.length; i < r; ++i) e = o[i].split(\"=\"), e[0] && (n[e[0]] = e[1]);\n            return n;\n          };\n          var r = !1;\n          n.load = function (t) {\n            if (\"document\" in e && \"complete\" === document.readyState || r) return t();\n            n.on(e, \"load\", t, !1);\n          }, n.on = function (t, e, n, o) {\n            t.attachEvent ? t.attachEvent(\"on\" + e, n) : t.addEventListener && t.addEventListener(e, n, o);\n          }, n.request = function (t) {\n            if (t && \"undefined\" != typeof XDomainRequest) return new XDomainRequest();\n            if (\"undefined\" != typeof XMLHttpRequest && (!t || n.ua.hasCORS)) return new XMLHttpRequest();\n            if (!t) try {\n              return new window[[\"Active\"].concat(\"Object\").join(\"X\")](\"Microsoft.XMLHTTP\");\n            } catch (t) {}\n            return null;\n          }, \"undefined\" != typeof window && n.load(function () {\n            r = !0;\n          }), n.defer = function (t) {\n            if (!n.ua.webkit || \"undefined\" != typeof importScripts) return t();\n            n.load(function () {\n              setTimeout(t, 100);\n            });\n          }, n.merge = function (t, e, o, i) {\n            var r,\n              s = i || [],\n              c = void 0 === o ? 2 : o;\n            for (r in e) e.hasOwnProperty(r) && n.indexOf(s, r) < 0 && (\"object\" == typeof t[r] && c ? n.merge(t[r], e[r], c - 1, s) : (t[r] = e[r], s.push(e[r])));\n            return t;\n          }, n.mixin = function (t, e) {\n            n.merge(t.prototype, e.prototype);\n          }, n.inherit = function (t, e) {\n            function n() {}\n            n.prototype = e.prototype, t.prototype = new n();\n          }, n.isArray = Array.isArray || function (t) {\n            return \"[object Array]\" === Object.prototype.toString.call(t);\n          }, n.intersect = function (t, e) {\n            for (var o = [], i = t.length > e.length ? t : e, r = t.length > e.length ? e : t, s = 0, c = r.length; s < c; s++) ~n.indexOf(i, r[s]) && o.push(r[s]);\n            return o;\n          }, n.indexOf = function (t, e, n) {\n            for (var o = t.length, n = n < 0 ? n + o < 0 ? 0 : n + o : n || 0; n < o && t[n] !== e; n++);\n            return o <= n ? -1 : n;\n          }, n.toArray = function (t) {\n            for (var e = [], n = 0, o = t.length; n < o; n++) e.push(t[n]);\n            return e;\n          }, n.ua = {}, n.ua.hasCORS = \"undefined\" != typeof XMLHttpRequest && function () {\n            try {\n              var t = new XMLHttpRequest();\n            } catch (t) {\n              return !1;\n            }\n            return void 0 != t.withCredentials;\n          }(), n.ua.webkit = \"undefined\" != typeof navigator && /webkit/i.test(navigator.userAgent);\n        }(void 0 !== o ? o : n.exports, void 0 === t ? window : t), function (t, e) {\n          function n() {}\n          t.EventEmitter = n, n.prototype.on = function (t, n) {\n            return this.$events || (this.$events = {}), this.$events[t] ? e.util.isArray(this.$events[t]) ? this.$events[t].push(n) : this.$events[t] = [this.$events[t], n] : this.$events[t] = n, this;\n          }, n.prototype.addListener = n.prototype.on, n.prototype.once = function (t, e) {\n            function n() {\n              o.removeListener(t, n), e.apply(this, arguments);\n            }\n            var o = this;\n            return n.listener = e, this.on(t, n), this;\n          }, n.prototype.removeListener = function (t, n) {\n            if (this.$events && this.$events[t]) {\n              var o = this.$events[t];\n              if (e.util.isArray(o)) {\n                for (var i = -1, r = 0, s = o.length; r < s; r++) if (o[r] === n || o[r].listener && o[r].listener === n) {\n                  i = r;\n                  break;\n                }\n                if (i < 0) return this;\n                o.splice(i, 1), o.length || delete this.$events[t];\n              } else (o === n || o.listener && o.listener === n) && delete this.$events[t];\n            }\n            return this;\n          }, n.prototype.removeAllListeners = function (t) {\n            return this.$events && this.$events[t] && (this.$events[t] = null), this;\n          }, n.prototype.listeners = function (t) {\n            return this.$events || (this.$events = {}), this.$events[t] || (this.$events[t] = []), e.util.isArray(this.$events[t]) || (this.$events[t] = [this.$events[t]]), this.$events[t];\n          }, n.prototype.emit = function (t) {\n            if (!this.$events) return !1;\n            var n = this.$events[t];\n            if (!n) return !1;\n            var o = Array.prototype.slice.call(arguments, 1);\n            if (\"function\" == typeof n) n.apply(this, o);else {\n              if (!e.util.isArray(n)) return !1;\n              for (var i = n.slice(), r = 0, s = i.length; r < s; r++) i[r].apply(this, o);\n            }\n            return !0;\n          };\n        }(void 0 !== o ? o : n.exports, void 0 !== o ? o : n.parent.exports), function (t, e) {\n          if (e && e.parse) return t.JSON = {\n            parse: e.parse,\n            stringify: e.stringify\n          };\n          throw new Error(\"JSON not available\");\n        }(void 0 !== o ? o : n.exports, \"undefined\" != typeof JSON ? JSON : void 0), function (t, e) {\n          var n = t.parser = {},\n            o = n.packets = [\"disconnect\", \"connect\", \"heartbeat\", \"message\", \"json\", \"event\", \"ack\", \"error\", \"noop\"],\n            i = n.reasons = [\"transport not supported\", \"client not handshaken\", \"unauthorized\"],\n            r = n.advice = [\"reconnect\"],\n            s = e.JSON,\n            c = e.util.indexOf;\n          n.encodePacket = function (t) {\n            var e = c(o, t.type),\n              n = t.id || \"\",\n              a = t.endpoint || \"\",\n              u = t.ack,\n              h = null;\n            switch (t.type) {\n              case \"error\":\n                var d = t.reason ? c(i, t.reason) : \"\",\n                  l = t.advice ? c(r, t.advice) : \"\";\n                \"\" === d && \"\" === l || (h = d + (\"\" !== l ? \"+\" + l : \"\"));\n                break;\n              case \"message\":\n                \"\" !== t.data && (h = t.data);\n                break;\n              case \"event\":\n                var p = {\n                  name: t.name\n                };\n                t.args && t.args.length && (p.args = t.args), h = s.stringify(p);\n                break;\n              case \"json\":\n                h = s.stringify(t.data);\n                break;\n              case \"connect\":\n                t.qs && (h = t.qs);\n                break;\n              case \"ack\":\n                h = t.ackId + (t.args && t.args.length ? \"+\" + s.stringify(t.args) : \"\");\n            }\n            var g = [e, n + (\"data\" == u ? \"+\" : \"\"), a];\n            return null !== h && void 0 !== h && g.push(h), g.join(\":\");\n          }, n.encodePayload = function (t) {\n            var e = \"\";\n            if (1 == t.length) return t[0];\n            for (var n = 0, o = t.length; n < o; n++) {\n              e += \"�\" + t[n].length + \"�\" + t[n];\n            }\n            return e;\n          };\n          var a = /([^:]+):([0-9]+)?(\\+)?:([^:]+)?:?([\\s\\S]*)?/;\n          n.decodePacket = function (t) {\n            var e = t.match(a);\n            if (!e) return {};\n            var n = e[2] || \"\",\n              t = e[5] || \"\",\n              c = {\n                type: o[e[1]],\n                endpoint: e[4] || \"\"\n              };\n            switch (n && (c.id = n, e[3] ? c.ack = \"data\" : c.ack = !0), c.type) {\n              case \"error\":\n                var e = t.split(\"+\");\n                c.reason = i[e[0]] || \"\", c.advice = r[e[1]] || \"\";\n                break;\n              case \"message\":\n                c.data = t || \"\";\n                break;\n              case \"event\":\n                try {\n                  var u = s.parse(t);\n                  c.name = u.name, c.args = u.args;\n                } catch (t) {}\n                c.args = c.args || [];\n                break;\n              case \"json\":\n                try {\n                  c.data = s.parse(t);\n                } catch (t) {}\n                break;\n              case \"connect\":\n                c.qs = t || \"\";\n                break;\n              case \"ack\":\n                var e = t.match(/^([0-9]+)(\\+)?(.*)/);\n                if (e && (c.ackId = e[1], c.args = [], e[3])) try {\n                  c.args = e[3] ? s.parse(e[3]) : [];\n                } catch (t) {}\n                break;\n              case \"disconnect\":\n                c.reason = t;\n            }\n            return c;\n          }, n.decodePayload = function (t) {\n            if (\"�\" == t.charAt(0)) {\n              for (var e = [], o = 1, i = \"\"; o < t.length; o++) \"�\" == t.charAt(o) ? (e.push(n.decodePacket(t.substr(o + 1).substr(0, i))), o += Number(i) + 1, i = \"\") : i += t.charAt(o);\n              return e;\n            }\n            return [n.decodePacket(t)];\n          };\n        }(void 0 !== o ? o : n.exports, void 0 !== o ? o : n.parent.exports), function (t, e) {\n          function n(t, e) {\n            this.socket = t, this.sessid = e, this.connectErrorCallback = void 0, this.isOpened = !1;\n          }\n          t.Transport = n, e.util.mixin(n, e.EventEmitter), n.prototype.onData = function (t) {\n            if (this.clearCloseTimeout(), (this.socket.connected || this.socket.connecting || this.socket.reconnecting) && this.setCloseTimeout(), \"\" !== t) {\n              var n = e.parser.decodePayload(t);\n              if (n && n.length) for (var o = 0, i = n.length; o < i; o++) this.onPacket(n[o]);\n            }\n            return this;\n          }, n.prototype.onPacket = function (t) {\n            return this.socket.setHeartbeatTimeout(), \"heartbeat\" == t.type ? this.onHeartbeat() : (\"connect\" == t.type && \"\" == t.endpoint && this.onConnect(), \"error\" == t.type && \"reconnect\" == t.advice && (this.isOpened = !1), this.socket.onPacket(t), this);\n          }, n.prototype.setCloseTimeout = function () {\n            if (!this.closeTimeout) {\n              var t = this;\n              this.closeTimeout = setTimeout(function () {\n                t.onDisconnect();\n              }, this.socket.closeTimeout);\n            }\n          }, n.prototype.onDisconnect = function () {\n            return this.close && this.isOpened && this.close(), this.clearTimeouts(), this.socket.onDisconnect(), this;\n          }, n.prototype.onConnect = function () {\n            return this.socket.onConnect(), this.connectErrorCallback = void 0, this;\n          }, n.prototype.clearCloseTimeout = function () {\n            this.closeTimeout && (clearTimeout(this.closeTimeout), this.closeTimeout = null);\n          }, n.prototype.clearTimeouts = function () {\n            this.clearCloseTimeout(), this.reopenTimeout && clearTimeout(this.reopenTimeout);\n          }, n.prototype.packet = function (t) {\n            this.send(e.parser.encodePacket(t));\n          }, n.prototype.onHeartbeat = function (t) {\n            this.packet({\n              type: \"heartbeat\"\n            });\n          }, n.prototype.onOpen = function () {\n            this.isOpened = !0, this.clearCloseTimeout(), this.socket.onOpen();\n          }, n.prototype.onClose = function () {\n            this.isOpened = !1, this.socket.onClose(), this.onDisconnect();\n          }, n.prototype.prepareUrl = function (t) {\n            var n = this.socket.options;\n            if (n[\"skipped handshake data\"]) return n.rewriteUrlForProxy(n[\"skipped handshake data\"].websocketUrl + (t || \"\"));\n            var o = this.scheme() + \"://\" + n.host + \":\" + n.port + \"/\" + n.resource + \"/\" + e.protocol + \"/\" + this.name + \"/\" + this.sessid + (t || \"\");\n            return n.rewriteUrlForProxy(o);\n          }, n.prototype.ready = function (t, e) {\n            e.call(this);\n          }, n.prototype.clearEventHandlers = function () {\n            return this;\n          };\n        }(void 0 !== o ? o : n.exports, void 0 !== o ? o : n.parent.exports), function (t, e, n) {\n          function o(t) {\n            if (this.options = {\n              port: 80,\n              secure: !1,\n              document: \"document\" in n && document,\n              resource: \"socket.io\",\n              transports: e.transports.slice(),\n              \"connect timeout\": 1e4,\n              \"try multiple transports\": !0,\n              reconnect: !0,\n              \"reconnection delay\": 500,\n              \"reconnection limit\": 1 / 0,\n              \"reopen delay\": 3e3,\n              \"max reconnection attempts\": 10,\n              \"sync disconnect on unload\": !0,\n              \"auto connect\": !0,\n              \"flash policy port\": 10843\n            }, e.util.merge(this.options, t), this.connected = !1, this.open = !1, this.connecting = !1, this.reconnecting = !1, this.namespaces = {}, this.buffer = [], this.doBuffer = !1, this.disconnected = !1, this.options[\"sync disconnect on unload\"] && (!this.isXDomain() || e.util.ua.hasCORS)) {\n              var o = this;\n              e.util.on(n, \"unload\", function () {\n                o.disconnectSync();\n              }, !1);\n            }\n            this.options[\"auto connect\"] && this.connect();\n          }\n          function i() {}\n          t.Socket = o, e.util.mixin(o, e.EventEmitter), o.prototype.of = function (t) {\n            return this.namespaces[t] || (this.namespaces[t] = new e.SocketNamespace(this, t), \"\" !== t && this.namespaces[t].packet({\n              type: \"connect\"\n            })), this.namespaces[t];\n          }, o.prototype.publish = function () {\n            this.emit.apply(this, arguments);\n            var t;\n            for (var e in this.namespaces) this.namespaces.hasOwnProperty(e) && (t = this.of(e), t.$emit.apply(t, arguments));\n          }, o.prototype.handshake = function (t) {\n            function n(e) {\n              e instanceof Error ? o.onError(e.message) : t.apply(null, e.split(\":\"));\n            }\n            var o = this,\n              r = this.options;\n            if (!o.disconnected) {\n              var s = r.rewriteUrlForProxy([\"http\" + (r.secure ? \"s\" : \"\") + \":/\", r.host + \":\" + r.port, r.resource, e.protocol, e.util.query(this.options.query, \"t=\" + +new Date())].join(\"/\"));\n              if (this.isXDomain() && !e.util.ua.hasCORS) {\n                var c = document.getElementsByTagName(\"script\")[0],\n                  a = document.createElement(\"script\");\n                a.src = s + \"&jsonp=\" + e.j.length, c.parentNode.insertBefore(a, c), e.j.push(function (t) {\n                  n(t), a.parentNode.removeChild(a);\n                });\n              } else {\n                var u = e.util.request();\n                u.open(\"GET\", s, !0);\n                var h = this.options.requestHeaders;\n                void 0 !== h && Object.keys(h).forEach(function (t) {\n                  u.setRequestHeader(t, h[t]);\n                }), u.onreadystatechange = function () {\n                  4 == u.readyState && (u.onreadystatechange = i, 200 == u.status ? n(u.responseText) : !o.reconnecting && o.onError(u.responseText));\n                }, u.send(null);\n              }\n            }\n          }, o.prototype.getTransport = function (t) {\n            for (var n, o = t || this.transports, i = 0; n = o[i]; i++) if (e.Transport[n] && e.Transport[n].check(this) && (!this.isXDomain() || e.Transport[n].xdomainCheck())) return new e.Transport[n](this, this.sessionid);\n            return null;\n          }, o.prototype.connect = function (t) {\n            if (this.connecting || this.disconnected) return this;\n            var n = this,\n              o = function (o, i, r, s) {\n                function c() {\n                  if (!n.connected && !n.disconnected) if (n.connecting = !1, clearTimeout(n.connectTimeoutTimer), n.options[\"try multiple transports\"]) {\n                    for (; n.remainingTransports.length > 0 && n.remainingTransports.splice(0, 1)[0] != n.transport.name;);\n                    n.remainingTransports.length ? a(n.remainingTransports) : n.publish(\"connect_failed\");\n                  } else n.publish(\"connect_failed\");\n                }\n                function a(t) {\n                  if (n.transport && (n.transport.clearTimeouts(), n.transport.clearEventHandlers()), n.transport = n.getTransport(t), !n.transport || n.disconnected) return n.publish(\"connect_failed\");\n                  n.transport.ready(n, function () {\n                    n.connecting = !0, n.publish(\"connecting\", n.transport.name), n.transport.open(c), n.options[\"connect timeout\"] && (n.connectTimeoutTimer = setTimeout(function () {\n                      c();\n                    }, n.options[\"connect timeout\"]));\n                  });\n                }\n                n.sessionid = o, n.closeTimeout = 1e3 * r + 2e3, n.heartbeatTimeout = 1e3 * i + 2e3, n.transports = s ? e.util.intersect(s.split(\",\"), n.options.transports) : n.options.transports, n.setHeartbeatTimeout(), n.remainingTransports = n.transports.slice(0), a(n.transports), n.once(\"connect\", function () {\n                  clearTimeout(n.connectTimeoutTimer), t && \"function\" == typeof t && t();\n                });\n              };\n            if (this.options[\"skipped handshake data\"]) {\n              var i = this.options[\"skipped handshake data\"];\n              o(\"v4c-\" + new Date().getTime(), i.timeout, i.timeout, \"websocket\");\n            } else this.handshake(o);\n            return this;\n          }, o.prototype.setHeartbeatTimeout = function () {\n            clearTimeout(this.heartbeatTimeoutTimer);\n            var t = this;\n            this.heartbeatTimeoutTimer = setTimeout(function () {\n              t.transport.onClose();\n            }, this.heartbeatTimeout);\n          }, o.prototype.packet = function (t) {\n            return this.connected && !this.doBuffer ? this.transport.packet(t) : this.buffer.push(t), this;\n          }, o.prototype.setBuffer = function (t) {\n            this.doBuffer = t, !t && this.connected && this.buffer.length && (this.transport.payload(this.buffer), this.buffer = []);\n          }, o.prototype.disconnect = function () {\n            return (this.connected || this.connecting) && (this.open && this.of(\"\").packet({\n              type: \"disconnect\"\n            }), this.onDisconnect(\"booted\")), this.disconnected = !0, this;\n          }, o.prototype.disconnectSync = function () {\n            var t = e.util.request(),\n              n = this.resource + \"/\" + e.protocol + \"/\" + this.sessionid;\n            t.open(\"GET\", n, !0), this.onDisconnect(\"booted\");\n          }, o.prototype.isXDomain = function () {\n            var t = n.location.port || (\"https:\" == n.location.protocol ? 443 : 80);\n            return this.options.host !== n.location.hostname || this.options.port != t;\n          }, o.prototype.onConnect = function () {\n            this.connected || (this.connected = !0, this.connecting = !1, this.doBuffer || this.setBuffer(!1), this.emit(\"connect\"));\n          }, o.prototype.onOpen = function () {\n            this.open = !0;\n          }, o.prototype.onClose = function () {\n            this.open = !1, clearTimeout(this.heartbeatTimeoutTimer);\n          }, o.prototype.onPacket = function (t) {\n            this.of(t.endpoint).onPacket(t);\n          }, o.prototype.onError = function (t) {\n            t && t.advice && \"reconnect\" === t.advice && (this.connected || this.connecting) && (this.disconnect(), this.options.reconnect && this.reconnect()), this.publish(\"error\", t && t.reason ? t.reason : t);\n          }, o.prototype.onDisconnect = function (t) {\n            var e = this.connected,\n              n = this.connecting;\n            this.connected = !1, this.connecting = !1, this.open = !1, (e || n) && (this.transport.close(), this.transport.clearTimeouts(), e ? (this.publish(\"disconnect\", t), \"booted\" != t && this.options.reconnect && !this.reconnecting && this.reconnect()) : this.publish(\"close_during_connecting\", t));\n          }, o.prototype.reconnect = function () {\n            function t() {\n              if (n.connected) {\n                for (var t in n.namespaces) n.namespaces.hasOwnProperty(t) && \"\" !== t && n.namespaces[t].packet({\n                  type: \"connect\"\n                });\n                n.publish(\"reconnect\", n.transport.name, n.reconnectionAttempts);\n              }\n              clearTimeout(n.reconnectionTimer), n.removeListener(\"connect_failed\", e), n.removeListener(\"connect\", e), n.reconnecting = !1, delete n.reconnectionAttempts, delete n.reconnectionDelay, delete n.reconnectionTimer, delete n.redoTransports, n.options[\"try multiple transports\"] = i;\n            }\n            function e() {\n              if (n.reconnecting) return n.connected ? t() : n.connecting && n.reconnecting ? n.reconnectionTimer = setTimeout(e, 1e3) : void (n.reconnectionAttempts++ >= o ? n.redoTransports ? (n.publish(\"reconnect_failed\"), t()) : (n.on(\"connect_failed\", e), n.options[\"try multiple transports\"] = !0, n.transport = n.getTransport(), n.redoTransports = !0, n.connect()) : (n.reconnectionDelay < r && (n.reconnectionDelay *= 2), n.connect(), n.publish(\"reconnecting\", n.reconnectionDelay, n.reconnectionAttempts), n.reconnectionTimer = setTimeout(e, n.reconnectionDelay)));\n            }\n            this.reconnecting = !0, this.reconnectionAttempts = 0, this.reconnectionDelay = this.options[\"reconnection delay\"];\n            var n = this,\n              o = this.options[\"max reconnection attempts\"],\n              i = this.options[\"try multiple transports\"],\n              r = this.options[\"reconnection limit\"];\n            this.options[\"try multiple transports\"] = !1, this.reconnectionTimer = setTimeout(e, this.reconnectionDelay), this.on(\"connect\", e);\n          };\n        }(void 0 !== o ? o : n.exports, void 0 !== o ? o : n.parent.exports, void 0 === t ? window : t), function (t, e) {\n          function n(t, e) {\n            this.socket = t, this.name = e || \"\", this.flags = {}, this.json = new o(this, \"json\"), this.ackPackets = 0, this.acks = {};\n          }\n          function o(t, e) {\n            this.namespace = t, this.name = e;\n          }\n          t.SocketNamespace = n, e.util.mixin(n, e.EventEmitter), n.prototype.$emit = e.EventEmitter.prototype.emit, n.prototype.of = function () {\n            return this.socket.of.apply(this.socket, arguments);\n          }, n.prototype.packet = function (t) {\n            return t.endpoint = this.name, this.socket.packet(t), this.flags = {}, this;\n          }, n.prototype.send = function (t, e) {\n            var n = {\n              type: this.flags.json ? \"json\" : \"message\",\n              data: t\n            };\n            return \"function\" == typeof e && (n.id = ++this.ackPackets, n.ack = !0, this.acks[n.id] = e), this.packet(n);\n          }, n.prototype.emit = function (t) {\n            var e = Array.prototype.slice.call(arguments, 1),\n              n = e[e.length - 1],\n              o = {\n                type: \"event\",\n                name: t\n              };\n            return \"function\" == typeof n && (o.id = ++this.ackPackets, o.ack = \"data\", this.acks[o.id] = n, e = e.slice(0, e.length - 1)), o.args = e, this.packet(o);\n          }, n.prototype.disconnect = function () {\n            return \"\" === this.name ? this.socket.disconnect() : (this.packet({\n              type: \"disconnect\"\n            }), this.$emit(\"disconnect\")), this;\n          }, n.prototype.onPacket = function (t) {\n            function n() {\n              o.packet({\n                type: \"ack\",\n                args: e.util.toArray(arguments),\n                ackId: t.id\n              });\n            }\n            var o = this;\n            switch (t.type) {\n              case \"connect\":\n                this.$emit(\"connect\");\n                break;\n              case \"disconnect\":\n                \"\" === this.name ? this.socket.onDisconnect(t.reason || \"booted\") : this.$emit(\"disconnect\", t.reason || \"\");\n                break;\n              case \"message\":\n              case \"json\":\n                var i = [\"message\", t.data];\n                \"data\" == t.ack ? i.push(n) : t.ack && this.packet({\n                  type: \"ack\",\n                  ackId: t.id\n                }), this.$emit.apply(this, i);\n                break;\n              case \"event\":\n                var i = [t.name].concat(t.args);\n                \"data\" == t.ack && i.push(n), this.$emit.apply(this, i);\n                break;\n              case \"ack\":\n                this.acks[t.ackId] && (this.acks[t.ackId].apply(this, t.args), delete this.acks[t.ackId]);\n                break;\n              case \"error\":\n                t.advice ? this.socket.onError(t) : \"unauthorized\" == t.reason ? this.$emit(\"connect_failed\", t.reason) : this.$emit(\"error\", t.reason);\n            }\n          }, o.prototype.send = function () {\n            this.namespace.flags[this.name] = !0, this.namespace.send.apply(this.namespace, arguments);\n          }, o.prototype.emit = function () {\n            this.namespace.flags[this.name] = !0, this.namespace.emit.apply(this.namespace, arguments);\n          };\n        }(void 0 !== o ? o : n.exports, void 0 !== o ? o : n.parent.exports), function (t, e, n) {\n          function o(t) {\n            e.Transport.apply(this, arguments);\n          }\n          function i() {}\n          t.websocket = o, e.util.inherit(o, e.Transport), o.prototype.name = \"websocket\", o.prototype.open = function (t) {\n            var o,\n              i = e.util.query(this.socket.options.query),\n              r = this;\n            return this.connectErrorCallback = t, o || (o = n.MozWebSocket || n.WebSocket), this.websocket = new o(this.prepareUrl(i)), this.websocket.onopen = function () {\n              r.onOpen(), r.socket.setBuffer(!1);\n            }, this.websocket.onmessage = function (t) {\n              r.onData(t.data);\n            }, this.websocket.onclose = function () {\n              r.onClose(), r.socket.setBuffer(!0);\n            }, this.websocket.onerror = function (t) {\n              r.onError(t);\n            }, this;\n          }, o.prototype.send = function (t) {\n            return this.websocket.send(t), this;\n          }, o.prototype.payload = function (t) {\n            for (var e = 0, n = t.length; e < n; e++) this.packet(t[e]);\n            return this;\n          }, o.prototype.close = function () {\n            return this.websocket.close(), this;\n          }, o.prototype.onError = function (t) {\n            void 0 !== this.connectErrorCallback && (this.connectErrorCallback(), this.connectErrorCallback = void 0), this.socket.onError(t);\n          }, o.prototype.scheme = function () {\n            return this.socket.options.secure ? \"wss\" : \"ws\";\n          }, o.check = function () {\n            return \"WebSocket\" in n && !(\"__addTask\" in WebSocket) || \"MozWebSocket\" in n;\n          }, o.xdomainCheck = function () {\n            return !0;\n          }, o.prototype.clearEventHandlers = function () {\n            return this.websocket && (this.websocket.onopen = this.websocket.onmessage = this.websocket.onclose = this.websocket.onerror = i), this;\n          }, e.transports.push(\"websocket\");\n        }(void 0 !== o ? o.Transport : n.exports, void 0 !== o ? o : n.parent.exports, void 0 === t ? window : t), function (t, e, n) {\n          function o(t) {\n            t && e.Transport.apply(this, arguments);\n          }\n          function i() {}\n          t.XHR = o, e.util.inherit(o, e.Transport), o.prototype.open = function () {\n            return this.socket.setBuffer(!1), this.onOpen(), this.get(), this.setCloseTimeout(), this;\n          }, o.prototype.payload = function (t) {\n            for (var n = [], o = 0, i = t.length; o < i; o++) n.push(e.parser.encodePacket(t[o]));\n            this.send(e.parser.encodePayload(n));\n          }, o.prototype.send = function (t) {\n            return this.post(t), this;\n          }, o.prototype.post = function (t) {\n            function e() {\n              4 == this.readyState && (this.onreadystatechange = i, 200 == this.status ? (clearTimeout(this.ackTimeoutTimer), r.socket.setBuffer(!1)) : r.onClose());\n            }\n            function o() {\n              this.onload = i, r.socket.setBuffer(!1);\n            }\n            var r = this;\n            this.socket.setBuffer(!0), this.sendXHR = this.request(\"POST\"), n.XDomainRequest && this.sendXHR instanceof XDomainRequest ? this.sendXHR.onload = this.sendXHR.onerror = o : this.sendXHR.onreadystatechange = e, this.sendXHR.send(t), r.sendXHR.ackTimeoutTimer = setTimeout(function () {\n              r.onClose();\n            }, r.socket.options.ackTimeoutMs);\n          }, o.prototype.close = function () {\n            return this.onClose(), this;\n          }, o.prototype.request = function (t) {\n            var n = e.util.request(this.socket.isXDomain()),\n              o = e.util.query(this.socket.options.query, \"t=\" + +new Date());\n            n.open(t || \"GET\", this.prepareUrl(o), !0);\n            var i = this.socket.options.requestHeaders;\n            if (void 0 !== i && Object.keys(i).forEach(function (t) {\n              n.setRequestHeader(t, i[t]);\n            }), \"POST\" == t) try {\n              n.setRequestHeader ? n.setRequestHeader(\"Content-type\", \"text/plain;charset=UTF-8\") : n.contentType = \"text/plain\";\n            } catch (t) {}\n            return n;\n          }, o.prototype.scheme = function () {\n            return this.socket.options.secure ? \"https\" : \"http\";\n          }, o.check = function (t, o) {\n            try {\n              var i = e.util.request(o),\n                r = n.XDomainRequest && i instanceof XDomainRequest,\n                s = t && t.options && t.options.secure ? \"https:\" : \"http:\",\n                c = s != n.location.protocol;\n              if (i && (!r || !c)) return !0;\n            } catch (t) {}\n            return !1;\n          }, o.xdomainCheck = function () {\n            return o.check(null, !0);\n          }, o.prototype.clearEventHandlers = function () {\n            return this.sendXHR && (this.sendXHR.onreadystatechange = this.sendXHR.onload = i), this;\n          };\n        }(void 0 !== o ? o.Transport : n.exports, void 0 !== o ? o : n.parent.exports, void 0 === t ? window : t), function (t, e, n) {\n          function o() {\n            e.Transport.XHR.apply(this, arguments);\n          }\n          function i() {}\n          t[\"xhr-polling\"] = o, e.util.inherit(o, e.Transport.XHR), e.util.merge(o, e.Transport.XHR), o.prototype.name = \"xhr-polling\", o.prototype.open = function (t) {\n            var n = this;\n            return n.connectErrorCallback = t, e.Transport.XHR.prototype.open.call(n), !1;\n          }, o.prototype.get = function () {\n            function t() {\n              4 == this.readyState && (this.onreadystatechange = i, 200 == this.status ? (r.connectErrorCallback = void 0, r.onData(this.responseText), r.get()) : (r.onClose(), void 0 !== r.connectErrorCallback && (r.connectErrorCallback(), r.connectErrorCallback = void 0)));\n            }\n            function e() {\n              r.connectErrorCallback = void 0, this.onload = i, this.onerror = i, r.onData(this.responseText), r.get();\n            }\n            function o() {\n              r.onClose(), void 0 !== r.connectErrorCallback && (r.connectErrorCallback(), r.connectErrorCallback = void 0);\n            }\n            if (this.isOpened) {\n              var r = this;\n              this.xhr = this.request(), n.XDomainRequest && this.xhr instanceof XDomainRequest ? (this.xhr.onload = e, this.xhr.onerror = o) : this.xhr.onreadystatechange = t, this.xhr.send(null);\n            }\n          }, o.prototype.onClose = function () {\n            if (e.Transport.XHR.prototype.onClose.call(this), this.xhr) {\n              this.xhr.onreadystatechange = this.xhr.onload = this.xhr.onerror = i;\n              try {\n                this.xhr.abort();\n              } catch (t) {}\n              this.xhr = null;\n            }\n          }, o.prototype.ready = function (t, n) {\n            var o = this;\n            e.util.defer(function () {\n              n.call(o);\n            });\n          }, o.prototype.clearEventHandlers = function () {\n            return e.Transport.XHR.prototype.clearEventHandlers.call(this), this.xhr && (this.xhr.onreadystatechange = this.xhr.onload = this.xhr.onerror = i), this;\n          }, e.transports.push(\"xhr-polling\");\n        }(void 0 !== o ? o.Transport : n.exports, void 0 !== o ? o : n.parent.exports, void 0 === t ? window : t), e.io = o;\n      }).call(e, n(13), n(14)(t));\n    }, function (t, e) {\n      var n;\n      n = function () {\n        return this;\n      }();\n      try {\n        n = n || Function(\"return this\")() || (0, eval)(\"this\");\n      } catch (t) {\n        \"object\" == typeof window && (n = window);\n      }\n      t.exports = n;\n    }, function (t, e) {\n      t.exports = function (t) {\n        return t.webpackPolyfill || (t.deprecate = function () {}, t.paths = [], t.children || (t.children = []), Object.defineProperty(t, \"loaded\", {\n          enumerable: !0,\n          get: function () {\n            return t.l;\n          }\n        }), Object.defineProperty(t, \"id\", {\n          enumerable: !0,\n          get: function () {\n            return t.i;\n          }\n        }), t.webpackPolyfill = 1), t;\n      };\n    }, function (t, e, n) {\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.ConnectionTracker = e.Properties = e.TrackerStep = e.ClientEventName = e.ResponseData = void 0;\n      var o = n(3),\n        i = n(1),\n        r = n(0),\n        s = function () {\n          function t(t) {\n            this.id = t, this.status = 200, this.headers = {}, this.body = \"\";\n          }\n          return t;\n        }();\n      e.ResponseData = s;\n      var c;\n      !function (t) {\n        t.Connected = \"trouter_js_client_connected\", t.Disconnected = \"trouter_js_client_disconnected\", t.Error = \"trouter_js_client_error\", t.Progress = \"trouter_js_client_progress\", t.Response = \"trouter_js_client_response\", t.Request = \"trouter_js_client_request\", t.CheckConnection = \"trouter_js_client_check_connection\", t.Registration = \"trouter_js_client_registration\", t.Unregistration = \"trouter_js_client_unregistration\";\n      }(c || (e.ClientEventName = c = {}));\n      var a = function () {\n        function t(t, e, n, o, i) {\n          this.stepName = t, this.operation = e, this.delta = n, this.ts = o, this.error = i;\n        }\n        return t;\n      }();\n      e.TrackerStep = a;\n      var u = function () {\n        function t() {}\n        return t;\n      }();\n      e.Properties = u;\n      var h = function () {\n          function t() {\n            this.numberOfPingReplies = 0, this.connectedTimestamp = 0, this.isNewUrl = !1, this.transportType = \"\", this.connectionNumber = 0;\n          }\n          return t;\n        }(),\n        d = function () {\n          function t() {\n            this.enabled = !1, this.numberOfStepsToMaintain = 40, this.logHealthCheckError = !1, this.sendProgressTimeoutSecs = 55, this.logSendPingError = !1, this.maxBackoffInMs = 12e4, this.trouter_js_client_connected = !1, this.trouter_js_client_disconnected = !1, this.trouter_js_client_error = !1, this.trouter_js_client_progress = !1, this.trouter_js_client_response = !1, this.trouter_js_client_request = !1, this.trouter_js_client_registration = !1, this.trouter_js_client_unregistration = !1, this.trouter_js_client_check_connection = !0;\n          }\n          return t;\n        }(),\n        l = function () {\n          function t(t, e, n, i, s, c, a) {\n            this.clientId = e, this.clientInfo = n, this.getServerState = i, this.endpointId = s, this.clientCorrelationID = c, this.environment = a, this.logger = new r.Logger(\"ConnectionTracker\", t), this.clientCorrelationID = void 0 !== c ? c : \"\", this.steps = [], this.connectionAttempt = 0, this.totalStepCount = 0, this.beginTimestamp = new o.Timespan(), this.eventLogSettings = new d(), this.connectedInfo = new h();\n          }\n          return t.prototype.enable = function (t) {\n            this.eventLogSettings.enabled = !0, this.eventLogger = t;\n          }, t.prototype.disable = function () {\n            this.eventLogSettings.enabled = !1;\n          }, t.prototype.sendProgress = function (t) {\n            this.steps.length > 0 && this.sendTelemetry(c.Progress, t, this.steps);\n          }, t.prototype.cancelProgressTimer = function () {\n            void 0 !== this.progressTimeout && (clearTimeout(this.progressTimeout), this.progressTimeout = void 0);\n          }, t.prototype.resetProgressSendTimer = function () {\n            var t = this;\n            this.cancelProgressTimer(), void 0 !== this.eventLogSettings.sendProgressTimeoutSecs && this.eventLogSettings.sendProgressTimeoutSecs > 0 && (this.progressTimeout = setTimeout(function () {\n              t.sendProgress({\n                reason: \"timeout\",\n                timeoutSecs: t.eventLogSettings.sendProgressTimeoutSecs\n              });\n            }, 1e3 * this.eventLogSettings.sendProgressTimeoutSecs));\n          }, t.prototype.setConnectedInfo = function (t, e) {\n            this.connectedInfo.numberOfPingReplies = 0, this.connectedInfo.connectedTimestamp = Date.now(), this.connectedInfo.isNewUrl = t, this.connectedInfo.transportType = e, ++this.connectedInfo.connectionNumber;\n          }, t.prototype.clearConnectedInfo = function () {\n            this.connectedInfo.numberOfPingReplies = 0, this.connectedInfo.connectedTimestamp = 0, this.connectedInfo.isNewUrl = !0, this.connectedInfo.transportType = \"\";\n          }, t.prototype.copyProperties = function (t, e) {\n            for (var n = 0, o = Object.keys(e); n < o.length; n++) {\n              var i = o[n];\n              void 0 !== e[i] && (t[i.replace(/-/g, \"_\")] = {\n                value: e[i]\n              });\n            }\n          }, t.prototype.increasePingResponseCount = function () {\n            ++this.connectedInfo.numberOfPingReplies;\n          }, t.prototype.sendTelemetry = function (t, e, n) {\n            try {\n              if (!0 === this.eventLogSettings.enabled && !0 === this.eventLogSettings[t] && void 0 !== this.eventLogger) {\n                var r = this.getServerState(),\n                  s = {\n                    name: t,\n                    properties: {\n                      connectionAttempt: {\n                        value: this.connectionAttempt\n                      },\n                      epid: {\n                        value: this.endpointId\n                      },\n                      clientCorrelationID: {\n                        value: this.clientCorrelationID\n                      },\n                      steps: {\n                        value: (0, o.toJson)(n)\n                      },\n                      clientID: {\n                        value: this.clientId\n                      },\n                      eventVersion: {\n                        value: 3\n                      },\n                      environment: {\n                        value: this.environment\n                      },\n                      cv: {\n                        value: i.CLIENT_VERSION\n                      },\n                      ua: {\n                        value: this.clientInfo.ua\n                      },\n                      connectionId: {\n                        value: r.connectionId\n                      },\n                      connectedClientId: {\n                        value: r.connectedClientId\n                      },\n                      domId: {\n                        value: r.domId\n                      },\n                      url: {\n                        value: r.unsecureUrl\n                      },\n                      surl: {\n                        value: r.url\n                      },\n                      ttlInSecs: {\n                        value: r.getRemainingTtlInSec()\n                      },\n                      numberOfPingReplies: {\n                        value: this.connectedInfo.numberOfPingReplies\n                      },\n                      connectedTimestamp: {\n                        value: this.connectedInfo.connectedTimestamp\n                      },\n                      isNewUrl: {\n                        value: this.connectedInfo.isNewUrl\n                      },\n                      transportType: {\n                        value: this.connectedInfo.transportType\n                      },\n                      connectionNumber: {\n                        value: this.connectedInfo.connectionNumber\n                      }\n                    }\n                  };\n                this.copyProperties(s.properties, e), this.eventLogger.logEvent(s);\n              }\n            } catch (e) {\n              this.logger.warn(\"error in sending event \".concat(t, \": \").concat((0, o.toJson)(e)));\n            }\n          }, t.prototype.createStep = function (t, e, n) {\n            return new a(t, e, this.beginTimestamp.duration, Date.now(), n);\n          }, t.prototype.addStep = function (t, e, n) {\n            if (!1 !== this.eventLogSettings.enabled && (0 === this.steps.length && this.beginTimestamp.reset(), this.steps.push(this.createStep(t, e, n)), ++this.totalStepCount, void 0 !== this.eventLogSettings.numberOfStepsToMaintain && this.steps.length > this.eventLogSettings.numberOfStepsToMaintain)) {\n              var o = this.steps.slice(0);\n              this.steps.length = 0, this.sendTelemetry(c.Progress, {\n                reason: \"flush\"\n              }, o);\n            }\n          }, t.prototype.trackStart = function (t) {\n            this.addStep(t, \"start\");\n          }, t.prototype.trackEnd = function (t) {\n            this.addStep(t, \"end\");\n          }, t.prototype.trackError = function (t, e, n, o) {\n            void 0 === n && (n = !0), \"health\" === t && !0 !== this.eventLogSettings.logHealthCheckError || \"ping\" === t && !1 === this.eventLogSettings.logSendPingError || (void 0 === o && (o = \"error\"), !0 === n && this.addStep(t, o, e), this.sendTelemetry(c.Error, {}, [this.createStep(t, o, e)]));\n          }, t.prototype.trackProgress = function (t, e) {\n            this.addStep(t, e);\n          }, t.prototype.trackConnected = function (t, e) {\n            this.setConnectedInfo(t, e);\n            var n = this.steps.slice(0),\n              o = this.totalStepCount,\n              i = this.beginTimestamp.duration;\n            this.steps.length = 0, this.totalStepCount = 0, this.sendTelemetry(c.Connected, {\n              stepCount: n.length,\n              totalStepCount: o,\n              connectionEstablishmentMs_Total: i\n            }, n), this.cancelProgressTimer();\n          }, t.prototype.getSessionLength = function () {\n            return Date.now() - this.connectedInfo.connectedTimestamp;\n          }, t.prototype.trackDisconnected = function (t) {\n            t.sessionLengthMS = this.getSessionLength(), this.sendTelemetry(c.Disconnected, t, []), this.resetProgressSendTimer();\n          }, t.prototype.trackNewConnection = function () {\n            ++this.connectionAttempt;\n          }, t.prototype.trackRequest = function (t, e) {\n            var n = {};\n            void 0 !== e && (n.hasError = !0, n.error = e);\n            try {\n              if (t) {\n                n.requestID = t.id, n.httpMethod = t.method, n.url = t.url, n.bodyLength = t.body.length, n.shortUrl = t.shortUrl, n.requestTimeStamp = t.startTS, n.correlationVector = t.correlationVector;\n                for (var i = t.headers, r = 0, s = Object.keys(i); r < s.length; r++) {\n                  var a = s[r];\n                  n[a] = i[a];\n                }\n              }\n            } catch (t) {\n              n.hasError = !0, n.error = \"\".concat(n.error, \" error creating request context \").concat((0, o.toJson)(t));\n            }\n            this.sendTelemetry(c.Request, n, []);\n          }, t.prototype.trackResponse = function (t, e, n, i) {\n            var r = {};\n            void 0 !== i && (r.hasError = !0, r.error = i);\n            try {\n              if (r.responseTimestamp = void 0 !== n ? n.sentTS : Date.now(), t) {\n                r.requestID = t.id, r.httpMethod = t.method, r.shortUrl = t.shortUrl, r.correlationVector = t.correlationVector;\n                for (var s = t.headers, a = 0, u = Object.keys(s); a < u.length; a++) {\n                  var h = u[a];\n                  r[h] = s[h];\n                }\n              }\n              n && (r.latencyMS = e, r.responseCode = n.status, r.responseLength = n.body.length);\n            } catch (t) {\n              r.hasError = !0, r.error = \"\".concat(r.error, \" error creating response context \").concat((0, o.toJson)(t));\n            }\n            this.sendTelemetry(c.Response, r, []);\n          }, t.prototype.sendResponseError = function (t, e, n) {\n            this.trackResponse(e, void 0, n, t);\n          }, t.prototype.close = function () {\n            this.sendProgress({\n              reason: \"closed\"\n            }), this.steps.length = 0, this.cancelProgressTimer();\n          }, t.prototype.mergeSettings = function (t) {\n            if (t) {\n              this.eventLogSettings.numberOfStepsToMaintain = Math.min(40, Math.max(10, void 0 !== t.numberOfStepsToMaintain ? t.numberOfStepsToMaintain : 0));\n              var e = Math.min(3600, Math.max(55, void 0 !== t.sendProgressTimeoutSecs ? t.sendProgressTimeoutSecs : 0));\n              this.eventLogSettings.logHealthCheckError = t.logHealthCheckError, this.eventLogSettings.logSendPingError = t.logSendPingError;\n              for (var n = 0, o = Object.keys(c).map(function (t) {\n                  return c[t];\n                }); n < o.length; n++) {\n                var i = o[n];\n                void 0 !== t[i] && (this.eventLogSettings[i] = t[i]);\n              }\n              this.eventLogSettings.sendProgressTimeoutSecs !== e && (this.eventLogSettings.sendProgressTimeoutSecs = e, this.resetProgressSendTimer());\n            }\n          }, t;\n        }();\n      e.ConnectionTracker = l;\n    }, function (t, e, n) {\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.DisconnectReason = void 0;\n      var o = function () {\n        function t(t, e, n) {\n          this.reason = t, this.claims = e, this.details = n;\n        }\n        return t.fromRawReason = function (e, n) {\n          if (\"\" === e || \"dup\" === e) return new t(e);\n          try {\n            var o = JSON.parse(e);\n            return \"object\" != typeof o || void 0 === o.reason ? (null === n || void 0 === n || n.error(\"invalid disconnect reason format\"), new t(\"unknown\", void 0, e)) : new t(o.reason, o.claims, o.details);\n          } catch (n) {\n            return new t(\"disconnect\", void 0, e);\n          }\n        }, t.fromSocketIoEventData = function (e, n) {\n          return \"string\" == typeof n ? new t(e, void 0, n) : void 0;\n        }, t.prototype.toTelemetryString = function () {\n          return \"socketerror\" === this.reason || \"reconnecterror\" === this.reason || \"disconnect\" === this.reason ? this.details : this.reason;\n        }, t;\n      }();\n      e.DisconnectReason = o;\n    }, function (t, e, n) {\n      function o(t, e, n) {\n        if (void 0 === t || void 0 === e) return !1;\n        var o = Date.now() - t;\n        return o > e * n.tolerance && o > n.minimumWaitMs;\n      }\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.ExponentialBackoff = void 0;\n      var i = function () {\n        function t(t, e, n) {\n          void 0 === n && (n = {\n            tolerance: 2,\n            minimumWaitMs: 1e4\n          }), this.logger = t, this.maxBackoffInMs = e, this.gapDetectionSettings = n, this.backoffId = 0, this.backoffCount = 0;\n        }\n        return t.calculateNextBackoffMs = function (t, e) {\n          var n = 1 + .4 * (Math.random() - .5),\n            o = 1e3 * Math.pow(2, t) * n;\n          return o = Math.round(o), Math.min(e, o);\n        }, t.prototype.setMaxBackoffMs = function (t) {\n          this.maxBackoffInMs = t;\n        }, t.prototype.backoff = function (e, n) {\n          var i = this;\n          if (void 0 !== this.timerHandle && (this.logger.debug(\"Clearing current back off\"), clearTimeout(this.timerHandle), this.timerHandle = void 0), void 0 !== this.previousCompleteTime) {\n            var r = Date.now() - this.previousCompleteTime;\n            r > this.maxBackoffInMs * this.gapDetectionSettings.tolerance && r > this.gapDetectionSettings.minimumWaitMs && (this.logger.info(\"Back off for \".concat(e, \" with ID \").concat(this.backoffId, \" will be reset due to a lot of time having passed since the previous backoff (\").concat(r, \" ms)\")), this.backoffCount = 0, this.previousCompleteTime = void 0);\n          }\n          var s = t.calculateNextBackoffMs(this.backoffCount, this.maxBackoffInMs);\n          this.backoffId++, this.backoffCount++, this.logger.info(\"Backing off \".concat(e, \" for \").concat(s, \" milliseconds with ID \").concat(this.backoffId)), this.callback = function (t, r) {\n            o(t, r, i.gapDetectionSettings) && (i.logger.info(\"Back off for \".concat(e, \" with ID \").concat(i.backoffId, \" will be reset due to the wait (\").concat(Date.now() - (null !== t && void 0 !== t ? t : 0), \" ms) being longer than expected (\").concat(r, \" ms)\")), i.backoffCount = 0), i.logger.info(\"Back off for \".concat(e, \" with ID \").concat(i.backoffId, \" complete, invoking handler\")), i.timerHandle = void 0, i.callback = void 0, i.previousCompleteTime = Date.now(), n();\n          };\n          var c = Date.now();\n          this.timerHandle = setTimeout(function () {\n            var t;\n            return null === (t = i.callback) || void 0 === t ? void 0 : t.call(i, c, s);\n          }, s);\n        }, t.prototype.reset = function () {\n          void 0 !== this.timerHandle && (this.logger.debug(\"Resetting back off with ID \".concat(this.backoffId)), clearTimeout(this.timerHandle), this.timerHandle = void 0, this.callback = void 0), this.backoffCount = 0;\n        }, t.prototype.expediteIfPending = function () {\n          if (this.backoffCount = 0, void 0 !== this.timerHandle) {\n            this.logger.debug(\"Expediting back off with ID \".concat(this.backoffId)), clearTimeout(this.timerHandle), this.timerHandle = void 0;\n            var t = this.callback;\n            this.callback = void 0, t && t();\n          }\n        }, t;\n      }();\n      e.ExponentialBackoff = i;\n    }, function (t, e, n) {\n      var o = this && this.__spreadArray || function (t, e, n) {\n        if (n || 2 === arguments.length) for (var o, i = 0, r = e.length; i < r; i++) !o && i in e || (o || (o = Array.prototype.slice.call(e, 0, i)), o[i] = e[i]);\n        return t.concat(o || Array.prototype.slice.call(e));\n      };\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.LoggingManagerConsumer = e.RegistrationEnforcer = void 0;\n      var i = n(6),\n        r = function () {\n          function t(t, e, n) {\n            this.wrapped = t, this.shouldConnectionDependOnRegistration = e, this.shouldHoldBackEvents = n, this.isRegistered = !1, this.heldBackEvents = [];\n          }\n          return t.prototype.onDownstreamRequest = function (t, e, n) {\n            this.passIfRegisteredOrNotNeeded(\"onDownstreamRequest\", t, e, n);\n          }, t.prototype.onConnected = function (t) {\n            this.passIfRegisteredOrNotNeeded(\"onConnected\", t);\n          }, t.prototype.onRegistered = function (t) {\n            this.isRegistered = !0, this.wrapped.onRegistered(t), this.fireHeldBackEvents();\n          }, t.prototype.onUnregistered = function (t) {\n            this.isRegistered = !1, this.wrapped.onUnregistered(t), t.getState() === i.State.Connected && this.shouldConnectionDependOnRegistration() && t.forceReconnectDueToNoRegistration();\n          }, t.prototype.onReconnecting = function (t) {\n            this.wrapped.onReconnecting(t);\n          }, t.prototype.onReconnectIsRequired = function (t, e, n) {\n            this.wrapped.onReconnectIsRequired(t, e, n);\n          }, t.prototype.onDisconnected = function (t) {\n            this.isRegistered = !1, this.dropHeldBackEvents(), this.wrapped.onDisconnected(t);\n          }, t.prototype.onTerminalError = function (t) {\n            this.wrapped.onTerminalError(t);\n          }, t.prototype.onConnectionParametersUpdated = function (t) {\n            this.wrapped.onConnectionParametersUpdated(t);\n          }, t.prototype.onTrouterMessageLost = function (t) {\n            this.passIfRegisteredOrNotNeeded(\"onTrouterMessageLost\", t);\n          }, t.prototype.onUserActivityStateAccepted = function (t) {\n            this.passIfRegisteredOrNotNeeded(\"onUserActivityStateAccepted\", t);\n          }, t.prototype.onAudiencesSetResolved = function (t, e) {\n            this.passIfRegisteredOrNotNeeded(\"onAudiencesSetResolved\", t, e);\n          }, t.prototype.getState = function () {\n            return this.wrapped.getState();\n          }, t.prototype.holdBackEvent = function (t) {\n            for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];\n            this.heldBackEvents.push({\n              kind: t,\n              args: e\n            });\n          }, t.prototype.passIfRegisteredOrNotNeeded = function (t) {\n            for (var e, n = [], i = 1; i < arguments.length; i++) n[i - 1] = arguments[i];\n            var r = this.shouldConnectionDependOnRegistration(),\n              s = this.shouldHoldBackEvents();\n            r && s || this.fireHeldBackEvents(r ? function (t) {\n              return \"onConnected\" !== t.kind;\n            } : void 0), this.isRegistered || !r || !1 === s && \"onConnected\" !== t ? (e = this.wrapped)[t].apply(e, n) : this.holdBackEvent.apply(this, o([t], n, !1));\n          }, t.prototype.fireHeldBackEvents = function (t) {\n            for (var e, n = 0, o = this.heldBackEvents; n < o.length; n++) {\n              var i = o[n];\n              (void 0 === t || t(i)) && (e = this.wrapped)[i.kind].apply(e, i.args);\n            }\n            this.heldBackEvents = void 0 === t ? [] : this.heldBackEvents.filter(function (e) {\n              return !t(e);\n            });\n          }, t.prototype.dropHeldBackEvents = function () {\n            this.heldBackEvents = [];\n          }, t;\n        }();\n      e.RegistrationEnforcer = r;\n      var s = function () {\n        function t(t, e, n, o) {\n          this.wrapped = t, this.prefix = e, this.logger = n, this.onEventAction = o;\n        }\n        return t.prototype.onEvent = function (t, e) {\n          var n;\n          void 0 !== this.onEventAction ? this.onEventAction(t, e) : (null !== (n = this.logger) && void 0 !== n ? n : console).log(\"\".concat(this.prefix, \" TracingEnforcer: \").concat(t, \"(\").concat(e, \")\"));\n        }, t.prototype.onDownstreamRequest = function (t, e, n) {\n          this.onEvent(\"onDownstreamRequest\", JSON.stringify({\n            request: e,\n            response: n\n          })), this.wrapped.onDownstreamRequest(t, e, n);\n        }, t.prototype.onConnected = function (t) {\n          this.onEvent(\"onConnected\", t.getState().toString()), this.wrapped.onConnected(t);\n        }, t.prototype.onRegistered = function (t) {\n          this.onEvent(\"onRegistered\", t.getState().toString()), this.wrapped.onRegistered(t);\n        }, t.prototype.onUnregistered = function (t) {\n          this.onEvent(\"onUnregistered\", t.getState().toString()), this.wrapped.onUnregistered(t);\n        }, t.prototype.onReconnecting = function (t) {\n          this.onEvent(\"onReconnecting\", t.getState().toString()), this.wrapped.onReconnecting(t);\n        }, t.prototype.onReconnectIsRequired = function (t, e, n) {\n          this.onEvent(\"onReconnectIsRequired\", JSON.stringify({\n            connection: t.getState().toString(),\n            useConnectParamsFromCache: e,\n            reason: n\n          })), this.wrapped.onReconnectIsRequired(t, e, n);\n        }, t.prototype.onDisconnected = function (t) {\n          this.onEvent(\"onDisconnected\", t.getState().toString()), this.wrapped.onDisconnected(t);\n        }, t.prototype.onTerminalError = function (t) {\n          this.onEvent(\"onTerminalError\", JSON.stringify({\n            connection: t\n          })), this.wrapped.onTerminalError(t);\n        }, t.prototype.onConnectionParametersUpdated = function (t) {\n          this.onEvent(\"onConnectionParametersUpdated\", JSON.stringify({\n            connectParams: t\n          })), this.wrapped.onConnectionParametersUpdated(t);\n        }, t.prototype.onTrouterMessageLost = function (t) {\n          this.onEvent(\"onTrouterMessageLost\", JSON.stringify({\n            flowTags: t\n          })), this.wrapped.onTrouterMessageLost(t);\n        }, t.prototype.onUserActivityStateAccepted = function (t) {\n          this.onEvent(\"onUserActivityStateAccepted\", JSON.stringify({\n            cv: t\n          })), this.wrapped.onUserActivityStateAccepted(t);\n        }, t.prototype.onAudiencesSetResolved = function (t, e) {\n          this.onEvent(\"onAudiencesSetResolved\", JSON.stringify({\n            audienceSubscriptionsResponse: t,\n            cv: e\n          })), this.wrapped.onAudiencesSetResolved(t, e);\n        }, t.prototype.getState = function () {\n          return this.wrapped.getState();\n        }, t;\n      }();\n      e.LoggingManagerConsumer = s;\n    }, function (t, e, n) {\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.TrouterManagerFsm = void 0;\n      var o = n(2),\n        i = n(4),\n        r = n(0),\n        s = n(7),\n        c = function () {\n          function t(t, e) {\n            this.worker = e, this.state = i.TrouterManagerState.Unknown, this.logger = new r.Logger(\"ManagerFsm\", t);\n          }\n          return t.prototype.start = function () {\n            this.state === i.TrouterManagerState.Unknown ? (this.setState(i.TrouterManagerState.Disconnected), this.worker.forceStopLingeringConnection(), this.worker.startFirstConnection()) : (this.logger.info(\"start called in state '\".concat(i.TrouterManagerState[this.state], \"', expediting pending backoffs, if any\")), this.worker.expediteBackoffOnConnections());\n          }, t.prototype.stop = function (t) {\n            this.state !== i.TrouterManagerState.Unknown ? (this.setState(i.TrouterManagerState.Unknown), this.worker.stopFirstConnection(!0 === t), this.worker.stopSecondConnection(!0 === t)) : this.showIgnored(\"stop\");\n          }, t.prototype.getState = function () {\n            switch (this.state) {\n              case i.TrouterManagerState.Unknown:\n              case i.TrouterManagerState.Connected:\n              case i.TrouterManagerState.Disconnected:\n              case i.TrouterManagerState.Switching:\n                return this.state;\n              case i.TrouterManagerState.TerminalError:\n                return o.TrouterState.Disconnected;\n            }\n          }, t.prototype.getInternalState = function () {\n            return this.state;\n          }, t.prototype.onConnected = function (t) {\n            this.state === i.TrouterManagerState.Disconnected && t ? this.worker.doesSecondConnectionExist() ? this.setState(i.TrouterManagerState.Switching) : (this.setState(i.TrouterManagerState.Connected), this.worker.dispatchConnected()) : this.showIgnored(\"onConnected(\".concat(t, \")\"));\n          }, t.prototype.onRegistered = function (t) {\n            this.state !== i.TrouterManagerState.Disconnected || t ? this.state !== i.TrouterManagerState.Switching || t ? this.state === i.TrouterManagerState.Disconnected && t && (this.setState(i.TrouterManagerState.Connected), this.worker.dispatchConnected()) : (this.setState(i.TrouterManagerState.Connected), this.worker.switchConnections(), this.worker.stopSecondConnectionDelayed(), this.worker.dispatchConnected()) : (this.setState(i.TrouterManagerState.Connected), this.worker.switchConnections(), this.worker.stopSecondConnection(!0), this.worker.dispatchConnected()), this.worker.dispatchRegistrationState(!0);\n          }, t.prototype.onUnregistered = function (t) {\n            t && this.worker.dispatchRegistrationState(!1);\n          }, t.prototype.onReconnecting = function (t) {\n            this.state !== i.TrouterManagerState.Connected && this.state !== i.TrouterManagerState.Switching || !t ? this.showIgnored(\"onReconnecting(\".concat(t, \")\")) : (this.setState(i.TrouterManagerState.Disconnected), this.worker.dispatchDisconnected());\n          }, t.prototype.onReconnectionRequired = function (t, e, n) {\n            this.state === i.TrouterManagerState.Connected && t ? (this.setState(i.TrouterManagerState.Switching), this.worker.startSecondConnection(e)) : this.state === i.TrouterManagerState.Disconnected && t ? this.worker.startSecondConnection(e) : this.state === i.TrouterManagerState.Switching && t && n === s.ReconnectReason.Configuration ? (this.logger.debug(\"onReconnectionRequired: switch requested while already in Switching state\"), this.worker.stopSecondConnection(!0), this.worker.startSecondConnection(e)) : this.showIgnored(\"onReconnectionRequired(\".concat(t, \")\"));\n          }, t.prototype.onDisconnected = function (t) {\n            this.state == i.TrouterManagerState.Unknown && t ? this.worker.dispatchDisconnected() : this.state == i.TrouterManagerState.Switching && t ? (this.worker.switchConnections(), this.worker.stopSecondConnection(!1), this.setState(i.TrouterManagerState.Disconnected), this.worker.dispatchDisconnected()) : this.showIgnored(\"onDisconnected(\".concat(t, \")\"));\n          }, t.prototype.onTerminalError = function () {\n            this.setState(i.TrouterManagerState.TerminalError), this.worker.dispatchTerminalError();\n          }, t.prototype.showIgnored = function (t) {\n            this.logger.info(\"Ignoring event '\".concat(t, \"' in state '\").concat(i.TrouterManagerState[this.state], \"'\"));\n          }, t.prototype.setState = function (t) {\n            if (this.logger.info(\"Switching from state '\".concat(i.TrouterManagerState[this.state], \"' to state '\").concat(i.TrouterManagerState[t], \"'\")), this.state === t) return void this.logger.error(\"Attempt to switch to the current state '\".concat(i.TrouterManagerState[t], \"'\"));\n            this.state = t;\n          }, t;\n        }();\n      e.TrouterManagerFsm = c;\n    }, function (t, e, n) {\n      function o(t, e) {\n        if (!e) return t;\n        var n = h(h({}, t), {\n          enabled: e.TelemetryEnabled\n        });\n        return void 0 !== e.ClientTelemetryEventEnabled && (n = h(h({}, n), e.ClientTelemetryEventEnabled)), n;\n      }\n      function i(t, e, n) {\n        var i,\n          r,\n          s,\n          c,\n          a,\n          u,\n          d,\n          l,\n          p,\n          g,\n          f = function (n) {\n            return t.proxyUrlRewrite ? (e.info(\"Using rewritten URL for proxy\"), t.proxyUrlRewrite(n)) : n;\n          };\n        return {\n          clientInfo: {\n            ua: t.trouterSettings.productName,\n            v: t.trouterSettings.version\n          },\n          ioOptions: {\n            ackTimeoutMs: 5e3,\n            rewriteUrlForProxy: f\n          },\n          clientCorrelationID: t.trouterSettings.sessionId,\n          environment: t.trouterSettings.environment,\n          telemetrySettings: o(t.telemetryConfig.settings, n),\n          eventLogger: t.telemetryConfig.eventLogger,\n          endpointId: t.trouterSettings.registrationId,\n          trouterUrl: (null === n || void 0 === n ? void 0 : n.TrouterConnectionUrl) || t.trouterSettings.trouterServiceUrl,\n          registration: t.trouterSettings.registrarServiceUrl ? {\n            registrarUrl: t.trouterSettings.registrarServiceUrl,\n            registrationId: null !== (i = t.trouterSettings.registrationId) && void 0 !== i ? i : \"\",\n            pnhAppId: null !== (r = t.trouterSettings.pnhAppId) && void 0 !== r ? r : \"\",\n            platform: null !== (s = t.trouterSettings.platform) && void 0 !== s ? s : \"\",\n            pnhTemplateKey: null !== (c = t.trouterSettings.pnhTemplate) && void 0 !== c ? c : \"\",\n            platformUIVersion: null !== (a = t.trouterSettings.platformUIVersion) && void 0 !== a ? a : \"\",\n            productContext: t.trouterSettings.pnhProductContext || void 0,\n            context: null !== (u = t.trouterSettings.pnhContext) && void 0 !== u ? u : \"\",\n            registrarTtlSec: (null !== (d = t.trouterSettings.maxRegistrationTimeInMs) && void 0 !== d ? d : 0) / 1e3\n          } : void 0,\n          connectionDependsOnRegistration: void 0 === t.trouterSettings.registrarServiceUrl ? function () {\n            return !1;\n          } : null !== (l = t.trouterSettings.connectionDependsOnRegistration) && void 0 !== l ? l : function () {\n            return !1;\n          },\n          delayEventsUntilRegistered: null !== (p = t.trouterSettings.delayEventsUntilRegistered) && void 0 !== p ? p : function () {\n            return !1;\n          },\n          timeoutOptions: h({\n            connectionTimeoutMs: t.trouterSettings.trouterConnectTimeoutInMs || 3e4,\n            fetchTimeoutMs: 1e4,\n            pingTimeoutMs: 4e4,\n            pongTimeoutMs: 5e3,\n            maxBackoffMs: \"TeamsCDL\" === t.trouterSettings.productName ? 3e5 : 3e4,\n            requestTimeoutMs: 5e3,\n            userActivityResponseTimeoutMs: 1e4\n          }, t.trouterSettings.timeoutOptions),\n          incallTimeoutOptions: h({\n            connectionTimeoutMs: 1e4,\n            fetchTimeoutMs: 5e3,\n            pingTimeoutMs: 5e3,\n            pongTimeoutMs: 2e3,\n            maxBackoffMs: \"TeamsCDL\" === t.trouterSettings.productName ? 3e5 : 1e4,\n            requestTimeoutMs: 5e3,\n            userActivityResponseTimeoutMs: 1e4\n          }, t.trouterSettings.incallTimeoutOptions),\n          incallModeTimeoutMs: null !== (g = t.trouterSettings.incallModeTimeoutMs) && void 0 !== g ? g : 0,\n          lingeringConnectionDelayMs: 6e4,\n          userActivitySecondResendDelayMs: t.trouterSettings.userActivitySecondResendDelayMs || 1e4,\n          duplicateDisconnectThresholdMs: 1e4,\n          connectionCache: t.connectionCache,\n          registrationStateCallback: t.registrationStateCallbackForAcsDoNotUse,\n          rewriteUrlForProxy: f,\n          retryLimitOnTokenFetch: t.trouterSettings.retryLimitOnTokenFetch,\n          extraConnectionHeaders: t.trouterSettings.extraConnectionHeaders,\n          expediteBackoffOnStartMinimumDelayMs: 1e4,\n          toJSON: function () {\n            return h(h({}, this), {\n              connectionCache: this.connectionCache ? {} : this.connectionCache\n            });\n          }\n        };\n      }\n      function r(t) {\n        return new S(t);\n      }\n      function s() {\n        return p.CLIENT_VERSION;\n      }\n      function c(t, e) {\n        var n = t.indexOf(\"://\");\n        if (n >= 0) {\n          var o = t.indexOf(\"/\", n + 3);\n          if (o >= 0) return e + t.substr(o);\n        }\n        return \"\";\n      }\n      function a(t) {\n        var e = this;\n        return function (n) {\n          return d(e, void 0, void 0, function () {\n            var e;\n            return l(this, function (o) {\n              switch (o.label) {\n                case 0:\n                  return e = {}, [4, t(n.needFresh)];\n                case 1:\n                  return [2, (e.token = o.sent(), e.tokenType = \"skype\", e)];\n              }\n            });\n          });\n        };\n      }\n      function u(t, e) {\n        var n,\n          o = this;\n        return function (i) {\n          return d(o, void 0, void 0, function () {\n            var o, r, s;\n            return l(this, function (c) {\n              switch (c.label) {\n                case 0:\n                  o = new Date(), r = setInterval(function () {\n                    var e = Math.round((Date.now() - o.getTime()) / 6e4);\n                    t.warn(\"Note: Trouter auth token request promise from \".concat(o.toISOString(), \" has not been resolved for \").concat(e, \" minutes. The client is blocked from operating properly\"));\n                  }, 3e5), c.label = 1;\n                case 1:\n                  return c.trys.push([1,, 3, 4]), [4, e(i)];\n                case 2:\n                  return s = c.sent(), i.needFresh && s.token === n && t.error(\"API violation: Trouter auth token provider got a request with needRefresh=true, but returned the same token as last time anyway. Please fix the host app\"), n = s.token, [2, s];\n                case 3:\n                  return clearInterval(r), [7];\n                case 4:\n                  return [2];\n              }\n            });\n          });\n        };\n      }\n      var h = this && this.__assign || function () {\n          return h = Object.assign || function (t) {\n            for (var e, n = 1, o = arguments.length; n < o; n++) {\n              e = arguments[n];\n              for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);\n            }\n            return t;\n          }, h.apply(this, arguments);\n        },\n        d = this && this.__awaiter || function (t, e, n, o) {\n          function i(t) {\n            return t instanceof n ? t : new n(function (e) {\n              e(t);\n            });\n          }\n          return new (n || (n = Promise))(function (n, r) {\n            function s(t) {\n              try {\n                a(o.next(t));\n              } catch (t) {\n                r(t);\n              }\n            }\n            function c(t) {\n              try {\n                a(o.throw(t));\n              } catch (t) {\n                r(t);\n              }\n            }\n            function a(t) {\n              t.done ? n(t.value) : i(t.value).then(s, c);\n            }\n            a((o = o.apply(t, e || [])).next());\n          });\n        },\n        l = this && this.__generator || function (t, e) {\n          function n(t) {\n            return function (e) {\n              return o([t, e]);\n            };\n          }\n          function o(n) {\n            if (i) throw new TypeError(\"Generator is already executing.\");\n            for (; c && (c = 0, n[0] && (a = 0)), a;) try {\n              if (i = 1, r && (s = 2 & n[0] ? r.return : n[0] ? r.throw || ((s = r.return) && s.call(r), 0) : r.next) && !(s = s.call(r, n[1])).done) return s;\n              switch (r = 0, s && (n = [2 & n[0], s.value]), n[0]) {\n                case 0:\n                case 1:\n                  s = n;\n                  break;\n                case 4:\n                  return a.label++, {\n                    value: n[1],\n                    done: !1\n                  };\n                case 5:\n                  a.label++, r = n[1], n = [0];\n                  continue;\n                case 7:\n                  n = a.ops.pop(), a.trys.pop();\n                  continue;\n                default:\n                  if (s = a.trys, !(s = s.length > 0 && s[s.length - 1]) && (6 === n[0] || 2 === n[0])) {\n                    a = 0;\n                    continue;\n                  }\n                  if (3 === n[0] && (!s || n[1] > s[0] && n[1] < s[3])) {\n                    a.label = n[1];\n                    break;\n                  }\n                  if (6 === n[0] && a.label < s[1]) {\n                    a.label = s[1], s = n;\n                    break;\n                  }\n                  if (s && a.label < s[2]) {\n                    a.label = s[2], a.ops.push(n);\n                    break;\n                  }\n                  s[2] && a.ops.pop(), a.trys.pop();\n                  continue;\n              }\n              n = e.call(t, a);\n            } catch (t) {\n              n = [6, t], r = 0;\n            } finally {\n              i = s = 0;\n            }\n            if (5 & n[0]) throw n[1];\n            return {\n              value: n[0] ? n[1] : void 0,\n              done: !0\n            };\n          }\n          var i,\n            r,\n            s,\n            c,\n            a = {\n              label: 0,\n              sent: function () {\n                if (1 & s[0]) throw s[1];\n                return s[1];\n              },\n              trys: [],\n              ops: []\n            };\n          return c = {\n            next: n(0),\n            throw: n(1),\n            return: n(2)\n          }, \"function\" == typeof Symbol && (c[Symbol.iterator] = function () {\n            return this;\n          }), c;\n        };\n      Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      }), e.replaceTrouterUrlBase = e.getTrouterServiceVersion = e.createTrouterService = e.TrouterService = e.UserActivityState = e.TrouterState = void 0;\n      var p = n(1),\n        g = n(2);\n      Object.defineProperty(e, \"TrouterState\", {\n        enumerable: !0,\n        get: function () {\n          return g.TrouterState;\n        }\n      }), Object.defineProperty(e, \"UserActivityState\", {\n        enumerable: !0,\n        get: function () {\n          return g.UserActivityState;\n        }\n      });\n      var f = n(0),\n        v = n(8),\n        m = n(9),\n        y = n(10),\n        T = n(11),\n        S = function () {\n          function t(t) {\n            this.logProvider = t, this.stateChangedListeners = [], this.logger = new f.Logger(\"Trouter\", t), this.trouterUrlPromise = new T.TrouterUrlPromise(t), this.messageHandlers = new v.MessageHandlerRegistry(t), this.listeners = {}, this.connectionInfo = null, this.logger.info(\"Created TrouterService version \".concat(p.CLIENT_VERSION));\n          }\n          return t.prototype.start = function (t) {\n            var e;\n            if (this.logger.info(\"Start\"), !t.skypeTokenProvider && !t.authTokenProvider) throw new Error(\"no token provider has been configured, either skypeTokenProvider or authTokenProvider must be populated\");\n            t.skypeTokenProvider && !t.trouterSettings.disableInternalSkypeTokenCache && (t.skypeTokenProvider = (0, m.addCacheAsBackupTo)(t.skypeTokenProvider)), this.trouterCfg = t;\n            var n = i(t, this.logger, this.ecsCfg);\n            !1 === t.internalEnableV4cProtocol && (n.forceV4aProtocol = !0);\n            var o = u(this.logger, null !== (e = t.authTokenProvider) && void 0 !== e ? e : a(t.skypeTokenProvider));\n            void 0 === this.trouterServer && (this.trouterServer = new y.TrouterManager(this.logProvider, n, o, void 0 === t.authTokenProvider, this)), void 0 !== this.pendingActivityState && (this.trouterServer.setUserActivityState(this.pendingActivityState[0], this.pendingActivityState[1]), this.pendingActivityState = void 0), this.trouterServer.start();\n          }, t.prototype.stop = function (t) {\n            this.logger.info(\"close connection\"), this.trouterUrlPromise.rejectUrl(new Error(\"TrouterService is stopped\")), void 0 !== this.trouterServer && this.trouterServer.stop(t);\n          }, t.prototype.setEcsConfig = function (t) {\n            return d(this, void 0, void 0, function () {\n              var e = this;\n              return l(this, function (n) {\n                return [2, new Promise(function (n) {\n                  if (e.ecsCfg = t.TrouterJScriptClient, e.logger.info(\"Setting ECS configuration to \".concat(JSON.stringify(e.ecsCfg))), void 0 !== e.trouterServer && void 0 !== e.trouterCfg) {\n                    var o = i(e.trouterCfg, e.logger, e.ecsCfg);\n                    e.trouterServer.configure(o);\n                  }\n                  n();\n                })];\n              });\n            });\n          }, t.prototype.checkConnection = function (t) {\n            void 0 !== this.trouterServer && this.trouterServer.checkConnection(null !== t && void 0 !== t && t);\n          }, t.prototype.resendRegistration = function () {\n            return d(this, void 0, void 0, function () {\n              return l(this, function (t) {\n                if (!this.trouterServer) throw new Error(\"resendRegistration called too early\");\n                return [2, this.trouterServer.resendRegistration()];\n              });\n            });\n          }, t.prototype.registerListener = function (t, e) {\n            return \"\" === e || !e.startsWith(\"/\") || e.includes(\"?\") || e.includes(\"#\") ? (this.logger.error(\"Listener path '\".concat(e, \"' is not valid\")), !1) : this.listeners[e] ? (this.logger.error(\"Another listener is already registered for path '\".concat(e, \"'\")), !1) : (this.listeners[e] = t, this.logger.debug(\"Listener for path '\".concat(e, \"' registered\")), this.connectionInfo && t.onTrouterConnected(this.connectionInfo.baseEndpointUrl + e, this.connectionInfo), !0);\n          }, t.prototype.unregisterListener = function (t) {\n            for (var e = [], n = 0, o = Object.keys(this.listeners); n < o.length; n++) {\n              var i = o[n];\n              this.listeners[i] === t && e.push(i);\n            }\n            if (0 === e.length) return !1;\n            for (var r = 0, s = e; r < s.length; r++) {\n              var i = s[r];\n              delete this.listeners[i];\n            }\n            return this.logger.debug(\"Listener for path(s) '\".concat(e.join(\"', '\"), \"' unregistered\")), !0;\n          }, t.prototype.onTrouterConnected = function (t, e) {\n            this.logger.debug(\"Trouter is now connected\");\n            for (var n = 0, o = Object.keys(this.listeners); n < o.length; n++) {\n              var i = o[n];\n              try {\n                this.listeners[i].onTrouterConnected(e.baseEndpointUrl + i, e);\n              } catch (t) {\n                this.logger.error(\"Listener '\".concat(i, \"' threw an exception from onTrouterConnected(): \").concat(t));\n              }\n            }\n            this.connectionInfo = e, this.trouterUrlPromise.resolveUrl(t), this.notifyStateChanged(g.TrouterState.Connected, {\n              url: t,\n              getRemainingTtlInSec: function () {\n                return e.connectionTtlSec;\n              }\n            });\n          }, t.prototype.onTrouterDisconnected = function () {\n            this.logger.debug(\"Trouter is now disconnected\"), this.connectionInfo = null;\n            for (var t = 0, e = Object.keys(this.listeners); t < e.length; t++) {\n              var n = e[t],\n                o = this.listeners[n];\n              if (o.onTrouterDisconnected) try {\n                o.onTrouterDisconnected();\n              } catch (t) {\n                this.logger.error(\"Listener '\".concat(n, \"' threw an exception from onTrouterDisconnected(): \").concat(t));\n              }\n            }\n            this.notifyStateChanged(g.TrouterState.Disconnected);\n          }, t.prototype.onTrouterRequest = function (t, e) {\n            for (var n = \"\", o = 0, i = Object.keys(this.listeners); o < i.length; o++) {\n              var r = i[o];\n              t.path.startsWith(r) && r.length > n.length && (n = r);\n            }\n            if (\"\" === n) this.tryMessageHandlers(t, e) || (e.status = 404, e.headers = {\n              \"Trouter-Responder\": \"ClientLib\"\n            }, e.send());else try {\n              this.listeners[n].onTrouterRequest(t, e);\n            } catch (t) {\n              this.logger.error(\"Listener '\".concat(n, \"' threw an exception from onTrouterRequest(): \").concat(t)), e.status = 500, e.headers = {\n                \"Trouter-Responder\": \"ClientLib\"\n              }, e.send();\n            }\n          }, t.prototype.onTrouterMessageLoss = function (t) {\n            this.logger.info(\"onTrouterMessageLoss called with tags [\".concat(t, \"]\"));\n            for (var e = !0, n = 0, o = Object.keys(this.listeners); n < o.length; n++) {\n              var i = o[n],\n                r = this.listeners[i];\n              if (r.onTrouterMessageLoss) try {\n                e = r.onTrouterMessageLoss(t) && e, void 0 === e && (this.logger.error(\"Listener '\".concat(i, \"' did not return a boolean value from onTrouterMessageLoss()\")), e = !1);\n              } catch (t) {\n                this.logger.error(\"Listener '\".concat(i, \"' threw an exception from onTrouterMessageLoss(): \").concat(t)), e = !1;\n              }\n            }\n            return e;\n          }, t.prototype.onTrouterUserActivityStateAccepted = function (t) {\n            this.logger.debug(\"onTrouterUserActivityStateAccepted cv: \".concat(t));\n            for (var e = 0, n = Object.keys(this.listeners); e < n.length; e++) {\n              var o = n[e],\n                i = this.listeners[o];\n              if (i.onTrouterUserActivityStateAccepted) try {\n                i.onTrouterUserActivityStateAccepted(t);\n              } catch (t) {\n                this.logger.error(\"Listener '\".concat(o, \"' threw an exception from onTrouterUserActivityStateAccepted(): \").concat(t));\n              }\n            }\n          }, t.prototype.onAudiencesSetResolved = function (t, e) {\n            this.logger.debug(\"onAudiencesSetResolved cv: \".concat(e));\n            for (var n = 0, o = Object.keys(this.listeners); n < o.length; n++) {\n              var i = o[n],\n                r = this.listeners[i];\n              if (r.onAudiencesSetResolved) try {\n                r.onAudiencesSetResolved(t, e);\n              } catch (t) {\n                this.logger.error(\"Listener '\".concat(i, \"' threw an exception from onAudienceSubscribed(): \").concat(t));\n              }\n            }\n          }, t.prototype.setUserActivityState = function (t, e) {\n            if (t !== g.UserActivityState.Active && t !== g.UserActivityState.Inactive) throw new Error(\"setUserActivityState called with unsupported value \".concat(t));\n            this.logger.info(\"setUserActivityState called with value \".concat(g.UserActivityState[t])), this.trouterServer && this.state() !== g.TrouterState.Unknown ? this.trouterServer.setUserActivityState(t, e) : (this.pendingActivityState = [t, e], this.logger.warn(\"setUserActivityState called before start() or after stop()\"));\n          }, t.prototype.setAudienceSubscriptions = function (t, e) {\n            if (t.audienceSubscriptions.length > 1) throw new Error(\"Only singular audience subscription is supported\");\n            if (this.trouterServer && this.state() !== g.TrouterState.Unknown) return this.trouterServer.setAudienceSubscriptionsAsync(t, 15e3, e);\n            throw new Error(\"audience subscribe called before start() or after stop()\");\n          }, t.prototype.state = function () {\n            return void 0 !== this.trouterServer ? this.trouterServer.getState() : g.TrouterState.Unknown;\n          }, t.prototype.isInTerminalState = function () {\n            return void 0 !== this.trouterServer && this.trouterServer.isInTerminalState();\n          }, t.prototype.reportStateInfo = function () {\n            return void 0 === this.trouterServer ? \"\" : this.trouterServer.reportStateInfo();\n          }, t.prototype.getServerState = function () {\n            if (void 0 !== this.trouterServer) return this.trouterServer.getServerState();\n          }, t.prototype.getTrouterUrlAsync = function () {\n            return void 0 !== this.trouterServer ? this.trouterUrlPromise.getPromise() : Promise.reject(new Error(\"TrouterService has not been started\"));\n          }, t.prototype.onStateChanged = function (t) {\n            if (this.logger.info(\"onStateChanged called\"), void 0 === t) this.stateChangedListeners = this.stateChangedListeners.filter(function (t) {\n              return void 0 === t.wrappedCallback;\n            });else {\n              this.offStateChanged(t);\n              var e = function (e, n) {\n                t(e, n ? n.url : \"\");\n              };\n              e.wrappedCallback = t, this.stateChangedListeners.push(e);\n            }\n          }, t.prototype.offStateChanged = function (t) {\n            this.logger.info(\"offStateChanged called\");\n            var e = this.stateChangedListeners.length;\n            return this.stateChangedListeners = this.stateChangedListeners.filter(function (e) {\n              return e.wrappedCallback !== t;\n            }), e > this.stateChangedListeners.length;\n          }, t.prototype.addCallback = function (t) {\n            this.logger.info(\"addListener called\"), -1 === this.stateChangedListeners.indexOf(t, 0) && void 0 !== t && this.stateChangedListeners.push(t);\n          }, t.prototype.removeCallback = function (t) {\n            this.logger.info(\"removeListener called\");\n            var e = this.stateChangedListeners.indexOf(t, 0);\n            return e > -1 && (this.stateChangedListeners.splice(e, 1), !0);\n          }, t.prototype.registerMessageHandler = function (t) {\n            this.logger.info(\"registerMessageHandler is called\"), this.messageHandlers.register(t);\n          }, t.prototype.clearMessageHandlers = function () {\n            this.logger.info(\"clearMessageHandlers is called\"), this.messageHandlers.clear();\n          }, t.prototype.notifyStateChanged = function (t, e) {\n            var n = this;\n            this.logger.info(\"notifyStateChanged called, will forward to \".concat(this.stateChangedListeners.length, \" listeners\")), this.stateChangedListeners.forEach(function (o) {\n              try {\n                o(t, e);\n              } catch (t) {\n                n.logger.error(\"Error in callback \".concat(t));\n              }\n            });\n          }, t.prototype.tryMessageHandlers = function (t, e) {\n            if (!this.messageHandlers.active()) return !1;\n            var n,\n              o = null;\n            try {\n              n = JSON.parse(t.body), o = n && (n.evt || n.eventId) || null;\n            } catch (t) {}\n            var i = {\n                eventId: o,\n                url: (this.connectionInfo ? this.connectionInfo.baseEndpointUrl : \"\") + t.path,\n                body: n,\n                rawBody: t.body,\n                headers: t.headers\n              },\n              r = this.messageHandlers.handleMessage(i);\n            return !!r.isHandled && (e.status = r.resultCode, r.responseHeaders && (e.headers = r.responseHeaders), r.responseBody && (e.body = r.responseBody), e.send(), !0);\n          }, t;\n        }();\n      e.TrouterService = S, e.createTrouterService = r, e.getTrouterServiceVersion = s, e.replaceTrouterUrlBase = c;\n    }, function (e, n) {\n      e.exports = t;\n    }]);\n  });\n});\nunwrapExports(tstrouter);\nvar chat = createCommonjsModule(function (module, exports) {\n  // Copyright (c) Microsoft Corporation.\n  // Licensed under the MIT license.\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.DeleteReason = void 0;\n  var DeleteReason;\n  (function (DeleteReason) {\n    DeleteReason[\"DeletedByPolicy\"] = \"deletedByPolicy\";\n    DeleteReason[\"DeletedByUser\"] = \"deletedByUser\";\n  })(DeleteReason || (exports.DeleteReason = DeleteReason = {}));\n});\nunwrapExports(chat);\nchat.DeleteReason;\nvar constants = createCommonjsModule(function (module, exports) {\n  // Copyright (c) Microsoft Corporation.\n  // Licensed under the MIT license.\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.PACKAGE_VERSION = exports.CONFIG_API_VERSION = exports.EudbCountries = exports.CloudPrefix = exports.CloudType = exports.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES = void 0;\n  exports.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES = 3;\n  // Gov cloud types\n  var CloudType;\n  (function (CloudType) {\n    CloudType[\"Public\"] = \"Public\";\n    CloudType[\"GccHigh\"] = \"GCC High\";\n    CloudType[\"Dod\"] = \"DoD\";\n  })(CloudType || (exports.CloudType = CloudType = {}));\n  var CloudPrefix;\n  (function (CloudPrefix) {\n    CloudPrefix[\"OrgId\"] = \"orgid\";\n    CloudPrefix[\"Acs\"] = \"acs\";\n    CloudPrefix[\"Spool\"] = \"spool\";\n    CloudPrefix[\"GccHigh\"] = \"gcch\";\n    CloudPrefix[\"GccHighAcs\"] = \"gcch-acs\";\n    CloudPrefix[\"Dod\"] = \"dod\";\n    CloudPrefix[\"DodAcs\"] = \"dod-acs\";\n  })(CloudPrefix || (exports.CloudPrefix = CloudPrefix = {}));\n  exports.EudbCountries = [\"europe\", \"france\", \"germany\", \"norway\", \"switzerland\", \"sweden\"];\n  exports.CONFIG_API_VERSION = \"2024-09-01\";\n  exports.PACKAGE_VERSION = \"1.0.0-beta.34\";\n});\nunwrapExports(constants);\nconstants.PACKAGE_VERSION;\nconstants.CONFIG_API_VERSION;\nconstants.EudbCountries;\nconstants.CloudPrefix;\nconstants.CloudType;\nconstants.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES;\nvar chat_1 = chat;\nvar constants_1 = constants;\nvar TrouterUtils = createCommonjsModule(function (module, exports) {\n  // Copyright (c) Microsoft Corporation.\n  // Licensed under the MIT license.\n  var __awaiter = commonjsGlobal && commonjsGlobal.__awaiter || function (thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P ? value : new P(function (resolve) {\n        resolve(value);\n      });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function rejected(value) {\n        try {\n          step(generator[\"throw\"](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function step(result) {\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n      }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  };\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.isEudbLocation = exports.parseTokenCredential = exports.base64decode = exports.toTelemetrySender = exports.toLogProvider = exports.toMessageHandler = void 0;\n  exports.generateUuid = generateUuid;\n  const eventIds = new Map([[\"chatMessageReceived\", 200], [\"typingIndicatorReceived\", 245], [\"readReceiptReceived\", 246], [\"chatMessageEdited\", 247], [\"chatMessageDeleted\", 248], [\"chatThreadCreated\", 257], [\"chatThreadPropertiesUpdated\", 258], [\"chatThreadDeleted\", 259], [\"participantsAdded\", 260], [\"participantsRemoved\", 261]]);\n  const publicTeamsUserPrefix = \"8:orgid:\";\n  const dodTeamsUserPrefix = \"8:dod:\";\n  const gcchTeamsUserPrefix = \"8:gcch:\";\n  const teamsVisitorUserPrefix = \"8:teamsvisitor:\";\n  const phoneNumberPrefix = \"4:\";\n  const acsUserPrefix = \"8:acs:\";\n  const acsGcchUserPrefix = \"8:gcch-acs:\";\n  const acsDodUserPrefix = \"8:dod-acs:\";\n  const spoolUserPrefix = \"8:spool:\";\n  const toMessageHandler = (event, listener, resourceEndpoint, gatewayApiVersion) => {\n    const eventId = eventIds.get(event);\n    return {\n      handleMessage(message) {\n        let genericPayload = null;\n        if (message === null || message === void 0 ? void 0 : message.rawBody) {\n          genericPayload = JSON.parse(message.rawBody);\n        }\n        if (genericPayload === null || genericPayload.eventId !== eventId) {\n          return undefined;\n        }\n        const eventPayload = toEventPayload(event, genericPayload, resourceEndpoint, gatewayApiVersion);\n        if (eventPayload === null) {\n          return undefined;\n        }\n        listener(eventPayload);\n        return {\n          isHandled: true,\n          resultCode: 200\n        };\n      }\n    };\n  };\n  exports.toMessageHandler = toMessageHandler;\n  function toChatMessageReceivedEvent(payload, resourceEndpoint, gatewayApiVersion) {\n    return {\n      threadId: payload.groupId,\n      sender: constructIdentifierKindFromMri(payload.senderId),\n      senderDisplayName: payload.senderDisplayName,\n      recipient: constructIdentifierKindFromMri(payload.recipientMri),\n      id: payload.messageId,\n      createdOn: new Date(payload.originalArrivalTime),\n      version: payload.version,\n      type: payload.messageType,\n      message: payload.messageBody,\n      metadata: parseJsonString(payload.acsChatMessageMetadata) || {},\n      attachments: transformEndpoint(parseJsonString(payload.attachments) || [], resourceEndpoint, gatewayApiVersion)\n    };\n  }\n  function toChatMessageEditedEvent(payload, resourceEndpoint, gatewayApiVersion) {\n    return Object.assign(Object.assign({}, toChatMessageReceivedEvent(payload, resourceEndpoint, gatewayApiVersion)), {\n      editedOn: new Date(payload.edittime)\n    });\n  }\n  const toEventPayload = (event, genericPayload, resourceEndpoint, gatewayApiVersion) => {\n    if (event === \"chatMessageReceived\") {\n      const payload = genericPayload;\n      return toChatMessageReceivedEvent(payload, resourceEndpoint, gatewayApiVersion);\n    }\n    if (event === \"chatMessageEdited\") {\n      const payload = genericPayload;\n      return toChatMessageEditedEvent(payload, resourceEndpoint, gatewayApiVersion);\n    }\n    if (event === \"chatMessageDeleted\") {\n      const payload = genericPayload;\n      const eventPayload = {\n        threadId: payload.groupId,\n        sender: constructIdentifierKindFromMri(payload.senderId),\n        senderDisplayName: payload.senderDisplayName,\n        recipient: constructIdentifierKindFromMri(payload.recipientMri),\n        id: payload.messageId,\n        createdOn: new Date(payload.originalArrivalTime),\n        version: payload.version,\n        deletedOn: new Date(payload.deletetime),\n        type: payload.messageType\n      };\n      return eventPayload;\n    }\n    if (event === \"typingIndicatorReceived\") {\n      const payload = genericPayload;\n      const eventPayload = {\n        threadId: payload.groupId,\n        sender: constructIdentifierKindFromMri(payload.senderId),\n        senderDisplayName: payload.senderDisplayName,\n        recipient: constructIdentifierKindFromMri(payload.recipientMri),\n        version: payload.version,\n        receivedOn: new Date(payload.originalArrivalTime)\n      };\n      return eventPayload;\n    }\n    if (event === \"readReceiptReceived\") {\n      const payload = genericPayload;\n      const readReceiptMessageBody = JSON.parse(payload.messageBody);\n      const consumptionHorizon = readReceiptMessageBody.consumptionhorizon.split(\";\");\n      const eventPayload = {\n        threadId: payload.groupId,\n        sender: constructIdentifierKindFromMri(payload.senderId),\n        senderDisplayName: \"\",\n        recipient: constructIdentifierKindFromMri(payload.recipientMri),\n        chatMessageId: payload.messageId,\n        readOn: new Date(+consumptionHorizon[1])\n      };\n      return eventPayload;\n    }\n    if (event === \"chatThreadCreated\") {\n      const payload = genericPayload;\n      const createdByPayload = JSON.parse(unescape(payload.createdBy));\n      const membersPayload = JSON.parse(unescape(payload.members));\n      const createdBy = toChatParticipant(createdByPayload);\n      const chatParticipants = membersPayload.map(m => {\n        return toChatParticipant(m);\n      });\n      const eventPayload = {\n        threadId: payload.threadId,\n        createdOn: new Date(payload.createTime),\n        createdBy: createdBy,\n        version: payload.version,\n        participants: chatParticipants,\n        properties: toThreadProperties(JSON.parse(unescape(payload.properties))),\n        retentionPolicy: getRetentionPolicy(JSON.parse(unescape(payload.properties)))\n      };\n      return eventPayload;\n    }\n    if (event === \"chatThreadPropertiesUpdated\") {\n      const payload = genericPayload;\n      const updatedByPayload = JSON.parse(unescape(payload.editedBy));\n      const updatedBy = toChatParticipant(updatedByPayload);\n      const eventPayload = {\n        threadId: payload.threadId,\n        updatedOn: new Date(payload.editTime),\n        updatedBy: updatedBy,\n        version: payload.version,\n        properties: toThreadProperties(JSON.parse(unescape(payload.properties))),\n        retentionPolicy: getRetentionPolicy(JSON.parse(unescape(payload.properties)))\n      };\n      return eventPayload;\n    }\n    if (event === \"chatThreadDeleted\") {\n      const payload = genericPayload;\n      const deletedBy = genericPayload.reason == chat_1.DeleteReason.DeletedByPolicy ? null : toChatParticipant(JSON.parse(unescape(payload.deletedBy)));\n      const eventPayload = {\n        threadId: payload.threadId,\n        deletedOn: new Date(payload.deleteTime),\n        deletedBy: deletedBy,\n        version: payload.version,\n        reason: payload.reason\n      };\n      return eventPayload;\n    }\n    if (event === \"participantsAdded\") {\n      const payload = genericPayload;\n      const addedByPayload = JSON.parse(unescape(payload.addedBy));\n      const participantsAddedPayload = JSON.parse(unescape(payload.participantsAdded));\n      const addedBy = toChatParticipant(addedByPayload);\n      const chatParticipants = participantsAddedPayload.map(m => {\n        return toChatParticipant(m);\n      });\n      const eventPayload = {\n        threadId: payload.threadId,\n        addedOn: new Date(payload.time),\n        addedBy: addedBy,\n        version: payload.version,\n        participantsAdded: chatParticipants\n      };\n      return eventPayload;\n    }\n    if (event === \"participantsRemoved\") {\n      const payload = genericPayload;\n      const removedByPayload = JSON.parse(unescape(payload.removedBy));\n      const participantsRemovedPayload = JSON.parse(unescape(payload.participantsRemoved));\n      const removedBy = toChatParticipant(removedByPayload);\n      const chatParticipants = participantsRemovedPayload.map(m => {\n        return toChatParticipant(m);\n      });\n      const eventPayload = {\n        threadId: payload.threadId,\n        removedOn: new Date(payload.time),\n        removedBy: removedBy,\n        version: payload.version,\n        participantsRemoved: chatParticipants\n      };\n      return eventPayload;\n    }\n    return null;\n  };\n  const toChatParticipant = payload => {\n    var _a;\n    const participant = {\n      id: constructIdentifierKindFromMri(payload.participantId),\n      displayName: payload.displayName,\n      metadata: parseJsonString((_a = payload.memberMetaData) !== null && _a !== void 0 ? _a : \"\") || {}\n    };\n    if (payload.shareHistoryTime) {\n      participant.shareHistoryTime = new Date(payload.shareHistoryTime);\n    }\n    return participant;\n  };\n  const toThreadProperties = payload => {\n    var _a;\n    return {\n      topic: payload.topic,\n      metadata: parseJsonString((_a = payload.acsChatThreadMetadata) !== null && _a !== void 0 ? _a : \"\") || {}\n    };\n  };\n  const getRetentionPolicy = payload => {\n    const raw = payload.retentionPolicy;\n    // No policy string ⇒ “none”\n    if (!raw) {\n      return {\n        kind: \"none\"\n      };\n    }\n    let parsed;\n    try {\n      parsed = JSON.parse(raw);\n    } catch (_a) {\n      return {\n        kind: \"none\"\n      };\n    }\n    // Expected executeAfter format dd.hh:mm:ss if more than 1 day. Or hh:mm:ss if less than one day.\n    if (parsed.retentionPolicyType === \"DeleteAfterCreationTime\" && typeof parsed.executeAfter === \"string\") {\n      // Handle sign, spaces\n      const s = parsed.executeAfter.trim().replace(/^[+-]/, \"\");\n      // only take the part before the dot, otherwise 0\n      const daysPart = s.includes(\".\") ? s.split(\".\")[0] : \"0\";\n      const days = parseInt(daysPart, 10);\n      return {\n        kind: \"threadCreationDate\",\n        deleteThreadAfterDays: isNaN(days) ? 0 : days\n      };\n    }\n    return {\n      kind: \"none\"\n    };\n  };\n  const toLogProvider = logger => {\n    return {\n      log: (...message) => logger.info(message),\n      warn: (...message) => logger.warning(message),\n      error: (...message) => logger.error(message),\n      debug: (...message) => logger.verbose(message),\n      info: (...message) => logger.verbose(message)\n    };\n  };\n  exports.toLogProvider = toLogProvider;\n  const toTelemetrySender = logger => {\n    return {\n      logEvent: clientEvent => logger.info(clientEvent)\n    };\n  };\n  exports.toTelemetrySender = toTelemetrySender;\n  const constructIdentifierKindFromMri = mri => {\n    if (mri.startsWith(publicTeamsUserPrefix)) {\n      return {\n        kind: \"microsoftTeamsUser\",\n        rawId: mri,\n        microsoftTeamsUserId: mri.substring(publicTeamsUserPrefix.length),\n        isAnonymous: false,\n        cloud: \"public\"\n      };\n    } else if (mri.startsWith(dodTeamsUserPrefix)) {\n      return {\n        kind: \"microsoftTeamsUser\",\n        rawId: mri,\n        microsoftTeamsUserId: mri.substring(dodTeamsUserPrefix.length),\n        isAnonymous: false,\n        cloud: \"dod\"\n      };\n    } else if (mri.startsWith(gcchTeamsUserPrefix)) {\n      return {\n        kind: \"microsoftTeamsUser\",\n        rawId: mri,\n        microsoftTeamsUserId: mri.substring(gcchTeamsUserPrefix.length),\n        isAnonymous: false,\n        cloud: \"gcch\"\n      };\n    } else if (mri.startsWith(teamsVisitorUserPrefix)) {\n      return {\n        kind: \"microsoftTeamsUser\",\n        rawId: mri,\n        microsoftTeamsUserId: mri.substring(teamsVisitorUserPrefix.length),\n        isAnonymous: true\n      };\n    } else if (mri.startsWith(phoneNumberPrefix)) {\n      return {\n        kind: \"phoneNumber\",\n        rawId: mri,\n        phoneNumber: mri.substring(phoneNumberPrefix.length)\n      };\n    } else if (mri.startsWith(acsUserPrefix) || mri.startsWith(acsGcchUserPrefix) || mri.startsWith(acsDodUserPrefix) || mri.startsWith(spoolUserPrefix)) {\n      return {\n        kind: \"communicationUser\",\n        communicationUserId: mri\n      };\n    } else {\n      return {\n        kind: \"unknown\",\n        id: mri\n      };\n    }\n  };\n  const parseJsonString = str => {\n    if (str === undefined || str === null || str === \"\" || str === \"null\" || str === \"{}\" || str === \"[]\") {\n      return undefined;\n    }\n    return JSON.parse(str);\n  };\n  const createMediaUrlString = (urlString, resourceEndpoint, gatewayApiVersion) => {\n    let url;\n    try {\n      url = new URL(urlString);\n      if (url.protocol === \"http:\" || url.protocol === \"https:\") {\n        // If its already a full url, substitute the origin\n        url = new URL(url.pathname, resourceEndpoint);\n      }\n    } catch (_) {\n      // urlString is a likely a relative URL, so create a new one with the resourceEndpoint as base\n      try {\n        url = new URL(urlString, resourceEndpoint);\n      } catch (_) {\n        // If we get here, then the urlString passed in is likely incorrect, so just pass it along\n        // As there's nothing we can do at this point.\n        return urlString;\n      }\n    }\n    // Append api-version query and return string\n    url.searchParams.set(\"api-version\", gatewayApiVersion);\n    return url.toString();\n  };\n  const isValidURL = str => {\n    let url;\n    try {\n      url = new URL(str);\n    } catch (_) {\n      return false;\n    }\n    return url.protocol === \"http:\" || url.protocol === \"https:\";\n  };\n  const transformEndpoint = (attachments, resourceEndpoint, gatewayApiVersion) => {\n    if (resourceEndpoint === undefined || resourceEndpoint === null || resourceEndpoint === \"\" || !isValidURL(resourceEndpoint)) {\n      return attachments;\n    }\n    attachments.filter(e => e.attachmentType.toLowerCase() === \"image\".toLowerCase()).map(attachment => {\n      if (attachment.previewUrl) {\n        attachment.previewUrl = createMediaUrlString(attachment.previewUrl, resourceEndpoint, gatewayApiVersion);\n      }\n      if (attachment.url) {\n        attachment.url = createMediaUrlString(attachment.url, resourceEndpoint, gatewayApiVersion);\n      }\n    });\n    return attachments;\n  };\n  const base64decode = encodedString => !coreUtil__default[\"default\"].isNodeLike ? atob(encodedString) : Buffer.from(encodedString, \"base64\").toString();\n  exports.base64decode = base64decode;\n  const parseJWT = token => {\n    let [, payload] = token === null || token === void 0 ? void 0 : token.split(\".\");\n    if (payload === undefined) {\n      throw new Error(\"Invalid token\");\n    }\n    payload = payload.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    return JSON.parse(decodeURIComponent(escape((0, exports.base64decode)(payload))));\n  };\n  const parseTokenCredential = credential => __awaiter(void 0, void 0, void 0, function* () {\n    const accessToken = yield credential.getToken();\n    const jwtToken = accessToken === null || accessToken === void 0 ? void 0 : accessToken.token;\n    const parsedJwtToken = parseJWT(jwtToken);\n    const identityMri = parsedJwtToken.skypeid;\n    const acsResourceId = parsedJwtToken.resourceId;\n    const cloudType = getCloudTypeFromSkypeId(identityMri);\n    const resourceLocation = parsedJwtToken.resourceLocation || \"\";\n    return {\n      jwtToken,\n      acsResourceId,\n      identityMri,\n      cloudType,\n      resourceLocation\n    };\n  });\n  exports.parseTokenCredential = parseTokenCredential;\n  /**\n   * Generated Universally Unique Identifier\n   *\n   * @returns RFC4122 v4 UUID.\n   * @internal\n   */\n  function generateUuid() {\n    return (0, uuid__default[\"default\"].v4)();\n  }\n  const isEudbLocation = location => !!location && !!constants_1.EudbCountries.find(euLocation => euLocation === location);\n  exports.isEudbLocation = isEudbLocation;\n  function getCloudTypeFromSkypeId(skypeId) {\n    const cloudPrefix = skypeId.substring(0, skypeId.indexOf(\":\"));\n    switch (cloudPrefix) {\n      case constants_1.CloudPrefix.OrgId:\n      case constants_1.CloudPrefix.Acs:\n      case constants_1.CloudPrefix.Spool:\n        {\n          return constants_1.CloudType.Public;\n        }\n      case constants_1.CloudPrefix.GccHigh:\n      case constants_1.CloudPrefix.GccHighAcs:\n        {\n          return constants_1.CloudType.GccHigh;\n        }\n      case constants_1.CloudPrefix.Dod:\n      case constants_1.CloudPrefix.DodAcs:\n        {\n          return constants_1.CloudType.Dod;\n        }\n      default:\n        {\n          return constants_1.CloudType.Public;\n        }\n    }\n  }\n});\nunwrapExports(TrouterUtils);\nTrouterUtils.isEudbLocation;\nTrouterUtils.parseTokenCredential;\nTrouterUtils.base64decode;\nTrouterUtils.toTelemetrySender;\nTrouterUtils.toLogProvider;\nTrouterUtils.toMessageHandler;\nTrouterUtils.generateUuid;\nvar TrouterConfigClient_1$1 = createCommonjsModule(function (module, exports) {\n  // Copyright (c) Microsoft Corporation.\n  // Licensed under the MIT license.\n  var __createBinding = commonjsGlobal && commonjsGlobal.__createBinding || (Object.create ? function (o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = {\n        enumerable: true,\n        get: function () {\n          return m[k];\n        }\n      };\n    }\n    Object.defineProperty(o, k2, desc);\n  } : function (o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n  });\n  var __setModuleDefault = commonjsGlobal && commonjsGlobal.__setModuleDefault || (Object.create ? function (o, v) {\n    Object.defineProperty(o, \"default\", {\n      enumerable: true,\n      value: v\n    });\n  } : function (o, v) {\n    o[\"default\"] = v;\n  });\n  var __importStar = commonjsGlobal && commonjsGlobal.__importStar || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n  };\n  var __awaiter = commonjsGlobal && commonjsGlobal.__awaiter || function (thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P ? value : new P(function (resolve) {\n        resolve(value);\n      });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function rejected(value) {\n        try {\n          step(generator[\"throw\"](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function step(result) {\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n      }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  };\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.RealTimeNotificationConfiguration = exports.TrouterConfigClient = void 0;\n  const coreClient = __importStar(coreClient__default[\"default\"]); // External library import\n  // Grouped imports from the same module\n\n  class TrouterConfigClient extends coreClient.ServiceClient {\n    constructor(endpoint, options) {\n      // Initializing default values for options\n      if (!options) {\n        options = {};\n      }\n      const packageDetails = `azsdk-js-communication-signaling/${constants_1.PACKAGE_VERSION}`;\n      const userAgentPrefix = options.userAgentOptions && options.userAgentOptions.userAgentPrefix ? `${options.userAgentOptions.userAgentPrefix} ${packageDetails}` : `${packageDetails}`;\n      const clientOptions = Object.assign(Object.assign({}, options), {\n        userAgentOptions: {\n          userAgentPrefix\n        },\n        additionalPolicies: options.additionalPolicies\n      });\n      super(clientOptions);\n      this.apiVersion = constants_1.CONFIG_API_VERSION;\n      this.endpoint = endpoint;\n      this.httpClient = (0, coreRestPipeline__default[\"default\"].createDefaultHttpClient)();\n    }\n    fetchServiceUrls(credential) {\n      return __awaiter(this, void 0, void 0, function* () {\n        try {\n          const token = (yield credential.getToken()).token;\n          const request = (0, coreRestPipeline__default[\"default\"].createPipelineRequest)({\n            url: `${this.endpoint}/chat/config/realTimeNotifications?api-version=${this.apiVersion}`,\n            method: \"GET\",\n            headers: (0, coreRestPipeline__default[\"default\"].createHttpHeaders)({\n              Authorization: `Bearer ${token}`\n            })\n          });\n          const response = yield this.pipeline.sendRequest(this.httpClient, request);\n          if (response.status !== 200 || !response.bodyAsText) {\n            throw new Error(`Failed to fetch service URLs. Status: ${response.status}, Body: ${response.bodyAsText || \"No response body\"}`);\n          }\n          const data = JSON.parse(response.bodyAsText);\n          // Ensure all necessary data fields are present\n          if (!data.trouterServiceUrl || !data.registrarServiceUrl || !data.cloudType) {\n            throw new Error(\"One or more required fields are missing in the response data\");\n          }\n          return new RealTimeNotificationConfiguration(data.trouterServiceUrl, data.registrarServiceUrl, data.cloudType);\n        } catch (error) {\n          throw new Error(`Error fetching real-time notification configuration from Chat Gateway: ${error.message}`);\n        }\n      });\n    }\n  }\n  exports.TrouterConfigClient = TrouterConfigClient;\n  class RealTimeNotificationConfiguration {\n    constructor(trouterServiceUrl, registrarServiceUrl, cloudType) {\n      this.trouterServiceUrl = trouterServiceUrl;\n      this.registrarServiceUrl = registrarServiceUrl;\n      this.cloudType = cloudType;\n    }\n  }\n  exports.RealTimeNotificationConfiguration = RealTimeNotificationConfiguration;\n});\nunwrapExports(TrouterConfigClient_1$1);\nTrouterConfigClient_1$1.RealTimeNotificationConfiguration;\nTrouterConfigClient_1$1.TrouterConfigClient;\nvar TrouterUtils_1 = TrouterUtils;\nvar TrouterConfigClient_1 = TrouterConfigClient_1$1;\nvar TrouterSettings = createCommonjsModule(function (module, exports) {\n  // Copyright (c) Microsoft Corporation.\n  // Licensed under the MIT license.\n  var __awaiter = commonjsGlobal && commonjsGlobal.__awaiter || function (thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P ? value : new P(function (resolve) {\n        resolve(value);\n      });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function rejected(value) {\n        try {\n          step(generator[\"throw\"](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function step(result) {\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n      }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  };\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.defaultTelemetrySettings = exports.createSettings = void 0;\n  const defaultSettings = {\n    version: \"1.0.0\",\n    // SignalingClient version, required for trouter connection\n    registrationId: \"\",\n    // Required for trouter connection\n    sessionId: \"\",\n    // Required for trouter connection\n    pnhAppId: \"AcsWeb\",\n    pnhTemplate: \"AcsWeb_Chat_2.1\",\n    platform: \"SPOOL\",\n    platformUIVersion: \"0.0.0\",\n    environment: \"\",\n    // TBD\n    productName: \"acs-chat-web\",\n    trouterServiceUrl: \"\",\n    registrarServiceUrl: \"\",\n    registrarRefreshTimeoutInMs: 350000,\n    timeoutOptions: {\n      connectionTimeoutMs: 20000,\n      fetchTimeoutMs: 10000,\n      pingTimeoutMs: 40000,\n      pongTimeoutMs: 5000,\n      maxBackoffMs: 50000,\n      requestTimeoutMs: 5000\n    },\n    maxRegistrationTimeInMs: 7200000\n  };\n  // Main function to create settings based on environment\n  const createSettings = (credential, options) => __awaiter(void 0, void 0, void 0, function* () {\n    var _a;\n    const endpoint = options === null || options === void 0 ? void 0 : options.resourceEndpoint;\n    // Throw an error if resourceEndpoint is null or undefined\n    if (endpoint === undefined) {\n      throw new Error(\"'endpoint' cannot be null\");\n    }\n    // Initialize the settings by cloning the default ones\n    const settings = Object.assign({}, defaultSettings);\n    settings.registrationId = (0, TrouterUtils_1.generateUuid)(); // Generate unique IDs\n    settings.sessionId = (0, TrouterUtils_1.generateUuid)();\n    // Fetch the real time configuration from the service\n    const trouterConfigClient = new TrouterConfigClient_1.TrouterConfigClient(endpoint, options);\n    const realTimeNotificationConfiguration = yield trouterConfigClient.fetchServiceUrls(credential);\n    // Append suffix to trouterServiceUrl and registrarServiceUrl\n    settings.trouterServiceUrl = `${realTimeNotificationConfiguration.trouterServiceUrl}/v4/a`;\n    settings.registrarServiceUrl = `${realTimeNotificationConfiguration.registrarServiceUrl}/v3/registrations`;\n    // Customize settings if the environment is INT\n    if (realTimeNotificationConfiguration.cloudType === \"int\") {\n      settings.pnhAppId = \"cns-e2e-test\";\n      settings.pnhTemplate = \"cns-e2e-test:1.8\";\n    }\n    settings.maxRegistrationTimeInMs = (_a = options === null || options === void 0 ? void 0 : options.registrationTimeInMs) !== null && _a !== void 0 ? _a : defaultSettings.maxRegistrationTimeInMs;\n    return settings;\n  });\n  exports.createSettings = createSettings;\n  exports.defaultTelemetrySettings = {\n    // TBD Can we hook up OpenTelemetry?\n    enabled: false\n  };\n});\nunwrapExports(TrouterSettings);\nTrouterSettings.defaultTelemetrySettings;\nTrouterSettings.createSettings;\nvar TrouterSettings_1 = TrouterSettings;\nvar SignalingClient = createCommonjsModule(function (module, exports) {\n  // Copyright (c) Microsoft Corporation.\n  // Licensed under the MIT license.\n  var __awaiter = commonjsGlobal && commonjsGlobal.__awaiter || function (thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P ? value : new P(function (resolve) {\n        resolve(value);\n      });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function rejected(value) {\n        try {\n          step(generator[\"throw\"](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function step(result) {\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n      }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  };\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.CommunicationSignalingClient = exports.ConnectionState = void 0;\n  var ConnectionState;\n  (function (ConnectionState) {\n    ConnectionState[ConnectionState[\"Unknown\"] = 0] = \"Unknown\";\n    ConnectionState[ConnectionState[\"Connected\"] = 2] = \"Connected\";\n    ConnectionState[ConnectionState[\"Disconnected\"] = 3] = \"Disconnected\";\n    ConnectionState[ConnectionState[\"Switching\"] = 9] = \"Switching\";\n  })(ConnectionState || (exports.ConnectionState = ConnectionState = {}));\n  class CommunicationSignalingClient {\n    constructor(credential, logger, options) {\n      this.credential = credential;\n      this.logger = logger;\n      this.options = options;\n      this.stateChangedListener = null;\n      this.tokenFetchRetries = 0;\n      this.trouter = (0, tstrouter.createTrouterService)((0, TrouterUtils_1.toLogProvider)(logger));\n    }\n    start() {\n      return __awaiter(this, void 0, void 0, function* () {\n        var _a, _b;\n        this.resourceEndpoint = (_a = this.options) === null || _a === void 0 ? void 0 : _a.resourceEndpoint;\n        if (this.resourceEndpoint === undefined) {\n          throw new Error(\"'endpoint' cannot be null\");\n        }\n        this.gatewayApiVersion = ((_b = this.options) === null || _b === void 0 ? void 0 : _b.gatewayApiVersion) || \"2024-03-07\";\n        if (this.config === undefined) {\n          this.config = {\n            trouterSettings: yield (0, TrouterSettings_1.createSettings)(this.credential, this.options),\n            skypeTokenProvider: forceRefresh => __awaiter(this, void 0, void 0, function* () {\n              if (forceRefresh) {\n                this.tokenFetchRetries += 1;\n                if (this.tokenFetchRetries > constants_1.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES) {\n                  yield this.stop(true);\n                  throw new Error(`Access token is expired and failed to fetch a valid one after ${constants_1.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES} retries`);\n                }\n              } else {\n                this.tokenFetchRetries = 0;\n              }\n              return Promise.resolve((yield this.credential.getToken()).token);\n            }),\n            telemetryConfig: {\n              eventLogger: (0, TrouterUtils_1.toTelemetrySender)(this.logger),\n              settings: TrouterSettings_1.defaultTelemetrySettings\n            }\n          };\n        }\n        this.trouter.start(this.config);\n        this.trouter.setUserActivityState(tstrouter.UserActivityState.Active);\n      });\n    }\n    stop(isTokenExpired) {\n      return __awaiter(this, void 0, void 0, function* () {\n        this.trouter.offStateChanged(this.stateChangedListener);\n        this.trouter.clearMessageHandlers();\n        this.trouter.stop(isTokenExpired !== null && isTokenExpired !== void 0 ? isTokenExpired : this.tokenFetchRetries > constants_1.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES);\n      });\n    }\n    on(event, listener) {\n      if (event === \"connectionChanged\") {\n        this.trouter.offStateChanged(this.stateChangedListener);\n        this.stateChangedListener = (state, _url) => listener(state);\n        this.trouter.onStateChanged(this.stateChangedListener);\n        return;\n      }\n      this.trouter.registerMessageHandler((0, TrouterUtils_1.toMessageHandler)(event, listener, this.resourceEndpoint, this.gatewayApiVersion));\n    }\n  }\n  exports.CommunicationSignalingClient = CommunicationSignalingClient;\n});\nunwrapExports(SignalingClient);\nSignalingClient.CommunicationSignalingClient;\nSignalingClient.ConnectionState;\nvar require$$0 = SignalingClient;\nvar src = createCommonjsModule(function (module, exports) {\n  // Copyright (c) Microsoft Corporation.\n  // Licensed under the MIT license.\n  var __createBinding = commonjsGlobal && commonjsGlobal.__createBinding || (Object.create ? function (o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = {\n        enumerable: true,\n        get: function () {\n          return m[k];\n        }\n      };\n    }\n    Object.defineProperty(o, k2, desc);\n  } : function (o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n  });\n  var __exportStar = commonjsGlobal && commonjsGlobal.__exportStar || function (m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n  };\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  __exportStar(require$$0, exports);\n});\nvar index = unwrapExports(src);\nmodule.exports = index;","map":{"version":3,"names":["uuid","require","coreUtil","coreClient","coreRestPipeline","_interopDefaultLegacy","e","uuid__default","coreUtil__default","coreClient__default","coreRestPipeline__default","commonjsGlobal","globalThis","window","global","self","unwrapExports","x","__esModule","Object","prototype","hasOwnProperty","call","createCommonjsModule","fn","module","exports","tsregistrar","t","n","r","o","i","l","m","c","d","defineProperty","configurable","enumerable","get","default","p","s","Promise","fetch","then","clearTimeout","catch","setTimeout","Error","concat","url","race","JSON","stringify","value","Timespan","toJson","fetchWithTimeout","start","Date","now","reset","h","__extends","setPrototypeOf","__proto__","Array","constructor","TypeError","String","create","__assign","assign","arguments","length","apply","__awaiter","next","a","throw","done","__generator","return","label","ops","pop","trys","push","sent","Symbol","iterator","createRegistrarClient","RegistrarClient","u","name","f","logger","maxBackoffInMs","initialDelay","backoffCount","id","idCounter","delay","timerHandle","calculateNextBackoffMs","info","cancelFunc","cancel","debug","Math","random","pow","round","min","tokenProvider","options","DEFAULT_MAX_RETRIES_FOR_GET_TOKEN","DEFAULT_MAX_BACKOFF_TIME_IN_MS","backoffs","maxBackOffTime","maxRetryDelayMs","maxRetriesForGetToken","proxyUrlRewrite","setTelemetryLogger","eventLogger","register","performRegistration","cachedRegistrationParams","unregister","Request","registrarUrl","registrationId","method","mode","headers","Headers","extraRegistrationHeaders","accept","callRegistrar","cancelPendingRequests","keys","forEach","resendRegistration","clientDescription","nodeId","transports","body","startBackoff","initialRetryDelayMs","stopBackoff","getToken","needFresh","supportedTokenTypes","wwwAuthenticateHeader","purpose","error","reject","warn","g","y","v","w","k","b","R","_","setTokenHeader","clone","requestTimeoutMs","status","statusText","sendTelemetryEvent","ok","json","delete","tokenType","toLowerCase","set","token","usingLegacyTokenApi","properties","result_code","begin_timestamp","startTime","elapsed","duration","logEvent","tstrouter","Logger","USER_AUTHENTICATE_EVENT_NAME","SUPPORTED_TOKEN_TYPES","FAILED_MESSAGE_ACK","UNHANDLED_MESSAGE_ACK","HANDLED_MESSAGE_ACK","CLIENT_VERSION","constants","TROUTER_INIT","TROUTER_READY_EVENT","TROUTER_READY_TIMEOUT","TROUTER_TOKEN_REQUEST","TROUTER_TOKEN_GET_SUCCEEDED","TROUTER_TOKEN_GET_FAILED","TROUTER_RECONNECTING","RENEWAL","NEW_CONNECTION","ENDPOINT_REGISTRATION_FAILED","TrouterState","UserActivityState","Unknown","Active","Inactive","Connected","Disconnected","Switching","getTime","URL","origin","pathname","CorrelationVector","calculateExpireTsInSec","calculateTtlInSec","base","createCorrelationVectorBase","extension","extend","increase","charAt","floor","TrouterManagerState","UserActivityEventReason","ServerState","connectionId","connectedClientId","domId","unsecureUrl","c2cUrlBase","expirationTsSec","getRemainingTtlInSec","Modified","Snapshot","TerminalError","scae","toString","kind","replace","reconnectUrl","serviceUrl","parseInt","host","endsWith","substring","redirectUrlIfPresent","ensureNumber","reconnectParamsWithoutUrls","adaptUrl","isV4ConnectEvent","usedProtocolAfterFallback","usedProtocol","TrouterFsm","State","Initial","RetrievingToken","Allocating","Handshaking","Connecting","AnonymousConnecting","WebsocketAuthenticating","Unregistering","Registering","RegisteringButResendPending","Retrying","Registered","RegistrationDisabled","worker","incallModeEnabled","protocolSelector","state","autoReconnect","registrationState","getState","isActive","isConnecting","setState","showIgnored","stop","isIncallMode","exitIncallMode","resetTokenBackoff","cancelPendingRegistrationRequests","stopConnectionTimer","stopPingTimer","clearSentEventTimers","stopRegistrationTimer","stopSocketIo","sendDisconnectTelemetryEvent","dispatchTerminalError","dispatchDisconnected","sendUnregisterRequest","onTokenReceived","startConnectionTimer","connectV4c","sendAllocateRequest","checkConnection","onPingInterval","onAllocationSucceed","dispatchUnregistered","startSocketIo","onAllocationFailed","cleanUpAndInitiateReconnect","backoff","allowCachedToken","claimsChallenge","onV4cException","fallbackReason","onConnectingTimeout","onConnecting","onSocketConnect","sendV4cAuthenticationEvent","onConnectingFailed","onSocketDisconnect","toTelemetryString","countDisconnectBeforeConnectionEstablishment","reason","onTerminalError","claims","onTrouterConnected","sendUserActivityState","startPingTimer","dispatchConnected","shouldSkipRegistration","dispatchRegistered","sendRegisterRequest","onReconnectRequired","target","dispatchReconnectIsRequired","disableAutoReconnect","onDownstreamRequest","switchToIncallModeIfEnabled","dispatchDownstreamRequest","onTrouterMessageLost","dispatchTrouterMessageLost","sendPingRequest","onPingResponseTimeout","onMissedResponse","onPingResponse","onRegistrationFailed","startRegistrationRetryTimer","onRetryRegistration","onRegistrationSucceeded","startRegistrationTimer","onRegistrationNearExpiry","onUnregistrationDone","onResendRegistration","onIncallModeTimer","onSetNewUserActivityState","onActivityStateResponseTimeout","forceReconnect","enterIncallMode","restartIncallModeTimer","dispatchReconnecting","Authorization","stack","message","TrouterConnection","ReconnectReason","T","S","cv","ua","hr","reconnect","query","ackTimeoutMs","rewriteUrlForProxy","C","E","cvCounter","parse","startTS","safeJsonNumber","safeJsonString","shortUrl","safeJsonRecord","replied","timedout","receivedCv","updateCvHeader","on","dataCallback","incrementCorrelationVector","correlationVector","parseFloat","I","request","responseData","sendResponse","writeHead","write","end","A","args","timeoutTimerId","Configuration","ServerInitiated","U","manager","audienceSubscriptionState","WEBSOCKET_TRANSPORT_NAME","XHR_POLLING_TRANSPORT_NAME","AUDIENCE_SUBSCRIPTION_RESULT_ERROR","AUDIENCE_SUBSCRIPTION_RESULT_UNSUBSCRIBED","AUDIENCE_SUBSCRIPTION_RESULT_TIMEOUT","AUDIENCE_SUBSCRIPTION_RESULT_BAD_REQUEST","AUDIENCE_SUBSCRIPTION_STATE_QUERY_PARAM_REGEX","inIncallMode","connectionAttempt","isNavigatorOnline","onNavigatorOnlineStatusUpdateBound","onNavigatorOnlineStatusUpdate","bind","connectingErrorsInRow","unauthorizedErrorCount","pendingSentEventTimers","lastDisconnectReason","UNKNOWN_TRANSPORT","connectingErrorsThreshold","pendingAudienceSubscription","timeoutOptions","tokenBackoff","ExponentialBackoff","maxBackoffMs","clientID","location","hostname","clientInfo","safeString","connectionTracker","ConnectionTracker","getServerState","endpointId","clientCorrelationID","environment","applyConnectionTrackerOptions","incallModeTimeoutMs","fsm","registration","fetchTimeoutMs","retryLimitOnTokenFetch","extraConnectionHeaders","registrarClient","userActivityState","reconnectParams","navigator","addEventListener","onLine","removeEventListener","close","configure","trouterUrl","sendTelemetry","ClientEventName","CheckConnection","disconnectDetected","disableRegistrationsAndAutoReconnect","allocateResult","surl","connectionExpireTimestampInSecs","trackStart","trackEnd","trackError","canRetryTokenFetchRequest","connectionTimeoutMs","connectionTimeoutId","transportTypeName","pingTimeoutMs","pingTimerId","setInterval","clearPingResponseTimer","clearInterval","hasCustomRegistrationTtl","registrarTtlSec","getRegistrationTtl","registrationTimerId","resolve","buildSocketIoUrlParams","connectparams","tc","encodeURI","timeout","auth","epid","userActivity","encodeURIComponent","appendConnectedClientIds","buildQuery","ioOptions","increaseCvAndGetEventObject","requestHeaders","socketio","socket","io","connect","attachSocketIoHandlers","removeAllListeners","disconnect","onConnected","onRegistered","onUnregistered","ResponseData","onReconnecting","onReconnectIsRequired","onDisconnected","resetReconnectParamsOnErrorThreshold","sendProcessedDroppedIndicators","droppedIndicators","sendDownstreamEvent","trackNewConnection","se","appendCorrelationIds","appendEndpointId","startsWith","onAllocationResponse","testNominalUrlConnectivity","trackProgress","search","check","cor_id","Accept","text","pingResponseTimerId","emit","pongTimeoutMs","websocketUrl","buildV4cUrlParams","setUserActivityState","toEventJSON","onUserActivityStateAccepted","sendUserActivityStateMultiple","setAudienceSubscriptionsAsync","setAudienceSubscriptionsInternalAsync","setAudienceSubscriptionsLongpollInternalAsync","setAudienceSubscriptionsUnsafeAsync","buildAudienceSubscriptionsTimeoutResponse","onAudienceSubscriptionResult","onAudiencesSetResolved","timeoutId","audiences","handleAudienceUnsubscribeLongpoll","audienceSetResolve","responses","result","clearAudienceSubscriptionStateQueryParam","find","audienceId","audienceSubscriptionModel","audienceSubscriptions","mapToSyntheticAudienceSubscriptionResponses","map","responseStatus","expediteBackoff","expediteIfPending","appId","pnhAppId","aesKey","languageId","platform","templateKey","pnhTemplateKey","platformUIVersion","productContext","TROUTER","context","path","ttl","Registration","Unregistration","clearSentEventTimer","Number","clearIncallModeTimerId","incallModeTimerId","incallTimeoutOptions","setMaxBackoffMs","serverClosed","trackDisconnected","clearConnectedInfo","forceReconnectDueToNoRegistration","onSocketConnecting","onSocketConnectFailed","getSessionLength","DisconnectReason","fromRawReason","duplicateDisconnectThresholdMs","onSocketReconnect","onSocketReconnectFailed","fromSocketIoEventData","onSocketReconnecting","onSocketError","onSocketMessage","urlPath","trackRequest","sendResponseError","populateAndCacheReconnectParams","populateConnectionStateFields","connectedUrl","trackConnected","onTrouterReconnect","onTrouterMessageLoss","onConnectionParametersUpdated","ccid","curlb","indexOf","substr","increasePingResponseCount","join","includes","slice","cd","send","sentTS","trackResponse","userActivitySecondResendDelayMs","registerSentEventTimer","userActivityResponseTimeoutMs","mergeSettings","telemetrySettings","enable","disable","MessageHandlerRegistry","messageHandlers","some","clear","active","handleMessage","resultCode","isHandled","safeExecuteHandle","addCacheAsBackupTo","TrouterManager","AudienceSubscriptionState","UserActivityObject","getStateString","toEventObject","logFunc","listener","tokenTypeProtocolSelector","forceV4aProtocol","TrouterManagerFsm","baseEndpointUrl","processedMessageLoss","userActivityObject","firstConnection","secondConnection","isInTerminalState","getInternalState","reportStateInfo","startFirstConnection","configuredTrouterManager","getConnectionCache","startSecondConnection","stopFirstConnection","storedFirstConnection","stopSecondConnection","stopSecondConnectionDelayed","lingeringConnectionDelayMs","forceStopLingeringConnection","switchConnections","doesSecondConnectionExist","newEndpointUrl","clientId","connectionTtlSec","onTrouterDisconnected","dispatchRegistrationState","registrationStateCallback","expediteBackoffOnConnections","lastExpediteBackoffCallAt","expediteBackoffOnStartMinimumDelayMs","onTrouterRequest","onReconnectionRequired","onTrouterUserActivityStateAccepted","setConnectionCache","filter","tag","etag","connectionCache","onGetTrouterConnectionCache","onSetTrouterConnectionCache","RegistrationEnforcer","connectionDependsOnRegistration","delayEventsUntilRegistered","TrouterUrlPromise","getPromise","pendingPromise","pendingPromiseResolveRef","pendingPromiseRejectRef","resolveUrl","rejectUrl","resetUrl","version","protocol","j","sockets","util","parseUri","document","domain","port","uniqueUri","secure","merge","Socket","of","exec","chunkQuery","split","load","readyState","attachEvent","XDomainRequest","XMLHttpRequest","hasCORS","defer","webkit","importScripts","mixin","inherit","isArray","intersect","toArray","withCredentials","test","userAgent","EventEmitter","$events","addListener","once","removeListener","splice","listeners","parent","parser","packets","reasons","advice","encodePacket","type","endpoint","ack","data","qs","ackId","encodePayload","decodePacket","match","decodePayload","sessid","connectErrorCallback","isOpened","Transport","onData","clearCloseTimeout","connected","connecting","reconnecting","setCloseTimeout","onPacket","setHeartbeatTimeout","onHeartbeat","onConnect","closeTimeout","onDisconnect","clearTimeouts","reopenTimeout","packet","onOpen","onClose","prepareUrl","scheme","resource","ready","clearEventHandlers","open","namespaces","buffer","doBuffer","disconnected","isXDomain","disconnectSync","SocketNamespace","publish","$emit","handshake","onError","getElementsByTagName","createElement","src","parentNode","insertBefore","removeChild","setRequestHeader","onreadystatechange","responseText","getTransport","xdomainCheck","sessionid","connectTimeoutTimer","remainingTransports","transport","heartbeatTimeout","heartbeatTimeoutTimer","setBuffer","payload","reconnectionAttempts","reconnectionTimer","reconnectionDelay","redoTransports","flags","ackPackets","acks","namespace","websocket","MozWebSocket","WebSocket","onopen","onmessage","onclose","onerror","XHR","post","ackTimeoutTimer","onload","sendXHR","contentType","xhr","abort","Function","eval","webpackPolyfill","deprecate","paths","children","Properties","TrackerStep","Progress","Response","stepName","operation","delta","ts","numberOfPingReplies","connectedTimestamp","isNewUrl","transportType","connectionNumber","enabled","numberOfStepsToMaintain","logHealthCheckError","sendProgressTimeoutSecs","logSendPingError","trouter_js_client_connected","trouter_js_client_disconnected","trouter_js_client_error","trouter_js_client_progress","trouter_js_client_response","trouter_js_client_request","trouter_js_client_registration","trouter_js_client_unregistration","trouter_js_client_check_connection","steps","totalStepCount","beginTimestamp","eventLogSettings","connectedInfo","sendProgress","cancelProgressTimer","progressTimeout","resetProgressSendTimer","timeoutSecs","setConnectedInfo","copyProperties","eventVersion","ttlInSecs","createStep","addStep","stepCount","connectionEstablishmentMs_Total","sessionLengthMS","hasError","requestID","httpMethod","bodyLength","requestTimeStamp","responseTimestamp","latencyMS","responseCode","responseLength","max","details","tolerance","minimumWaitMs","gapDetectionSettings","backoffId","previousCompleteTime","callback","__spreadArray","LoggingManagerConsumer","wrapped","shouldConnectionDependOnRegistration","shouldHoldBackEvents","isRegistered","heldBackEvents","passIfRegisteredOrNotNeeded","fireHeldBackEvents","dropHeldBackEvents","holdBackEvent","prefix","onEventAction","onEvent","console","log","response","connection","useConnectParamsFromCache","connectParams","flowTags","audienceSubscriptionsResponse","TelemetryEnabled","ClientTelemetryEventEnabled","trouterSettings","productName","sessionId","telemetryConfig","settings","TrouterConnectionUrl","trouterServiceUrl","registrarServiceUrl","pnhTemplate","pnhProductContext","pnhContext","maxRegistrationTimeInMs","trouterConnectTimeoutInMs","registrationStateCallbackForAcsDoNotUse","toJSON","toISOString","replaceTrouterUrlBase","getTrouterServiceVersion","createTrouterService","TrouterService","logProvider","stateChangedListeners","trouterUrlPromise","connectionInfo","skypeTokenProvider","authTokenProvider","disableInternalSkypeTokenCache","trouterCfg","ecsCfg","internalEnableV4cProtocol","trouterServer","pendingActivityState","setEcsConfig","TrouterJScriptClient","registerListener","unregisterListener","notifyStateChanged","tryMessageHandlers","setAudienceSubscriptions","getTrouterUrlAsync","onStateChanged","wrappedCallback","offStateChanged","addCallback","removeCallback","registerMessageHandler","clearMessageHandlers","evt","eventId","rawBody","responseHeaders","responseBody","chat","DeleteReason","PACKAGE_VERSION","CONFIG_API_VERSION","EudbCountries","CloudPrefix","CloudType","MAX_NUMBER_OF_TOKEN_FETCH_RETRIES","chat_1","constants_1","TrouterUtils","thisArg","_arguments","P","generator","adopt","fulfilled","step","rejected","isEudbLocation","parseTokenCredential","base64decode","toTelemetrySender","toLogProvider","toMessageHandler","generateUuid","eventIds","Map","publicTeamsUserPrefix","dodTeamsUserPrefix","gcchTeamsUserPrefix","teamsVisitorUserPrefix","phoneNumberPrefix","acsUserPrefix","acsGcchUserPrefix","acsDodUserPrefix","spoolUserPrefix","event","resourceEndpoint","gatewayApiVersion","genericPayload","undefined","eventPayload","toEventPayload","toChatMessageReceivedEvent","threadId","groupId","sender","constructIdentifierKindFromMri","senderId","senderDisplayName","recipient","recipientMri","messageId","createdOn","originalArrivalTime","messageType","messageBody","metadata","parseJsonString","acsChatMessageMetadata","attachments","transformEndpoint","toChatMessageEditedEvent","editedOn","edittime","deletedOn","deletetime","receivedOn","readReceiptMessageBody","consumptionHorizon","consumptionhorizon","chatMessageId","readOn","createdByPayload","unescape","createdBy","membersPayload","members","toChatParticipant","chatParticipants","createTime","participants","toThreadProperties","retentionPolicy","getRetentionPolicy","updatedByPayload","editedBy","updatedBy","updatedOn","editTime","deletedBy","DeletedByPolicy","deleteTime","addedByPayload","addedBy","participantsAddedPayload","participantsAdded","addedOn","time","removedByPayload","removedBy","participantsRemovedPayload","participantsRemoved","removedOn","_a","participant","participantId","displayName","memberMetaData","shareHistoryTime","topic","acsChatThreadMetadata","raw","parsed","retentionPolicyType","executeAfter","trim","daysPart","days","deleteThreadAfterDays","isNaN","warning","verbose","clientEvent","mri","rawId","microsoftTeamsUserId","isAnonymous","cloud","phoneNumber","communicationUserId","str","createMediaUrlString","urlString","searchParams","isValidURL","attachmentType","attachment","previewUrl","encodedString","isNodeLike","atob","Buffer","from","parseJWT","decodeURIComponent","escape","credential","accessToken","jwtToken","parsedJwtToken","identityMri","skypeid","acsResourceId","resourceId","cloudType","getCloudTypeFromSkypeId","resourceLocation","v4","euLocation","skypeId","cloudPrefix","OrgId","Acs","Spool","Public","GccHigh","GccHighAcs","Dod","DodAcs","TrouterConfigClient_1$1","__createBinding","k2","desc","getOwnPropertyDescriptor","writable","__setModuleDefault","__importStar","mod","RealTimeNotificationConfiguration","TrouterConfigClient","ServiceClient","packageDetails","userAgentPrefix","userAgentOptions","clientOptions","additionalPolicies","apiVersion","httpClient","createDefaultHttpClient","fetchServiceUrls","createPipelineRequest","createHttpHeaders","pipeline","sendRequest","bodyAsText","TrouterUtils_1","TrouterConfigClient_1","TrouterSettings","defaultTelemetrySettings","createSettings","defaultSettings","registrarRefreshTimeoutInMs","trouterConfigClient","realTimeNotificationConfiguration","registrationTimeInMs","TrouterSettings_1","SignalingClient","CommunicationSignalingClient","ConnectionState","stateChangedListener","tokenFetchRetries","trouter","_b","config","forceRefresh","isTokenExpired","_url","require$$0","__exportStar","index"],"sources":["D:/Project/github-teams/teams-app-new/node_modules/@azure/communication-signaling/dist/index.js"],"sourcesContent":["'use strict';\n\nvar uuid = require('uuid');\nvar coreUtil = require('@azure/core-util');\nvar coreClient = require('@azure/core-client');\nvar coreRestPipeline = require('@azure/core-rest-pipeline');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar uuid__default = /*#__PURE__*/_interopDefaultLegacy(uuid);\nvar coreUtil__default = /*#__PURE__*/_interopDefaultLegacy(coreUtil);\nvar coreClient__default = /*#__PURE__*/_interopDefaultLegacy(coreClient);\nvar coreRestPipeline__default = /*#__PURE__*/_interopDefaultLegacy(coreRestPipeline);\n\nvar commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\nfunction unwrapExports (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar tsregistrar = createCommonjsModule(function (module, exports) {\n!function(t,e){module.exports=e();}(commonjsGlobal,function(){return function(t){function e(n){if(r[n])return r[n].exports;var o=r[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var r={};return e.m=t,e.c=r,e.i=function(t){return t},e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n});},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,\"a\",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=1)}([function(t,e,r){function n(t,e){var r,n=new Promise(function(e,n){fetch(t).then(function(t){void 0!==r&&clearTimeout(r),e(t);}).catch(function(t){void 0!==r&&clearTimeout(r),n(t);});});if(0!==e){var o=new Promise(function(n,o){r=setTimeout(o,e,new Error(\"Fetch for '\".concat(t.url,\"' timed out\")));});return Promise.race([n,o])}return n}function o(t){try{return JSON.stringify(t)}catch(e){return \"Unable to serialize object of type \".concat(typeof t)}}Object.defineProperty(e,\"__esModule\",{value:!0}),e.Timespan=e.toJson=e.fetchWithTimeout=void 0,e.fetchWithTimeout=n,e.toJson=o;var i=function(){function t(){this.start=Date.now();}return Object.defineProperty(t.prototype,\"duration\",{get:function(){return Date.now()-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"startTime\",{get:function(){return this.start},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.start=Date.now();},t}();e.Timespan=i;},function(t,e,r){function n(t,e,r){return new h(t,e,r)}var o=this&&this.__extends||function(){var t=function(e,r){return (t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e;}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);})(e,r)};return function(e,r){function n(){this.constructor=e;}if(\"function\"!=typeof r&&null!==r)throw new TypeError(\"Class extends value \"+String(r)+\" is not a constructor or null\");t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n);}}(),i=this&&this.__assign||function(){return i=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++){e=arguments[r];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);}return t},i.apply(this,arguments)},s=this&&this.__awaiter||function(t,e,r,n){function o(t){return t instanceof r?t:new r(function(e){e(t);})}return new(r||(r=Promise))(function(r,i){function s(t){try{c(n.next(t));}catch(t){i(t);}}function a(t){try{c(n.throw(t));}catch(t){i(t);}}function c(t){t.done?r(t.value):o(t.value).then(s,a);}c((n=n.apply(t,e||[])).next());})},a=this&&this.__generator||function(t,e){function r(t){return function(e){return n([t,e])}}function n(r){if(o)throw new TypeError(\"Generator is already executing.\");for(;a&&(a=0,r[0]&&(c=0)),c;)try{if(o=1,i&&(s=2&r[0]?i.return:r[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,r[1])).done)return s;switch(i=0,s&&(r=[2&r[0],s.value]),r[0]){case 0:case 1:s=r;break;case 4:return c.label++,{value:r[1],done:!1};case 5:c.label++,i=r[1],r=[0];continue;case 7:r=c.ops.pop(),c.trys.pop();continue;default:if(s=c.trys,!(s=s.length>0&&s[s.length-1])&&(6===r[0]||2===r[0])){c=0;continue}if(3===r[0]&&(!s||r[1]>s[0]&&r[1]<s[3])){c.label=r[1];break}if(6===r[0]&&c.label<s[1]){c.label=s[1],s=r;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(r);break}s[2]&&c.ops.pop(),c.trys.pop();continue}r=e.call(t,c);}catch(t){r=[6,t],i=0;}finally{o=s=0;}if(5&r[0])throw r[1];return {value:r[0]?r[1]:void 0,done:!0}}var o,i,s,a,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:r(0),throw:r(1),return:r(2)},\"function\"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a};Object.defineProperty(e,\"__esModule\",{value:!0}),e.createRegistrarClient=e.RegistrarClient=void 0;var c=r(0),u=[\"skype\",\"aad\",\"cae\"],l=function(t){function e(e){var r=t.call(this,e)||this;return r.name=\"CancelationError\",r}return o(e,t),e}(Error),f=function(){function t(e,r,n){this.logger=e,this.maxBackoffInMs=r,this.initialDelay=n,this.backoffCount=0,this.id=++t.idCounter;}return t.prototype.delay=function(t){var e=this;if(void 0!==this.timerHandle)throw new Error(\"Retry sequence logical failure\");if(-1===this.backoffCount)return new Promise(function(t,e){e(new l(\"Cancelled\"));});var r=this.calculateNextBackoffMs();return this.backoffCount++,this.logger.info(\"[RegistrarClient] Backing off \".concat(t,\" for \").concat(r,\" milliseconds with ID \").concat(this.id)),new Promise(function(n,o){e.cancelFunc=o,e.timerHandle=setTimeout(function(){e.logger.info(\"[RegistrarClient] Back off for \".concat(t,\" with ID \").concat(e.id,\" complete\")),e.timerHandle=void 0,n();},r);})},t.prototype.cancel=function(){void 0!==this.timerHandle&&(this.logger.debug(\"Resetting back off\"),clearTimeout(this.timerHandle),void 0!==this.cancelFunc&&this.cancelFunc(new l(\"Cancelled\"))),this.backoffCount=-1;},t.prototype.calculateNextBackoffMs=function(){var t=1+.4*(Math.random()-.5),e=this.initialDelay*Math.pow(2,this.backoffCount)*t;return e=Math.round(e),Math.min(this.maxBackoffInMs,e)},t.idCounter=0,t}(),h=function(){function t(t,e,r){var n;this.logger=t,this.tokenProvider=e,this.options=r,this.DEFAULT_MAX_RETRIES_FOR_GET_TOKEN=15,this.DEFAULT_MAX_BACKOFF_TIME_IN_MS=3e5,this.backoffs={},this.maxBackOffTime=this.options.maxRetryDelayMs>0?this.options.maxRetryDelayMs:this.DEFAULT_MAX_BACKOFF_TIME_IN_MS,this.maxRetriesForGetToken=void 0===r.maxRetriesForGetToken||null===r.maxRetriesForGetToken?this.DEFAULT_MAX_RETRIES_FOR_GET_TOKEN:r.maxRetriesForGetToken,this.proxyUrlRewrite=null!==(n=r.proxyUrlRewrite)&&void 0!==n?n:function(t){return t};}return t.prototype.setTelemetryLogger=function(t){this.eventLogger=t;},t.prototype.register=function(t,e){return s(this,void 0,void 0,function(){return a(this,function(r){switch(r.label){case 0:return [4,this.performRegistration(t,e,\"pr_set_registration\")];case 1:return r.sent(),this.cachedRegistrationParams=[t,e],[2]}})})},t.prototype.unregister=function(){return s(this,void 0,void 0,function(){var t;return a(this,function(e){switch(e.label){case 0:return this.logger.info(\"[RegistrarClient] sending unregister request\"),t=new Request(this.proxyUrlRewrite(\"\".concat(this.options.registrarUrl,\"/\").concat(this.options.registrationId)),{method:\"DELETE\",mode:\"cors\",headers:new Headers(i(i({},this.options.extraRegistrationHeaders),{accept:\"application/json, text/javascript\"}))}),[4,this.callRegistrar(t,\"pr_delete_registration\")];case 1:return e.sent(),[2]}})})},t.prototype.cancelPendingRequests=function(){var t=this;Object.keys(this.backoffs).forEach(function(e){t.backoffs[e].cancel();}),this.backoffs={};},t.prototype.resendRegistration=function(){return s(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:if(!this.cachedRegistrationParams)throw new Error(\"Re-registration failed because there is no registration parameters cached\");return [4,this.performRegistration(this.cachedRegistrationParams[0],this.cachedRegistrationParams[1],\"pr_resend_registration\")];case 1:return t.sent(),[2]}})})},t.prototype.performRegistration=function(t,e,r){return s(this,void 0,void 0,function(){var n,o;return a(this,function(s){switch(s.label){case 0:return this.logger.info(\"[RegistrarClient] Sending register request\"),n={clientDescription:t,registrationId:this.options.registrationId,nodeId:\"\",transports:e},o=new Request(this.proxyUrlRewrite(this.options.registrarUrl),{method:\"POST\",mode:\"cors\",headers:new Headers(i(i({},this.options.extraRegistrationHeaders),{\"content-type\":\"application/json\",accept:\"application/json, text/javascript\"})),body:(0, c.toJson)(n)}),[4,this.callRegistrar(o,r)];case 1:return s.sent(),[2]}})})},t.prototype.startBackoff=function(){var t=new f(this.logger,this.maxBackOffTime,this.options.initialRetryDelayMs);return this.backoffs[t.id]=t,t},t.prototype.stopBackoff=function(t){t.cancel(),delete this.backoffs[t.id];},t.prototype.getToken=function(t){return s(this,void 0,void 0,function(){var e,r,n,o,i,s,c;return a(this,function(a){switch(a.label){case 0:e=this.startBackoff(),r=0,a.label=1;case 1:return a.trys.push([1,3,,8]),this.logger.info(\"[RegistrarClient] Asking for a new token\"),[4,this.tokenProvider({needFresh:!0,supportedTokenTypes:u,wwwAuthenticateHeader:t,purpose:\"registrar\"})];case 2:return n=a.sent(),this.stopBackoff(e),[2,n];case 3:o=a.sent(),a.label=4;case 4:return a.trys.push([4,6,,7]),(r++,i=JSON.stringify(o),r>this.maxRetriesForGetToken)?(s=\"[RegistrarClient] getToken retry limit hit. Will not retry now. Error: \".concat(i),this.logger.error(s),this.stopBackoff(e),[2,Promise.reject(s)]):(this.logger.warn(\"[RegistrarClient] Retrying for a new token. Retry Count: \".concat(r,\" Error: \").concat(i)),[4,e.delay(\"Fetching a new token\")]);case 5:return a.sent(),[3,8];case 6:throw c=a.sent(),this.stopBackoff(e),c;case 7:return [3,8];case 8:return [3,1];case 9:return [2]}})})},t.prototype.callRegistrar=function(t,e){var r,n,o;return s(this,void 0,void 0,function(){var i,s,l,f,h,p,d,g,y,v,w,k,m,b,R,_;return a(this,function(a){switch(a.label){case 0:return i=this.startBackoff(),[4,this.tokenProvider({needFresh:!1,supportedTokenTypes:u,wwwAuthenticateHeader:void 0,purpose:\"registrar\"})];case 1:s=a.sent(),this.setTokenHeader(t,s),l=new c.Timespan,f=0,a.label=2;case 2:h=void 0,a.label=3;case 3:return a.trys.push([3,10,15,16]),p=t.clone(),[4,(0, c.fetchWithTimeout)(p,this.options.requestTimeoutMs)];case 4:return h=a.sent(),401!==h.status?[3,8]:++f>this.maxRetriesForGetToken?(d=\"[RegistrarClient] getSkypeToken retry limit hit. Will not retry now. Request '\".concat(t.url,\"' failed with \").concat(h.status,\" \").concat(h.statusText),this.logger.error(d),this.stopBackoff(i),[2,Promise.reject(d)]):(this.logger.warn(\"[RegistrarClient] Retry Count \".concat(f,\". Request '\").concat(t.url,\"' failed with \").concat(h.status,\" \").concat(h.statusText)),g=null!==(n=null===(r=h.headers)||void 0===r?void 0:r.get(\"www-authenticate\"))&&void 0!==n?n:void 0,y=this.setTokenHeader,v=[t],[4,this.getToken(g)]);case 5:return y.apply(this,v.concat([a.sent()])),f>1?[4,i.delay(\"Registrar call retry after 401\")]:[3,7];case 6:a.sent(),a.label=7;case 7:return [3,22];case 8:if(h.status>=500&&h.status<600)throw new Error(\"Fetch for '\".concat(t.url,\"' failed with \").concat(h.status,\" \").concat(h.statusText));a.label=9;case 9:return [3,16];case 10:w=a.sent(),this.logger.error(\"[RegistrarClient] Request failed with \".concat(w)),a.label=11;case 11:return a.trys.push([11,13,,14]),[4,i.delay(\"Registrar call retry\")];case 12:return a.sent(),[3,22];case 13:throw k=a.sent(),this.logger.error(\"[RegistrarClient] Request cancelled\"),this.stopBackoff(i),k;case 14:return [3,16];case 15:return this.sendTelemetryEvent(e,t,h,l),[7];case 16:return this.stopBackoff(i),h.ok?[2,h]:[3,17];case 17:m=void 0,a.label=18;case 18:return a.trys.push([18,20,,21]),R=(b=JSON).stringify,[4,h.json()];case 19:return m=R.apply(b,[a.sent()]),[3,21];case 20:return a.sent(),m=\"no details\",[3,21];case 21:throw _=\"Fetch for '\".concat(t.url,\"' failed with \").concat(h.status,\" \").concat(h.statusText,\" (\").concat(m,\", MS-CV: \").concat(null===(o=h.headers)||void 0===o?void 0:o.get(\"MS-CV\"),\")\"),this.logger.error(\"[RegistrarClient] \".concat(_)),new Error(_);case 22:return [3,2];case 23:return [2]}})})},t.prototype.setTokenHeader=function(t,e){switch(t.headers.delete(\"X-Skypetoken\"),t.headers.delete(\"Authorization\"),t.headers.delete(\"X-MS-Migration\"),e.tokenType.toLowerCase()){case\"skype\":t.headers.set(\"X-Skypetoken\",e.token);break;case\"aad\":case\"cae\":t.headers.set(\"Authorization\",\"Bearer \".concat(e.token));break;default:throw new Error(\"unsupported token type: \".concat(e.tokenType))}!1===this.options.usingLegacyTokenApi&&t.headers.set(\"X-MS-Migration\",\"True\");},t.prototype.sendTelemetryEvent=function(t,e,r,n){if(void 0!==this.eventLogger){var o={name:t,properties:{url:{value:e.url},result_code:{value:void 0!==r?r.status:0},begin_timestamp:{value:n.startTime},elapsed:{value:n.duration}}};this.eventLogger.logEvent(o);}},t}();e.RegistrarClient=h,e.createRegistrarClient=n;}])});\n\n});\n\nunwrapExports(tsregistrar);\n\nvar tstrouter = createCommonjsModule(function (module, exports) {\n!function(t,e){module.exports=e(tsregistrar);}(commonjsGlobal,function(t){return function(t){function e(o){if(n[o])return n[o].exports;var i=n[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:o});},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,\"a\",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=\"\",e(e.s=20)}([function(t,e,n){Object.defineProperty(e,\"__esModule\",{value:!0}),e.Logger=void 0;var o=function(){function t(t,e){this.name=t,this.logger=e;}return t.prototype.debug=function(t){this.logger.debug(\"[\".concat(this.name,\"] \").concat(t));},t.prototype.info=function(t){this.logger.info(\"[\".concat(this.name,\"] \").concat(t));},t.prototype.warn=function(t){this.logger.warn(\"[\".concat(this.name,\"] \").concat(t));},t.prototype.error=function(t){this.logger.error(\"[\".concat(this.name,\"] \").concat(t));},t}();e.Logger=o;},function(t,e,n){Object.defineProperty(e,\"__esModule\",{value:!0}),e.USER_AUTHENTICATE_EVENT_NAME=e.SUPPORTED_TOKEN_TYPES=e.FAILED_MESSAGE_ACK=e.UNHANDLED_MESSAGE_ACK=e.HANDLED_MESSAGE_ACK=e.CLIENT_VERSION=e.constants=void 0,e.constants={TROUTER_INIT:\"trouterinit\",TROUTER_READY_EVENT:\"trouterReadyEvent\",TROUTER_READY_TIMEOUT:\"trouterReadyTimeout\",TROUTER_TOKEN_REQUEST:\"trouterTokenRequest\",TROUTER_TOKEN_GET_SUCCEEDED:\"trouterTokenGetSucceeded\",TROUTER_TOKEN_GET_FAILED:\"trouterTokenGetFailed\",TROUTER_RECONNECTING:\"trouterReconnecting\",RENEWAL:\"renewal\",NEW_CONNECTION:\"newConnection\",ENDPOINT_REGISTRATION_FAILED:\"endpointRegistrationFailed\"},e.CLIENT_VERSION=\"2024.14.01.55\",e.HANDLED_MESSAGE_ACK=200,e.UNHANDLED_MESSAGE_ACK=404,e.FAILED_MESSAGE_ACK=500,e.SUPPORTED_TOKEN_TYPES=[\"skype\",\"aad\",\"cae\"],e.USER_AUTHENTICATE_EVENT_NAME=\"user.authenticate\";},function(t,e,n){Object.defineProperty(e,\"__esModule\",{value:!0}),e.TrouterState=e.UserActivityState=void 0;var o;!function(t){t[t.Unknown=0]=\"Unknown\",t[t.Active=1]=\"Active\",t[t.Inactive=2]=\"Inactive\";}(o||(e.UserActivityState=o={}));var i;!function(t){t[t.Unknown=0]=\"Unknown\",t[t.Connected=2]=\"Connected\",t[t.Disconnected=3]=\"Disconnected\",t[t.Switching=9]=\"Switching\";}(i||(e.TrouterState=i={}));},function(t,e,n){function o(t){try{return JSON.stringify(t)}catch(e){return \"Unable to serialize object of type \".concat(typeof t)}}function i(t){var e=Math.round((new Date).getTime()/1e3);return void 0!==t&&t>e?t-e:0}function r(t){return Math.round((new Date).getTime()/1e3)+t}function s(t,e){return c(this,void 0,void 0,function(){var n,o,i;return a(this,function(r){return o=new Promise(function(e,o){fetch(t).then(function(t){clearTimeout(n),e(t);}).catch(function(t){clearTimeout(n),o(t);});}),0!==e?(i=new Promise(function(o,i){var r=new URL(t.url),s=new Error(\"\".concat(t.method,\" \").concat(r.origin).concat(r.pathname,\" timed out\"));n=setTimeout(i,e,s);}),[2,Promise.race([o,i])]):[2,o]})})}var c=this&&this.__awaiter||function(t,e,n,o){function i(t){return t instanceof n?t:new n(function(e){e(t);})}return new(n||(n=Promise))(function(n,r){function s(t){try{a(o.next(t));}catch(t){r(t);}}function c(t){try{a(o.throw(t));}catch(t){r(t);}}function a(t){t.done?n(t.value):i(t.value).then(s,c);}a((o=o.apply(t,e||[])).next());})},a=this&&this.__generator||function(t,e){function n(t){return function(e){return o([t,e])}}function o(n){if(i)throw new TypeError(\"Generator is already executing.\");for(;c&&(c=0,n[0]&&(a=0)),a;)try{if(i=1,r&&(s=2&n[0]?r.return:n[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a);}catch(t){n=[6,t],r=0;}finally{i=s=0;}if(5&n[0])throw n[1];return {value:n[0]?n[1]:void 0,done:!0}}var i,r,s,c,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},\"function\"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,\"__esModule\",{value:!0}),e.Timespan=e.CorrelationVector=e.fetchWithTimeout=e.calculateExpireTsInSec=e.calculateTtlInSec=e.toJson=void 0,e.toJson=o,e.calculateTtlInSec=i,e.calculateExpireTsInSec=r,e.fetchWithTimeout=s;var u=function(){function t(t){this.base=void 0!==t?t:this.createCorrelationVectorBase(),this.extension=0;}return t.extend=function(e){return new t(e)},t.prototype.increase=function(){this.extension++;},t.prototype.value=function(){return \"\".concat(this.base,\".\").concat(this.extension)},t.prototype.createCorrelationVectorBase=function(){for(var t=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0987654321/+\",e=\"AQgw\",n=\"\",o=0;o<21;o++)n+=t.charAt(Math.floor(Math.random()*t.length));return n+=e.charAt(Math.floor(Math.random()*e.length))},t}();e.CorrelationVector=u;var h=function(){function t(){this.start=Date.now();}return Object.defineProperty(t.prototype,\"duration\",{get:function(){return Date.now()-this.start},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,\"startTime\",{get:function(){return this.start},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.start=Date.now();},t}();e.Timespan=h;},function(t,e,n){Object.defineProperty(e,\"__esModule\",{value:!0}),e.TrouterManagerState=e.UserActivityEventReason=e.ServerState=void 0;var o=n(3),i=function(){function t(t,e,n,o,i,r,s){this.connectionId=t,this.connectedClientId=e,this.domId=n,this.unsecureUrl=o,this.url=i,this.c2cUrlBase=r,this.expirationTsSec=s;}return t.prototype.getRemainingTtlInSec=function(){return (0, o.calculateTtlInSec)(this.expirationTsSec)},t}();e.ServerState=i;var r;!function(t){t[t.Unknown=0]=\"Unknown\",t[t.Modified=1]=\"Modified\",t[t.Snapshot=2]=\"Snapshot\",t[t.Connected=3]=\"Connected\";}(r||(e.UserActivityEventReason=r={}));var s;!function(t){t[t.Unknown=0]=\"Unknown\",t[t.Connected=2]=\"Connected\",t[t.Disconnected=3]=\"Disconnected\",t[t.Switching=9]=\"Switching\",t[t.TerminalError=10]=\"TerminalError\";}(s||(e.TrouterManagerState=s={}));},function(t,e,n){function o(t,e){return \"skype\"===t&&\"1\"!==i(null===e||void 0===e?void 0:e.scae)?\"v4a\":\"v4c\"}function i(t){return \"string\"==typeof t?t:\"number\"==typeof t?t.toString():void 0}function r(t,e){return \"v4c-websocket-failure\"===(null===e||void 0===e?void 0:e.kind)?\"v4a\":t}function s(t){return Object.prototype.hasOwnProperty.call(t,\"connectparams\")}function c(t,e){return \"v4a\"===e?t.replace(/\\/v4\\/c\\b/,\"/v4/a\").replace(\"wss://\",\"https://\").replace(\"ws://\",\"http://\"):t.replace(/\\/v4\\/a\\b/,\"/v4/c\").replace(\"https://\",\"wss://\").replace(\"http://\",\"ws://\")}function a(t){if(void 0!==t)return d(d({},t),{reconnectUrl:void 0,serviceUrl:void 0})}function u(t){return \"string\"==typeof t?parseInt(t,10):t}function h(t){if(\"redirect\"===(null===t||void 0===t?void 0:t.kind)&&void 0!==t.host){var e=t.host;return e.endsWith(\"/\")&&(e=e.substring(0,e.length-1)),e.endsWith(\"/v4/c\")||e.endsWith(\"/v4/a\")||(e+=\"/v4/c\"),e}}var d=this&&this.__assign||function(){return d=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);}return t},d.apply(this,arguments)};Object.defineProperty(e,\"__esModule\",{value:!0}),e.redirectUrlIfPresent=e.ensureNumber=e.reconnectParamsWithoutUrls=e.adaptUrl=e.isV4ConnectEvent=e.usedProtocolAfterFallback=e.usedProtocol=void 0,e.usedProtocol=o,e.usedProtocolAfterFallback=r,e.isV4ConnectEvent=s,e.adaptUrl=c,e.reconnectParamsWithoutUrls=a,e.ensureNumber=u,e.redirectUrlIfPresent=h;},function(t,e,n){Object.defineProperty(e,\"__esModule\",{value:!0}),e.TrouterFsm=e.State=void 0;var o,i=n(4),r=n(0),s=n(5);!function(t){t[t.Initial=0]=\"Initial\",t[t.RetrievingToken=1]=\"RetrievingToken\",t[t.Allocating=2]=\"Allocating\",t[t.Handshaking=3]=\"Handshaking\",t[t.Connecting=4]=\"Connecting\",t[t.AnonymousConnecting=5]=\"AnonymousConnecting\",t[t.WebsocketAuthenticating=6]=\"WebsocketAuthenticating\",t[t.Connected=7]=\"Connected\",t[t.Unregistering=8]=\"Unregistering\",t[t.TerminalError=9]=\"TerminalError\";}(o||(e.State=o={}));var c;!function(t){t[t.Initial=0]=\"Initial\",t[t.Registering=1]=\"Registering\",t[t.RegisteringButResendPending=2]=\"RegisteringButResendPending\",t[t.Retrying=3]=\"Retrying\",t[t.Registered=4]=\"Registered\",t[t.RegistrationDisabled=5]=\"RegistrationDisabled\";}(c||(c={}));var a=function(){function t(t,e,n,i){this.worker=e,this.incallModeEnabled=n,this.protocolSelector=i,this.state=o.Initial,this.autoReconnect=!0,this.logger=new r.Logger(\"ConnectionFsm\",t),this.registrationState=c.Initial;}return t.prototype.getState=function(){return this.state},t.prototype.isActive=function(){return this.state===o.Allocating||this.state===o.Connected||this.state===o.Handshaking||this.state===o.Connecting||this.state===o.RetrievingToken||this.state===o.AnonymousConnecting||this.state===o.WebsocketAuthenticating},t.prototype.isConnecting=function(){return this.state===o.Allocating||this.state===o.Handshaking||this.state===o.Connecting||this.state===o.AnonymousConnecting},t.prototype.start=function(){return this.state===o.Initial?(this.setState(o.RetrievingToken),this.worker.getToken(!0,!1,void 0),!0):(this.showIgnored(\"start\"),!1)},t.prototype.stop=function(t,e){t&&(this.registrationState=c.Initial),this.worker.isIncallMode()&&this.worker.exitIncallMode(),this.worker.resetTokenBackoff(),this.worker.cancelPendingRegistrationRequests(),this.worker.stopConnectionTimer(),this.worker.stopPingTimer(),this.worker.clearSentEventTimers(),this.worker.stopRegistrationTimer(),this.worker.stopSocketIo(),this.state===o.Connected&&this.worker.sendDisconnectTelemetryEvent(\"connection stopped\"),this.registrationState!==c.Registered&&this.registrationState!==c.Registering&&this.registrationState!==c.RegisteringButResendPending||this.state===o.Unregistering?e?(this.setState(o.TerminalError),this.worker.dispatchTerminalError()):(this.setState(o.Initial),this.worker.dispatchDisconnected()):(this.registrationState=c.Initial,this.setState(o.Unregistering),this.worker.sendUnregisterRequest());},t.prototype.onTokenReceived=function(t,e,n){this.state===o.RetrievingToken?\"v4c\"===(0, s.usedProtocolAfterFallback)(this.protocolSelector(t.tokenType,n),e)?(this.setState(o.AnonymousConnecting),this.worker.startConnectionTimer(),this.worker.connectV4c(t,e)):(this.setState(o.Allocating),this.worker.startConnectionTimer(),this.worker.sendAllocateRequest(t)):this.showIgnored(\"onTokenReceived\");},t.prototype.checkConnection=function(t){t&&this.onPingInterval();},t.prototype.onAllocationSucceed=function(t){return this.state===o.Allocating&&this.registrationState===c.Registered&&this.worker.dispatchUnregistered(),this.state===o.Allocating?(this.setState(o.Handshaking),this.registrationState=c.Initial,this.worker.startSocketIo(t),!0):(this.showIgnored(\"onAllocationSucceed\"),!1)},t.prototype.onAllocationFailed=function(t,e){this.state===o.Allocating?this.cleanUpAndInitiateReconnect({backoff:!0,allowCachedToken:!t,claimsChallenge:e}):this.showIgnored(\"onAllocationFailed\");},t.prototype.onV4cException=function(){this.state!==o.AnonymousConnecting&&this.state!==o.WebsocketAuthenticating||(this.logger.error(\"v4c exception, falling back to longpoll\"),this.cleanUpAndInitiateReconnect({backoff:!0,allowCachedToken:!0,fallbackReason:{kind:\"v4c-websocket-failure\"}}));},t.prototype.onConnectingTimeout=function(){this.state===o.Allocating||this.state===o.Connecting||this.state===o.Handshaking||this.state===o.AnonymousConnecting||this.state===o.WebsocketAuthenticating?this.cleanUpAndInitiateReconnect({backoff:!1,allowCachedToken:!0}):this.showIgnored(\"onConnectingTimeout\");},t.prototype.onConnecting=function(){this.state===o.Handshaking?this.setState(o.Connecting):this.showIgnored(\"onConnecting\");},t.prototype.onSocketConnect=function(t){this.state===o.AnonymousConnecting?(this.setState(o.WebsocketAuthenticating),this.worker.sendV4cAuthenticationEvent(t)):this.showIgnored(\"onSocketConnect\");},t.prototype.onConnectingFailed=function(){this.state===o.Connecting?this.onConnectingTimeout():this.state===o.Handshaking?(this.logger.error(\"Unexpected error in Socket.io - no valid transports\"),this.onConnectingTimeout()):this.state===o.AnonymousConnecting||this.state===o.WebsocketAuthenticating?(this.logger.info(\"/v4/c falling back to longpoll\"),this.cleanUpAndInitiateReconnect({backoff:!0,allowCachedToken:!0,fallbackReason:{kind:\"v4c-websocket-failure\"}})):this.showIgnored(\"onConnectingFailed\");},t.prototype.onSocketDisconnect=function(t){this.state===o.Handshaking||this.state===o.Connected||this.state===o.WebsocketAuthenticating?(this.state===o.Connected&&this.worker.sendDisconnectTelemetryEvent(null===t||void 0===t?void 0:t.toTelemetryString()),this.state===o.WebsocketAuthenticating&&this.worker.countDisconnectBeforeConnectionEstablishment(),\"skypetoken-deprecated\"===(null===t||void 0===t?void 0:t.reason)?(this.logger.error(\"Skypetoken deprecated response, not retrying any further\"),this.onTerminalError()):this.cleanUpAndInitiateReconnect({backoff:this.state!==o.Connected&&\"dup\"!==(null===t||void 0===t?void 0:t.reason),allowCachedToken:\"unauthorized\"!==(null===t||void 0===t?void 0:t.reason),claimsChallenge:null===t||void 0===t?void 0:t.claims})):this.showIgnored(\"onSocketDisconnect\");},t.prototype.onTrouterConnected=function(){this.state===o.Connecting||this.state===o.WebsocketAuthenticating?(this.setState(o.Connected),this.worker.resetTokenBackoff(),this.worker.stopConnectionTimer(),this.worker.sendUserActivityState(i.UserActivityEventReason.Connected,!0),this.worker.startPingTimer(),this.worker.dispatchConnected(),this.worker.shouldSkipRegistration()?(this.registrationState=c.RegistrationDisabled,this.worker.dispatchRegistered()):(this.registrationState=c.Registering,this.worker.sendRegisterRequest())):this.showIgnored(\"onTrouterConnected\");},t.prototype.onReconnectRequired=function(t,e,n){this.state===o.AnonymousConnecting||this.state===o.WebsocketAuthenticating?void 0===n||\"host\"!==n.target||void 0===n.url||\"\"===n.url?(this.logger.error(\"unexpected reconnect arguments: \".concat(null===n||void 0===n?void 0:n.target,\" \").concat(null===n||void 0===n?void 0:n.url,\", reconnecting without cache\")),this.cleanUpAndInitiateReconnect({backoff:!0,allowCachedToken:!0,fallbackReason:{kind:\"redirect-no-host\"}})):this.cleanUpAndInitiateReconnect({backoff:!0,allowCachedToken:!0,fallbackReason:{kind:\"redirect\",host:n.url}}):this.worker.dispatchReconnectIsRequired(t,e);},t.prototype.disableAutoReconnect=function(){this.autoReconnect=!1;},t.prototype.onDownstreamRequest=function(t){this.state===o.Connected?(this.switchToIncallModeIfEnabled(),this.worker.dispatchDownstreamRequest(t)):this.showIgnored(\"onDownstreamRequest\");},t.prototype.onTrouterMessageLost=function(t){this.state===o.Connected?this.worker.dispatchTrouterMessageLost(t):this.showIgnored(\"onTrouterMessageLost\");},t.prototype.onPingInterval=function(){this.state===o.Connected?this.worker.sendPingRequest():this.showIgnored(\"onPingInterval\");},t.prototype.onPingResponseTimeout=function(){this.onMissedResponse(\"onPingResponseTimeout\");},t.prototype.onPingResponse=function(){this.state===o.Connected||this.showIgnored(\"onPingResponse\");},t.prototype.onRegistrationFailed=function(){this.state===o.Connected&&this.registrationState===c.Registering?(this.worker.dispatchUnregistered(),this.registrationState=c.Retrying,this.worker.startRegistrationRetryTimer()):this.state===o.Connected&&this.registrationState===c.RegisteringButResendPending?(this.registrationState=c.Registering,this.worker.sendRegisterRequest()):this.showIgnored(\"onRegistrationFailed\");},t.prototype.onRetryRegistration=function(){this.state===o.Connected&&this.registrationState===c.Retrying?(this.registrationState=c.Registering,this.worker.sendRegisterRequest()):this.showIgnored(\"onRetryRegistration\");},t.prototype.onRegistrationSucceeded=function(){this.state===o.Connected&&this.registrationState===c.Registering?(this.registrationState=c.Registered,this.worker.dispatchRegistered(),this.worker.startRegistrationTimer()):this.state===o.Connected&&this.registrationState===c.RegisteringButResendPending?(this.registrationState=c.Registering,this.worker.sendRegisterRequest()):this.showIgnored(\"onRegistrationSucceeded\");},t.prototype.onRegistrationNearExpiry=function(){this.state===o.Connected&&this.registrationState===c.Registered?(this.registrationState=c.Registering,this.worker.sendRegisterRequest()):this.showIgnored(\"onRegistrationNearExpiry\");},t.prototype.onUnregistrationDone=function(){this.state===o.Unregistering?(this.setState(o.Initial),this.worker.dispatchUnregistered(),this.worker.dispatchDisconnected()):this.showIgnored(\"onUnregistrationDone\");},t.prototype.onResendRegistration=function(){this.worker.dispatchUnregistered(),this.state===o.Connected&&this.registrationState===c.Registered?(this.registrationState=c.Registering,this.worker.stopRegistrationTimer(),this.worker.sendRegisterRequest()):this.state===o.Connected&&this.registrationState===c.Registering&&(this.registrationState=c.RegisteringButResendPending);},t.prototype.onIncallModeTimer=function(){this.worker.exitIncallMode(),this.state===o.Connected?(this.worker.stopPingTimer(),this.worker.startPingTimer()):this.showIgnored(\"onIncallModeTimer\");},t.prototype.onSetNewUserActivityState=function(){this.worker.sendUserActivityState(i.UserActivityEventReason.Modified,this.state===o.Connected);},t.prototype.onActivityStateResponseTimeout=function(){this.onMissedResponse(\"onActivityStateResponseTimeout\");},t.prototype.forceReconnect=function(t){this.state===o.Connected&&this.worker.sendDisconnectTelemetryEvent(t),this.worker.resetTokenBackoff(),this.cleanUpAndInitiateReconnect({backoff:!1,allowCachedToken:!0});},t.prototype.onTerminalError=function(){this.logger.error(\"Cannot proceed, reached terminal state. Switching from state '\".concat(o[this.state],\"' to \").concat(o[o.TerminalError])),this.stop(!0,!0),this.setState(o.TerminalError);},t.prototype.onMissedResponse=function(t){this.state===o.Connected?(this.worker.sendDisconnectTelemetryEvent(t),this.cleanUpAndInitiateReconnect({backoff:!1,allowCachedToken:!0})):this.showIgnored(t);},t.prototype.showIgnored=function(t){this.logger.debug(\"Ignoring event '\".concat(t,\"' in state '\").concat(o[this.state],\"'\"));},t.prototype.setState=function(t){if(this.logger.info(\"Switching from state '\".concat(o[this.state],\"' to state '\").concat(o[t],\"'\")),this.state===t)return void this.logger.error(\"Attempt to switch to the current state '\".concat(o[t],\"'\"));this.state=t;},t.prototype.switchToIncallModeIfEnabled=function(){this.incallModeEnabled&&(this.worker.isIncallMode()||(this.worker.enterIncallMode(),this.worker.stopPingTimer(),this.worker.startPingTimer()),this.worker.restartIncallModeTimer());},t.prototype.cleanUpAndInitiateReconnect=function(t){if(!this.autoReconnect)return this.logger.info(\"Automatic reconnect is disabled, stopping this connection\"),void this.stop(!0);this.worker.cancelPendingRegistrationRequests(),this.worker.stopConnectionTimer(),this.worker.stopPingTimer(),this.worker.clearSentEventTimers(),this.worker.stopRegistrationTimer(),this.worker.stopSocketIo(),this.setState(o.RetrievingToken),this.worker.dispatchReconnecting(),this.worker.getToken(t.allowCachedToken,t.backoff,t.claimsChallenge,t.fallbackReason);},t}();e.TrouterFsm=a;},function(t,e,n){function o(t,e){var n=e?void 0:{\"X-MS-Migration\":\"True\"};switch(t.tokenType.toLowerCase()){case\"skype\":return c({\"X-Skypetoken\":t.token},n);case\"aad\":case\"cae\":return c({Authorization:\"Bearer \".concat(t.token)},n);default:throw new Error(\"unsupported token type: \".concat(t.tokenType))}}function i(t){return void 0!==t&&null!==t&&\"function\"==typeof t.toString?t.toString():\"[\".concat(typeof t,\"]\")}function r(t){return \"object\"==typeof t&&null!==t&&void 0!==t.stack?(0, l.toJson)(t.stack):'\"(no error.stack)\"'}function s(t){return \"object\"==typeof t&&null!==t&&\"string\"==typeof t.message?t.message:\"(no error.message)\"}var c=this&&this.__assign||function(){return c=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);}return t},c.apply(this,arguments)},a=this&&this.__awaiter||function(t,e,n,o){function i(t){return t instanceof n?t:new n(function(e){e(t);})}return new(n||(n=Promise))(function(n,r){function s(t){try{a(o.next(t));}catch(t){r(t);}}function c(t){try{a(o.throw(t));}catch(t){r(t);}}function a(t){t.done?n(t.value):i(t.value).then(s,c);}a((o=o.apply(t,e||[])).next());})},u=this&&this.__generator||function(t,e){function n(t){return function(e){return o([t,e])}}function o(n){if(i)throw new TypeError(\"Generator is already executing.\");for(;c&&(c=0,n[0]&&(a=0)),a;)try{if(i=1,r&&(s=2&n[0]?r.return:n[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a);}catch(t){n=[6,t],r=0;}finally{i=s=0;}if(5&n[0])throw n[1];return {value:n[0]?n[1]:void 0,done:!0}}var i,r,s,c,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},\"function\"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,\"__esModule\",{value:!0}),e.TrouterConnection=e.ReconnectReason=void 0;var h,d=n(21),l=n(3),p=n(15),g=n(1),f=n(16),v=n(17),m=n(2),y=n(4),T=n(0),S=n(5),k=n(6),w=n(12),b=function(){function t(){this.cv=g.CLIENT_VERSION,this.ua=\"\",this.hr=\"\",this.v=\"\";}return t}(),R=function(){function t(){this[\"force new connection\"]=!0,this.reconnect=!1,this.query=\"\",this.ackTimeoutMs=5e3;}return t.prototype.rewriteUrlForProxy=function(t){return t},t}(),C=\"MS-CV\",E=function(){function t(t,e){this.logger=e,this.cvCounter=0;var n=JSON.parse(t);this.startTS=this.safeJsonNumber(n,\"startTS\",0),this.url=this.safeJsonString(n,\"url\",\"\"),this.shortUrl=this.safeJsonString(n,\"shortUrl\",\"\"),this.body=this.safeJsonString(n,\"body\",\"\"),this.headers=this.safeJsonRecord(n,\"headers\",{}),this.id=this.safeJsonNumber(n,\"id\",-1),this.method=this.safeJsonString(n,\"method\",\"\"),this.replied=!1,this.timedout=!1,this.receivedCv=this.headers[C],this.updateCvHeader();}return Object.defineProperty(t.prototype,\"correlationVector\",{get:function(){return this.receivedCv?\"\".concat(this.receivedCv,\".\").concat(this.cvCounter):\"\"},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e){\"data\"===t?this.dataCallback=e:\"end\"===t&&(\"function\"==typeof this.dataCallback&&this.dataCallback(this.body),e());},t.prototype.incrementCorrelationVector=function(){++this.cvCounter,this.updateCvHeader();},t.prototype.updateCvHeader=function(){var t=this.correlationVector;t&&(this.headers[C]=t);},t.prototype.safeJsonNumber=function(t,e,n){var o;if(null!==t&&void 0!==t&&Object.prototype.hasOwnProperty.call(t,e)){var i=t;if(\"number\"==typeof i[e])return i[e];if(\"string\"==typeof i[e])return parseFloat(i[e]);null===(o=this.logger)||void 0===o||o.warn(\"unexpected type of '\".concat(e,\"': \").concat(typeof i[e]));}return n},t.prototype.safeJsonString=function(t,e,n){var o;if(null!==t&&void 0!==t&&Object.prototype.hasOwnProperty.call(t,e)){var i=t;if(\"string\"==typeof i[e])return i[e];null===(o=this.logger)||void 0===o||o.warn(\"unexpected type of '\".concat(e,\"': \").concat(typeof i[e]));}return n},t.prototype.safeJsonRecord=function(t,e,n){var o;if(null!==t&&void 0!==t&&Object.prototype.hasOwnProperty.call(t,e)){var i=t;if(\"object\"==typeof i[e])return i[e];null===(o=this.logger)||void 0===o||o.warn(\"unexpected type of '\".concat(e,\"': \").concat(typeof i[e]));}return n},t}(),I=function(){function t(t,e,n){this.request=t,this.responseData=e,this.sendResponse=n;}return t.prototype.writeHead=function(t,e){this.responseData.status=t,this.responseData.headers=e;},t.prototype.write=function(t){this.responseData.body+=t;},t.prototype.end=function(t){return t&&(this.responseData.body+=t),this.sendResponse(this.request,this.responseData)},t}(),A=function(){function t(t){this.name=t,this.args={},this.timeoutTimerId=0;}return t}();!function(t){t[t.Configuration=0]=\"Configuration\",t[t.ServerInitiated=1]=\"ServerInitiated\";}(h||(e.ReconnectReason=h={}));var U=function(){function t(t,e,n,o,i,r,s,c){var a,u=this;this.options=e,this.manager=n,this.tokenProvider=o,this.usingLegacyTokenApi=i,this.protocolSelector=s,this.audienceSubscriptionState=c,this.WEBSOCKET_TRANSPORT_NAME=\"websocket\",this.XHR_POLLING_TRANSPORT_NAME=\"xhr-polling\",this.AUDIENCE_SUBSCRIPTION_RESULT_ERROR=\"Error\",this.AUDIENCE_SUBSCRIPTION_RESULT_UNSUBSCRIBED=\"Unsubscribed\",this.AUDIENCE_SUBSCRIPTION_RESULT_TIMEOUT=\"Timeout\",this.AUDIENCE_SUBSCRIPTION_RESULT_BAD_REQUEST=\"BadRequest\",this.AUDIENCE_SUBSCRIPTION_STATE_QUERY_PARAM_REGEX=/&audienceSubscriptionState=[^&]*|^audienceSubscriptionState=[^&]*&?/,this.connectionId=\"\",this.inIncallMode=!1,this.connectionAttempt=0,this.connectedClientId=\"\",this.isNavigatorOnline=!0,this.onNavigatorOnlineStatusUpdateBound=this.onNavigatorOnlineStatusUpdate.bind(this),this.c2cUrlBase=\"\",this.connectingErrorsInRow=0,this.unauthorizedErrorCount=0,this.pendingSentEventTimers={},this.lastDisconnectReason=\"\",this.UNKNOWN_TRANSPORT=\"unknown_transport\",this.connectingErrorsThreshold=3,this.pendingAudienceSubscription=void 0,this.logger=new T.Logger(\"Connection\",t),this.timeoutOptions=this.options.timeoutOptions,this.tokenBackoff=new v.ExponentialBackoff(this.logger,this.timeoutOptions.maxBackoffMs),this.clientID=Date.now(),\"undefined\"!=typeof window&&window.location&&(this.domId=window.location.hostname);var h=new b;h.cv=g.CLIENT_VERSION,h.ua=\"\",(null===(a=this.options)||void 0===a?void 0:a.clientInfo)&&(h.ua=this.safeString(this.options.clientInfo.ua),h.v=this.safeString(this.options.clientInfo.v)),this.clientInfo=h,this.connectionTracker=new p.ConnectionTracker(t,this.clientID,this.clientInfo,function(){return u.getServerState()},this.options.endpointId,this.options.clientCorrelationID,this.options.environment),this.applyConnectionTrackerOptions(e);var l=this.options.incallModeTimeoutMs>0;if(this.fsm=new k.TrouterFsm(t,this,l,this.protocolSelector),e.registration){var f={registrarUrl:e.registration.registrarUrl,proxyUrlRewrite:e.rewriteUrlForProxy,registrationId:e.registration.registrationId,requestTimeoutMs:e.timeoutOptions.fetchTimeoutMs,initialRetryDelayMs:1e3,maxRetryDelayMs:e.timeoutOptions.maxBackoffMs,usingLegacyTokenApi:this.usingLegacyTokenApi,maxRetriesForGetToken:e.retryLimitOnTokenFetch,extraRegistrationHeaders:e.extraConnectionHeaders};this.registrarClient=(0, d.createRegistrarClient)(t,this.tokenProvider,f);}this.userActivityState=r;}return t.prototype.start=function(t){this.logger.info(\"Starting\"),this.reconnectParams=t,\"undefined\"!=typeof window&&window.navigator&&window.addEventListener?(this.isNavigatorOnline=window.navigator.onLine,window.addEventListener(\"online\",this.onNavigatorOnlineStatusUpdateBound),window.addEventListener(\"offline\",this.onNavigatorOnlineStatusUpdateBound),this.logger.debug(\"Registered for browser online notifications - current state: \".concat(this.isNavigatorOnline))):this.isNavigatorOnline=!0,this.fsm.start();},t.prototype.stop=function(t){this.logger.info(\"Stopping\"),\"undefined\"!=typeof window&&window.navigator&&(window.removeEventListener(\"online\",this.onNavigatorOnlineStatusUpdateBound),window.removeEventListener(\"offline\",this.onNavigatorOnlineStatusUpdateBound)),this.fsm.stop(t),this.connectionTracker.close();},t.prototype.configure=function(t){var e=this.options.trouterUrl!==t.trouterUrl;this.options=t,this.applyConnectionTrackerOptions(t),e&&(this.logger.info(\"Configuration changed. Reconnection required.\"),this.fsm.onReconnectRequired(!1,h.Configuration));},t.prototype.checkConnection=function(t){this.logger.info(\"checkConnection called with \".concat(t)),this.fsm.checkConnection(t),t&&this.connectionTracker.sendTelemetry(p.ClientEventName.CheckConnection,{disconnectDetected:t},[]);},t.prototype.disableRegistrationsAndAutoReconnect=function(){this.stopRegistrationTimer(),this.cancelPendingRegistrationRequests(),this.fsm.disableAutoReconnect();},t.prototype.getServerState=function(){return new y.ServerState(this.connectionId,this.connectedClientId,this.domId?this.domId:\"\",this.allocateResult?this.allocateResult.url:\"\",this.allocateResult?this.allocateResult.surl:\"\",this.c2cUrlBase,this.connectionExpireTimestampInSecs)},t.prototype.getState=function(){return this.fsm.getState()},t.prototype.getToken=function(t,e,n,o,i){var r=this;void 0===i&&(i=0),this.logger.info(\"Getting token \".concat(e?\"with backoff\":\"without backoff\"));var s=function(){r.connectionTracker.trackStart(\"token\");var e={needFresh:!t,wwwAuthenticateHeader:n,supportedTokenTypes:g.SUPPORTED_TOKEN_TYPES,purpose:\"trouter\"};r.logger.info(\"Requesting token: needFresh=\".concat(e.needFresh,\" \")+\"types=[\".concat(g.SUPPORTED_TOKEN_TYPES,\"], \")+\"wwwAuthenticateHeader is \".concat(e.wwwAuthenticateHeader?\"non empty\":\"empty\")),r.tokenProvider(e).then(function(t){r.logger.debug(\"\".concat(t.tokenType,\" token is received\")),r.connectionTracker.trackEnd(\"token\"),r.fsm.onTokenReceived(t,o,r.reconnectParams);}).catch(function(e){var s=(0, l.toJson)(e.stack);if(r.logger.error(\"Getting token failed, will retry after timeout. Error: \".concat(s)),r.connectionTracker.trackError(\"token\",s),!r.canRetryTokenFetchRequest(i+r.unauthorizedErrorCount)){return r.connectionTracker.trackError(\"token\",\"getToken retry limit hit, reached terminal error state\"),r.resetTokenBackoff(),void r.fsm.onTerminalError()}r.getToken(t,!0,n,o,i+1);});};e?this.tokenBackoff.backoff(\"getting token\",s):(this.resetTokenBackoff(),s());},t.prototype.startConnectionTimer=function(){var t=this;this.stopConnectionTimer(),this.logger.debug(\"Starting connection timeout for \".concat(this.timeoutOptions.connectionTimeoutMs,\" ms\")),this.connectionTimeoutId=setTimeout(function(){t.logger.info(\"Connection timeout is fired\"),t.fsm.onConnectingTimeout();},this.timeoutOptions.connectionTimeoutMs);},t.prototype.stopConnectionTimer=function(){this.connectionTimeoutId&&(this.logger.debug(\"Stopping connection timeout\"),clearTimeout(this.connectionTimeoutId),this.connectionTimeoutId=void 0);},t.prototype.startPingTimer=function(){var t=this;\"websocket\"===this.transportTypeName?(this.logger.debug(\"Starting ping timeout for \".concat(this.timeoutOptions.pingTimeoutMs,\" ms\")),this.pingTimerId=setInterval(function(){t.logger.info(\"Ping interval fired\"),t.fsm.onPingInterval();},this.timeoutOptions.pingTimeoutMs)):this.logger.debug(\"Not starting ping for transport \".concat(this.transportTypeName));},t.prototype.stopPingTimer=function(){this.pingTimerId&&(this.logger.debug(\"Stopping ping timeout\"),this.clearPingResponseTimer(),clearInterval(this.pingTimerId),this.pingTimerId=void 0);},t.prototype.shouldSkipRegistration=function(){return void 0===this.options.registration},t.prototype.hasCustomRegistrationTtl=function(){var t,e;return void 0!==(null===(t=this.options.registration)||void 0===t?void 0:t.registrarTtlSec)&&0!==(null===(e=this.options.registration)||void 0===e?void 0:e.registrarTtlSec)},t.prototype.startRegistrationTimer=function(){var t=this;this.stopRegistrationTimer();var e=this.getRegistrationTtl(),n=e[0],o=e[1];if(n<=30||!o)return this.logger.debug(\"Starting registration expiration timer (TTL \".concat(n,\" sec)\")),void(this.registrationTimerId=setTimeout(function(){t.registrationTimerId=void 0,t.logger.warn(\"Registration expired but the connection is still alive. Should never happen\"),t.dispatchUnregistered();},1e3*n));var i=n-30;this.logger.debug(\"Starting registration extension timer for \".concat(i,\" sec\")),this.registrationTimerId=setTimeout(function(){t.logger.info(\"Registration extension timer fired\"),t.registrationTimerId=setTimeout(function(){t.registrationTimerId=void 0,t.logger.debug(\"Registration extension did not happen in time\"),t.dispatchUnregistered();},3e4),t.fsm.onRegistrationNearExpiry();},1e3*i);},t.prototype.startRegistrationRetryTimer=function(){var t=this;this.stopRegistrationTimer();this.registrationTimerId=setTimeout(function(){t.registrationTimerId=void 0,t.fsm.onRetryRegistration();},123e3);},t.prototype.stopRegistrationTimer=function(){this.registrationTimerId&&(this.logger.debug(\"Stopping registration timeout\"),clearTimeout(this.registrationTimerId),this.registrationTimerId=void 0);},t.prototype.resendRegistration=function(){if(!this.registrarClient)throw new Error(\"Trouter Client not configured to handle registrations\");return this.fsm.onResendRegistration(),Promise.resolve()},t.prototype.buildSocketIoUrlParams=function(t,e){if(!this.allocateResult)throw new Error(\"Allocate result is undefined in buildSocketIoUrlParams()\");for(var n={},o=this.allocateResult.connectparams,i=0,r=Object.keys(o);i<r.length;i++){var s=r[i];if(void 0!==o[s]){var c=o[s];\"string\"==typeof c||\"number\"==typeof c?n[s]=c:this.logger.error(\"signatureData[\".concat(s,\"] has unsupported type \").concat(typeof c));}}return n.v=\"v4\",n.tc=encodeURI((0, l.toJson)(this.clientInfo)),n.timeout=this.timeoutOptions.pingTimeoutMs/1e3,n.auth=\"true\",this.options.endpointId&&(n.epid=this.options.endpointId),t&&(n.userActivity=encodeURI((0, l.toJson)(t))),e&&(n.audienceSubscriptionState=encodeURIComponent((0, l.toJson)(e))),this.appendConnectedClientIds(this.buildQuery(n),!0)},t.prototype.startSocketIo=function(t){var e,n;if(this.logger.debug(\"Starting socket io\"),this.connectionTracker.trackStart(\"connectSocket\"),!this.allocateResult)throw new Error(\"Allocate result is undefined in startSocketIo()\");var i=this.options.ioOptions?c({},this.options.ioOptions):new R,r=this.userActivityState.state!==m.UserActivityState.Unknown?this.userActivityState.increaseCvAndGetEventObject():void 0,s=null===(e=this.audienceSubscriptionState)||void 0===e?void 0:e.increaseCvAndGetEventObject();if(i[\"force new connection\"]=!0,i.reconnect=!1,i.rewriteUrlForProxy=this.options.rewriteUrlForProxy,i.requestHeaders=c(c({},this.options.extraConnectionHeaders),o(t,this.usingLegacyTokenApi)),i.query=this.buildSocketIoUrlParams(r,s),this.logger.info(\"connecting to \".concat(this.allocateResult.socketio,\"?\").concat(i.query)),this.stopSocketIo(),this.socket=(null!==(n=this.options.io)&&void 0!==n?n:w).connect(this.allocateResult.socketio,i),void 0===this.socket)throw new Error(\"Can't create Socket.io object\");this.attachSocketIoHandlers(this.socket,t,r,s);},t.prototype.stopSocketIo=function(){if(this.socket){this.logger.debug(\"clearing socket.io\");try{for(var t=0,e=[\"connecting\",\"connect\",\"connect_failed\",\"close_during_connecting\",\"disconnect\",\"reconnect\",\"reconnect_failed\",\"reconnecting\",\"error\",\"message\",\"trouter.connected\",\"trouter.reconnect\",\"trouter.message_loss\"];t<e.length;t++){var n=e[t];this.socket.removeAllListeners(n);}this.socket.disconnect(),this.logger.debug(\"cleared socket\"),this.socket=void 0;}catch(t){this.logger.error(\"exception in disconnecting previous socket. Error: \".concat(r(t)));}}},t.prototype.dispatchConnected=function(){this.logger.info(\"dispatching connected\"),this.manager.onConnected(this);},t.prototype.dispatchRegistered=function(){this.logger.info(\"dispatching registered\"),this.manager.onRegistered(this);},t.prototype.dispatchUnregistered=function(){this.logger.info(\"dispatching unregistered\"),this.manager.onUnregistered(this);},t.prototype.dispatchDownstreamRequest=function(t){var e=this;this.logger.debug(\"dispatching downstream request\");try{var n=new I(t,new p.ResponseData(t.id),function(t,n){return e.logger.debug(\"sending response to downstream\"),e.sendResponse(t,n)});this.manager.onDownstreamRequest(this,t,n);}catch(t){this.logger.error(\"exception in socket.on message. Error : \".concat(r(t)));}},t.prototype.dispatchReconnecting=function(){this.logger.info(\"dispatching reconnecting\"),this.manager.onReconnecting(this);},t.prototype.dispatchReconnectIsRequired=function(t,e){this.logger.info(\"dispatching reconnect is required by server\"),this.manager.onReconnectIsRequired(this,t,e);},t.prototype.dispatchDisconnected=function(){this.logger.info(\"dispatching disconnected\"),this.manager.onDisconnected(this);},t.prototype.dispatchTerminalError=function(){this.logger.info(\"dispatching terminal error\"),this.manager.onTerminalError(this);},t.prototype.dispatchTrouterMessageLost=function(t){this.logger.info(\"dispatching trouter message lost\"),this.manager.onTrouterMessageLost(t);},t.prototype.countDisconnectBeforeConnectionEstablishment=function(){this.logger.warn(\"counting disconnect before connection was fully established as a connection failure\"),++this.connectingErrorsInRow>=this.connectingErrorsThreshold&&this.resetReconnectParamsOnErrorThreshold();},t.prototype.sendProcessedDroppedIndicators=function(t){var e=this;try{this.logger.debug(\"emitting processed flow tags to the server\");var n=new A(\"trouter.processed_message_loss\");n.args={droppedIndicators:t},this.sendDownstreamEvent(n,function(){e.logger.info(\"emitted processed flow tags to the server\");});}catch(t){var o=r(t);this.logger.error(\"unable to send processed message loss event. Error: \".concat(o)),this.connectionTracker.trackError(\"trouter.processed_message_loss\",o,!1);}},t.prototype.sendAllocateRequest=function(t){var e=this;this.connectionAttempt++,this.connectionTracker.trackNewConnection();var n,i=this.options.trouterUrl,r=this.reconnectParams,s=\"string\"==typeof(null===r||void 0===r?void 0:r.se)?parseInt(r.se,10):\"number\"==typeof(null===r||void 0===r?void 0:r.se)?r.se:void 0;s&&s<=Date.now()+36e5&&(this.logger.warn(\"Dropping expired cached connection parameters: \".concat(new Date(s))),this.reconnectParams=r=void 0),r&&r.serviceUrl!==i&&(this.logger.warn(\"Dropping cached connection parameters for a different environment (\".concat(r.serviceUrl,\", now \").concat(i,\")\")),this.reconnectParams=r=void 0),(null===r||void 0===r?void 0:r.reconnectUrl)&&(i=r.reconnectUrl),n=r?c(c({},r),{serviceUrl:void 0,reconnectUrl:void 0}):null,i=(0, S.adaptUrl)(i,\"v4a\"),i=this.appendCorrelationIds(i,!1),i=this.appendEndpointId(i,!1),n&&(i+=\"&\".concat(this.buildQuery(n)),n.v||(i+=\"&v=\".concat(\"v4\"))),i=this.options.rewriteUrlForProxy(i);var a=new Request(i,{method:\"POST\",mode:\"cors\",headers:new Headers(c(c({\"Content-Type\":\"text/plain\"},this.options.extraConnectionHeaders),o(t,this.usingLegacyTokenApi)))});this.logger.info(\"sendAllocateRequest: POST \".concat(i)),this.connectionTracker.trackStart(\"allocation\");var u,h=Date.now(),d=-1,p=!1;(0, l.fetchWithTimeout)(a,this.timeoutOptions.fetchTimeoutMs).then(function(t){var n;if(d=t.status,!t.ok)throw u=null!==(n=t.headers.get(\"www-authenticate\"))&&void 0!==n?n:void 0,p=\"1\"===t.headers.get(\"x-trouter-skypetoken-deprecated\"),e.logger.warn(\"Allocation request got response status \".concat(t.status,\", www-authenticate header was \").concat(u?\"not empty\":\"empty\")),new Error(t.statusText);var o=t.headers.get(\"content-type\");if(!o||\"application/json\"!==o&&!o.startsWith(\"application/json;\"))throw new Error(\"Content-type '\".concat(o,\"' is unexpected\"));return e.connectionTracker.trackEnd(\"allocation\"),t.json()}).then(function(n){e.unauthorizedErrorCount=0,e.onAllocationResponse(n,t);}).catch(function(t){e.connectingErrorsInRow++;var n=\"\".concat(t).concat(d>=0?\", status code \".concat(d):\"\");if(e.logger.error(\"\".concat(e.connectingErrorsInRow,\" failed connecting attempt(s) in a row. \").concat(n)),e.connectionTracker.trackError(\"allocation\",n),p){var o=\"Skypetoken deprecated response, not retrying any further\";return e.logger.error(o),e.connectionTracker.trackError(\"allocation\",o),void e.fsm.onTerminalError()}if(401===d&&e.unauthorizedErrorCount++,!e.canRetryTokenFetchRequest(e.unauthorizedErrorCount)){var o=\"getToken retry limit hit, reached terminal error state\";return e.connectionTracker.trackError(\"allocation\",o),void e.fsm.onTerminalError()}if(-1!==d||e.isNavigatorOnline){if(e.reconnectParams&&e.connectingErrorsInRow>=e.connectingErrorsThreshold)if(d>=400&&d<=599)e.resetReconnectParamsOnErrorThreshold();else if(e.reconnectParams.reconnectUrl&&e.connectingErrorsInRow%3==0){e.logger.warn(\"\".concat(e.connectingErrorsInRow,\" connection attempts, testing nominal service URL\"));var i=Math.min(e.timeoutOptions.connectionTimeoutMs-(Date.now()-h)-500,e.timeoutOptions.fetchTimeoutMs);return void e.testNominalUrlConnectivity(i).then(function(t){e.connectionTracker.trackProgress(\"nomcheck\",t?\"ok\":\"failed\"),t?(e.logger.warn(\"Nominal service URL is reachable, erasing cached reconnect URL\"),e.reconnectParams&&delete e.reconnectParams.reconnectUrl):e.logger.warn(\"Nominal service URL is not reachable either, keeping cached reconnect URL\"),e.fsm.onAllocationFailed(!1,void 0);},function(){e.fsm.onAllocationFailed(!1,void 0);})}}else e.logger.info(\"Expected failure, the browser says it is not online at the moment\");e.fsm.onAllocationFailed(401===d,u);});},t.prototype.testNominalUrlConnectivity=function(t){var e=this;if(t<1e3)return this.logger.warn(\"There is no time left to reasonably perform the nominal service URL connectivity check (\".concat(t,\" ms), falling back to assuming that the connectivity is fine\")),Promise.resolve(!0);var n;try{var o=new URL(this.options.trouterUrl);o.pathname=\"/\",o.search=\"?\"+this.buildQuery({check:Date.now(),cor_id:encodeURIComponent(this.options.clientCorrelationID),epid:encodeURIComponent(this.options.endpointId?this.options.endpointId:\"\"),tc:encodeURIComponent((0,l.toJson)(this.clientInfo))}),n=new Request(this.options.rewriteUrlForProxy(o.toString()),{method:\"GET\",headers:{Accept:\"text/plain\"}});}catch(t){return this.logger.warn(\"Nominal service URL connectivity test request could not be created (\".concat(t,\"), falling back to assuming that the connectivity is fine\")),Promise.resolve(!0)}return (0, l.fetchWithTimeout)(n,t).then(function(t){if(200!==t.status)throw new Error(\"Not 200 OK: \".concat(t.status,\" \").concat(t.statusText));return t.text()}).then(function(t){if(\"Trouter\"!==t)throw new Error('Not \"Trouter\": '.concat(t.substring(0,16)).concat(t.length>16?\"...\":\"\"));return !0}).catch(function(t){return e.logger.error(\"Nominal service URL connectivity test failed: \".concat(t)),!1})},t.prototype.sendPingRequest=function(){var t=this;if(this.socket&&void 0===this.pingResponseTimerId)try{this.logger.debug(\"emitting ping event\");var e=!1;this.socket.emit(\"ping\",function(){!0!==e&&t.onPingResponse();}),this.pingResponseTimerId=setTimeout(function(){t.logger.error(\"Ping response timeout is fired\"),e=!0,t.clearPingResponseTimer(),t.fsm.onPingResponseTimeout();},this.timeoutOptions.pongTimeoutMs);}catch(t){var n=r(t);this.logger.error(\"unable to send ping. Error: \".concat(n)),this.connectionTracker.trackError(\"ping\",n,!1);}},t.prototype.connectV4c=function(t,e){var n,o,i,r,s,a,u=this.options.ioOptions?c({},this.options.ioOptions):new R;u[\"force new connection\"]=!0,u.reconnect=!1,(null===(n=this.reconnectParams)||void 0===n?void 0:n.serviceUrl)&&(0, S.adaptUrl)(this.reconnectParams.serviceUrl,\"v4c\")!==(0, S.adaptUrl)(this.options.trouterUrl,\"v4c\")&&(this.logger.warn(\"Dropping cached connection parameters for a different environment (\".concat(this.reconnectParams.serviceUrl,\", now \").concat(this.options.trouterUrl,\")\")),this.reconnectParams=void 0);var h=null!==(r=null!==(o=(0, S.redirectUrlIfPresent)(e))&&void 0!==o?o:\"redirect-no-host\"!==(null===e||void 0===e?void 0:e.kind)?null===(i=this.reconnectParams)||void 0===i?void 0:i.reconnectUrl:void 0)&&void 0!==r?r:this.options.trouterUrl,d=(0, S.adaptUrl)(h,\"v4c\");u[\"skipped handshake data\"]={timeout:70,websocketUrl:d},u.query=this.buildV4cUrlParams(),u.rewriteUrlForProxy=this.options.rewriteUrlForProxy;try{if(this.stopSocketIo(),this.transportTypeName=\"websocket\",this.socket=(null!==(s=this.options.io)&&void 0!==s?s:w).connect(this.options.trouterUrl,u),void 0===this.socket)throw new Error(\"failed to create Socket.io object\");var l=null===(a=this.audienceSubscriptionState)||void 0===a?void 0:a.increaseCvAndGetEventObject();this.attachSocketIoHandlers(this.socket,t,void 0,l);}catch(t){this.logger.error(\"\".concat(t)),this.connectionTracker.trackError(\"v4c\",\"\".concat(t)),this.fsm.onV4cException();}},t.prototype.sendV4cAuthenticationEvent=function(t){var e,n={headers:c(c({},this.options.extraConnectionHeaders),o(t,this.usingLegacyTokenApi)),connectparams:(0, S.reconnectParamsWithoutUrls)(this.reconnectParams)};null===(e=this.socket)||void 0===e||e.emit(g.USER_AUTHENTICATE_EVENT_NAME,n);},t.prototype.setUserActivityState=function(t){var e=t.state!==this.userActivityState.state;this.userActivityState=t,e?(this.logger.info(\"Changing user activity state to '\".concat(t.toEventJSON(),\"'\")),this.fsm.onSetNewUserActivityState()):(this.logger.debug(\"Not changing the same user activity state '\".concat(t.toEventJSON(),\"'\")),this.manager.onUserActivityStateAccepted(t.correlationVector.value()));},t.prototype.sendUserActivityState=function(t,e){this.userActivityState.state!==m.UserActivityState.Unknown&&(\"websocket\"===this.transportTypeName&&e?t===y.UserActivityEventReason.Connected?this.sendUserActivityStateMultiple(2):this.sendUserActivityStateMultiple(1):\"xhr-polling\"===this.transportTypeName&&t===y.UserActivityEventReason.Modified&&this.fsm.forceReconnect(\"user activity/force reconnect\"));},t.prototype.setAudienceSubscriptionsAsync=function(t,e){var n=this.audienceSubscriptionState;if(this.audienceSubscriptionState=t,this.transportTypeName===this.WEBSOCKET_TRANSPORT_NAME)return this.setAudienceSubscriptionsInternalAsync(t.increaseCvAndGetEventObject(),e);if(this.transportTypeName===this.XHR_POLLING_TRANSPORT_NAME){var o=this.setAudienceSubscriptionsLongpollInternalAsync(t.increaseCvAndGetEventObject(),e,n);return this.fsm.forceReconnect(\"set audience subscription force reconnect\"),o}throw new Error(\"set audience subscription executed on an unknown transport\")},t.prototype.setAudienceSubscriptionsUnsafeAsync=function(t){if(t)return this.transportTypeName===this.WEBSOCKET_TRANSPORT_NAME?this.setAudienceSubscriptionsInternalAsync(t,15e3):void 0},t.prototype.setAudienceSubscriptionsInternalAsync=function(t,e){return a(this,void 0,void 0,function(){var n,o,i=this;return u(this,function(r){switch(r.label){case 0:return this.logger.info(\"[WebSocket] Audience subscription set requested.\"),n=new A(\"audience.subscribe\"),n.args=t,[4,new Promise(function(o){var r=!1,s=setTimeout(function(){return r=!0,o(i.buildAudienceSubscriptionsTimeoutResponse(t))},e);i.sendDownstreamEvent(n,function(t,e){r||(clearTimeout(s),i.logger.debug(\"[Websocket] Audience subscription response: \".concat(e)),i.pendingAudienceSubscription&&i.onAudienceSubscriptionResult(e),o(e));});})];case 1:return o=r.sent(),this.manager.onAudiencesSetResolved(o,t.cv),[2,o]}})})},t.prototype.setAudienceSubscriptionsLongpollInternalAsync=function(t,e,n){var o;return a(this,void 0,void 0,function(){var i,r,s,c,a,h,d=this;return u(this,function(u){switch(u.label){case 0:return this.logger.info(\"[XHR Polling] Audience subscription set requested.\"),this.pendingAudienceSubscription&&(this.logger.error(\"Racing audience subscriptions occured. This situation resolves into undefined scenario and/or nasal demons.\"),clearTimeout(this.pendingAudienceSubscription.timeoutId)),0===t.audiences.length?[2,this.handleAudienceUnsubscribeLongpoll(t.cv,n)]:[4,new Promise(function(n){var o=setTimeout(function(){return d.pendingAudienceSubscription=void 0,n(d.buildAudienceSubscriptionsTimeoutResponse(t))},e);d.pendingAudienceSubscription={audienceSetResolve:n,timeoutId:o};})];case 1:return i=u.sent(),this.manager.getState()===m.TrouterState.Unknown||this.transportTypeName===this.WEBSOCKET_TRANSPORT_NAME?[2,i]:(r=i.responses[0],(null===r||void 0===r?void 0:r.result.audienceSubscriptionState)===this.AUDIENCE_SUBSCRIPTION_RESULT_BAD_REQUEST?(this.clearAudienceSubscriptionStateQueryParam(),this.manager.onAudiencesSetResolved(i,t.cv),[2,i]):(s=i.responses.find(function(e){return e.audienceId===t.audiences[0].id}),(null===s||void 0===s?void 0:s.result.audienceSubscriptionState)===this.AUDIENCE_SUBSCRIPTION_RESULT_ERROR?(this.clearAudienceSubscriptionStateQueryParam(),this.manager.onAudiencesSetResolved(i,t.cv),[2,i]):(c=(null===(o=null===n||void 0===n?void 0:n.audienceSubscriptionModel.audienceSubscriptions[0])||void 0===o?void 0:o.id)!==(null===r||void 0===r?void 0:r.audienceId),n&&c&&(a=this.mapToSyntheticAudienceSubscriptionResponses(n.audienceSubscriptionModel.audienceSubscriptions,this.AUDIENCE_SUBSCRIPTION_RESULT_UNSUBSCRIBED,200),(h=i.responses).push.apply(h,a)),this.manager.onAudiencesSetResolved(i,t.cv),[2,i])))}})})},t.prototype.clearAudienceSubscriptionStateQueryParam=function(){var t,e,n;(null===(n=null===(e=null===(t=this.socket)||void 0===t?void 0:t.socket)||void 0===e?void 0:e.options)||void 0===n?void 0:n.query)&&(this.socket.socket.options.query=this.socket.socket.options.query.replace(this.AUDIENCE_SUBSCRIPTION_STATE_QUERY_PARAM_REGEX,\"\"));},t.prototype.handleAudienceUnsubscribeLongpoll=function(t,e){var n;this.audienceSubscriptionState=void 0;var o={responses:[]};if(e){var i=this.mapToSyntheticAudienceSubscriptionResponses(e.audienceSubscriptionModel.audienceSubscriptions,this.AUDIENCE_SUBSCRIPTION_RESULT_UNSUBSCRIBED,200);(n=o.responses).push.apply(n,i);}return this.manager.onAudiencesSetResolved(o,t),o},t.prototype.buildAudienceSubscriptionsTimeoutResponse=function(t){return this.logger.error(\"Audience subscription attempt has timed out.\"),{responses:this.mapToSyntheticAudienceSubscriptionResponses(t.audiences,this.AUDIENCE_SUBSCRIPTION_RESULT_TIMEOUT)}},t.prototype.mapToSyntheticAudienceSubscriptionResponses=function(t,e,n){return t.map(function(t){return {audienceId:t.id,result:{audienceSubscriptionState:e,responseStatus:n}}})},t.prototype.expediteBackoff=function(){this.tokenBackoff.expediteIfPending();},t.prototype.sendRegisterRequest=function(){var t=this;if(!this.options.registration||!this.registrarClient)throw new Error(\"Internal error - options.registration is undefined\");if(!this.allocateResult)throw new Error(\"Allocate result is undefined in sendRegisterRequest()\");this.logger.info(\"sending register request\");var e=new l.Timespan;this.connectionTracker.trackStart(\"registration\");var n=this.getRegistrationTtl()[0];this.registrarClient.register({appId:this.options.registration.pnhAppId,aesKey:\"\",languageId:\"en-US\",platform:this.options.registration.platform,templateKey:this.options.registration.pnhTemplateKey,platformUIVersion:this.options.registration.platformUIVersion,productContext:this.options.registration.productContext},{TROUTER:[{context:this.options.registration.context,path:this.allocateResult.surl,ttl:n}]}).then(function(){t.logger.info(\"Register request successful\"),t.connectionTracker.trackEnd(\"registration\"),t.fsm.onRegistrationSucceeded(),t.connectionTracker.sendTelemetry(p.ClientEventName.Registration,{duration:e.duration},[]);}).catch(function(n){t.logger.error(\"Register request failed. Error: \".concat(n)),t.connectionTracker.trackError(\"registration\",s(n)),t.fsm.onRegistrationFailed(),t.connectionTracker.sendTelemetry(p.ClientEventName.Registration,{duration:e.duration},[]);});},t.prototype.sendUnregisterRequest=function(){var t=this;this.logger.info(\"sending unregister request\");var e=new l.Timespan;if(!this.options.registration||!this.registrarClient)throw new Error(\"Internal error - options.registration is undefined\");this.connectionTracker.trackStart(\"unregistration\"),this.registrarClient.unregister().then(function(){t.logger.info(\"Unregister request successful\"),t.connectionTracker.trackEnd(\"unregistration\"),t.fsm.onUnregistrationDone(),t.connectionTracker.sendTelemetry(p.ClientEventName.Unregistration,{duration:e.duration},[]);}).catch(function(n){t.logger.error(\"Unregister request failed. Error: \".concat(n)),t.connectionTracker.trackError(\"unregistration\",s(n)),t.fsm.onUnregistrationDone(),t.connectionTracker.sendTelemetry(p.ClientEventName.Unregistration,{duration:e.duration},[]);});},t.prototype.resetTokenBackoff=function(){this.tokenBackoff.reset();},t.prototype.cancelPendingRegistrationRequests=function(){this.registrarClient&&this.registrarClient.cancelPendingRequests();},t.prototype.clearSentEventTimers=function(){var t=Object.keys(this.pendingSentEventTimers);if(t.length>0){this.logger.debug(\"Clearing all pending downstream events related timers\");for(var e=0,n=t;e<n.length;e++){var o=n[e];this.clearSentEventTimer(Number(o));}}},t.prototype.restartIncallModeTimer=function(){var t=this;this.clearIncallModeTimerId(),this.logger.debug(\"Restarting incall mode timer\"),this.incallModeTimerId=setTimeout(function(){t.logger.info(\"Call mode timer fired\"),t.fsm.onIncallModeTimer();},this.options.incallModeTimeoutMs);},t.prototype.enterIncallMode=function(){this.logger.info(\"Entering incall mode\"),this.timeoutOptions=this.options.incallTimeoutOptions,this.tokenBackoff.setMaxBackoffMs(this.timeoutOptions.maxBackoffMs),this.inIncallMode=!0;},t.prototype.exitIncallMode=function(){this.logger.info(\"Exiting incall mode\"),this.clearIncallModeTimerId(),this.timeoutOptions=this.options.timeoutOptions,this.tokenBackoff.setMaxBackoffMs(this.timeoutOptions.maxBackoffMs),this.inIncallMode=!1;},t.prototype.isIncallMode=function(){return this.inIncallMode},t.prototype.sendDisconnectTelemetryEvent=function(t){var e={reason:t,serverClosed:!this.fsm.isActive()};this.connectionTracker.trackDisconnected(e),this.connectionTracker.clearConnectedInfo();},t.prototype.forceReconnectDueToNoRegistration=function(){this.fsm.forceReconnect(\"force reconnect due to no registration\");},t.prototype.resetReconnectParamsOnErrorThreshold=function(){this.logger.warn(\"\".concat(this.connectingErrorsInRow,\" connection attempts, server-side failure: erasing cached connection parameters\")),this.reconnectParams=void 0;},t.prototype.onSocketConnecting=function(t){this.logger.info(\"onSocketConnecting(\".concat(t,\")\")),this.transportTypeName=t,this.connectionTracker.trackProgress(\"connecting\",this.transportTypeName),this.fsm.onConnecting();},t.prototype.onSocketConnect=function(t){this.logger.info(\"onSocketConnect\"),this.fsm.onSocketConnect(t);},t.prototype.onSocketConnectFailed=function(t){this.logger.error(\"onSocketConnectFailed\"),this.connectionTracker.trackError(\"connect_failed\",t,!0,this.transportTypeName?this.transportTypeName:this.UNKNOWN_TRANSPORT),this.fsm.onConnectingFailed();},t.prototype.onSocketDisconnect=function(t){var e=this.connectionTracker.getSessionLength()||0,n=f.DisconnectReason.fromRawReason(t);this.logger.error(\"onSocketDisconnect, reason: \".concat(n.reason)),\"dup\"===n.reason&&\"dup\"===this.lastDisconnectReason&&e<this.options.duplicateDisconnectThresholdMs&&(this.logger.warn(\"Socket was closed by server as Duplicate for the second time in a row \"+\"after \".concat(e,\" ms which is below the threshold of \")+\"\".concat(this.options.duplicateDisconnectThresholdMs,\" ms. Resetting cached \")+\"connection parameters and making a new allocation.\"),this.reconnectParams=void 0),this.lastDisconnectReason=n.reason,this.fsm.onSocketDisconnect(n),this.connectionExpireTimestampInSecs=void 0;},t.prototype.onSocketReconnect=function(){this.logger.error(\"onSocketReconnect\"),this.fsm.onTrouterConnected();},t.prototype.onSocketReconnectFailed=function(t){this.logger.error(\"onSocketReconnectFailed with '\".concat(t,\"'\")),this.fsm.onSocketDisconnect(f.DisconnectReason.fromSocketIoEventData(\"reconnecterror\",t));},t.prototype.onSocketReconnecting=function(){this.logger.error(\"onSocketReconnecting\");},t.prototype.onSocketError=function(t){this.logger.error(\"onSocketError with '\".concat((0, l.toJson)(t),\"'\")),this.fsm.isConnecting()&&++this.connectingErrorsInRow>=this.connectingErrorsThreshold&&this.resetReconnectParamsOnErrorThreshold(),this.connectionTracker.trackError(\"connectSocket\",i(t)),this.fsm.onSocketDisconnect(f.DisconnectReason.fromSocketIoEventData(\"socketerror\",t));},t.prototype.onSocketMessage=function(t){var e,n=this;this.logger.debug(\"onSocketMessage\");var o;try{o=new E(t,this.logger);var i=null===(e=o.headers)||void 0===e?void 0:e[\"X-Microsoft-Skype-Chain-ID\"],c=i?\" Chain-Id \".concat(i):\"\";this.logger.info(\"Received request N \".concat(o.id).concat(c,\" CV \").concat(o.correlationVector,\" to '\").concat(o.url,\"'\")),o.startTS=Date.now(),o.url&&this.urlPath&&o.url.startsWith(this.urlPath)&&(o.shortUrl=o.url.substring(this.urlPath.length));}catch(t){var a=r(t);return this.logger.error(\"unable to parse request. Error: \".concat(a)),this.connectionTracker.trackRequest(void 0,a),void this.connectionTracker.sendResponseError(\"unable to parse request, error: \".concat(t))}o.timeoutTimerId=setTimeout(function(){if(!o.replied){n.logger.error(\"Request \".concat(o.id,\" timed out\"));var t=new p.ResponseData(o.id);t.status=504,t.headers={\"Trouter-Responder\":\"ClientLib\"},n.sendResponse(o,t),o.timedout=!0;}},this.timeoutOptions.requestTimeoutMs);try{this.connectionTracker.trackRequest(o),this.fsm.onDownstreamRequest(o);}catch(t){this.logger.error(\"exception in socket.on message. Error: \".concat(r(t))),this.connectionTracker.sendResponseError(s(t),o,void 0);}},t.prototype.onTrouterConnected=function(t,e,n){var o,i,r,s,a=this;if((0, S.isV4ConnectEvent)(t)){var u=t;this.allocateResult=c(c({},u),{ttl:t.ttl.toString()}),this.populateAndCacheReconnectParams(u,u.reconnectUrl),this.populateConnectionStateFields(u);}else if(!this.allocateResult)return void this.logger.error(\"Invalid internal state - received onTrouterConnected while allocateResult is not set\");this.connectingErrorsInRow=0,this.logger.info(\"onTrouterConnected: \".concat(this.allocateResult.url)),\"xhr-polling\"===this.transportTypeName&&e&&this.manager.onUserActivityStateAccepted(e.cv),(null===(r=null===(i=null===(o=this.socket)||void 0===o?void 0:o.socket)||void 0===i?void 0:i.options)||void 0===r?void 0:r.query)&&(this.socket.socket.options.query+=\"&connected=true\"),this.urlPath=this.allocateResult.url.replace(/https?:\\/\\/([A-z0-9\\:\\$\\-\\_\\.\\+\\!\\*\\\"\\(\\)\\,]*)\\//,\"/\");var h=this.connectedUrl!==this.allocateResult.url;this.connectedUrl=this.allocateResult.url,this.connectionExpireTimestampInSecs=(0, l.calculateExpireTsInSec)((0, S.ensureNumber)(t.ttl)),this.connectionTracker.trackEnd(\"connectSocket\"),this.connectionTracker.trackConnected(h,this.transportTypeName?this.transportTypeName:this.UNKNOWN_TRANSPORT),null===(s=this.setAudienceSubscriptionsUnsafeAsync(n))||void 0===s||s.catch(function(t){return a.logger.error(\"Re-subscribe to audiences has failed with \".concat(t))}),this.fsm.onTrouterConnected();},t.prototype.onTrouterReconnect=function(t){var e=t.target;this.logger.info(\"onTrouterReconnect target: \".concat(e)),\"self\"===e?this.fsm.onReconnectRequired(!0,h.ServerInitiated):this.fsm.onReconnectRequired(!1,h.ServerInitiated,t);},t.prototype.onTrouterMessageLoss=function(t){this.logger.debug(\"onTrouterMessageLoss\"),this.fsm.onTrouterMessageLost(t.droppedIndicators);},t.prototype.onAudienceSubscriptionResult=function(t){this.logger.info(\"onAudienceSubscriptionResult\"),this.pendingAudienceSubscription&&(clearTimeout(this.pendingAudienceSubscription.timeoutId),this.pendingAudienceSubscription.audienceSetResolve(t),this.pendingAudienceSubscription=void 0);},t.prototype.buildV4cUrlParams=function(){var t={};return t.tc=encodeURI((0, l.toJson)(this.clientInfo)),t.timeout=Math.floor(this.timeoutOptions.pingTimeoutMs/1e3),this.options.endpointId&&(t.epid=this.options.endpointId),this.appendConnectedClientIds(this.buildQuery(t),!0)},t.prototype.attachSocketIoHandlers=function(t,e,n,o){var i=this;t.on(\"connecting\",function(t){i.onSocketConnecting(t);}),t.on(\"connect\",function(){i.onSocketConnect(e);}),t.on(\"connect_failed\",function(t){i.onSocketConnectFailed(t);}),t.on(\"close_during_connecting\",function(t){i.onSocketConnectFailed(t);}),t.on(\"disconnect\",function(t){i.onSocketDisconnect(t);}),t.on(\"reconnect\",function(){i.onSocketReconnect();}),t.on(\"reconnect_failed\",function(t){i.onSocketReconnectFailed(t);}),t.on(\"reconnecting\",function(){i.onSocketReconnecting();}),t.on(\"error\",function(t){i.onSocketError(t);}),t.on(\"message\",function(t){i.onSocketMessage(t);}),t.on(\"trouter.connected\",function(t){i.onTrouterConnected(t,n,o);}),t.on(\"trouter.reconnect\",function(t){i.onTrouterReconnect(t);}),t.on(\"trouter.message_loss\",function(t){i.onTrouterMessageLoss(t);}),t.on(\"audience.subscriptionresult\",function(t,e){i.onAudienceSubscriptionResult(e);});},t.prototype.onNavigatorOnlineStatusUpdate=function(){var t=window.navigator.onLine;this.logger.debug(\"Browser online status update - new state: \".concat(t,\", previously: \").concat(this.isNavigatorOnline)),t&&!this.isNavigatorOnline?(this.isNavigatorOnline=!0,this.tokenBackoff.expediteIfPending(),this.connectionTracker.trackProgress(\"browserNet\",\"online\")):!t&&this.isNavigatorOnline&&(this.isNavigatorOnline=!1,this.connectionTracker.trackProgress(\"browserNet\",\"offline\"));},t.prototype.onAllocationResponse=function(t,e){this.logger.info(\"Received allocation response \".concat(JSON.stringify(t))),this.allocateResult=t,this.populateAndCacheReconnectParams(this.allocateResult,\"\".concat(this.allocateResult.socketio,\"v4/a\")),this.populateConnectionStateFields(this.allocateResult),this.fsm.onAllocationSucceed(e);},t.prototype.populateAndCacheReconnectParams=function(t,e){this.reconnectParams=c({serviceUrl:this.options.trouterUrl,reconnectUrl:e},t.connectparams),this.manager.onConnectionParametersUpdated(this.reconnectParams);},t.prototype.populateConnectionStateFields=function(t){var e,n,o=\"string\"==typeof t.ttl?parseInt(t.ttl,10):t.ttl;if(this.connectionExpireTimestampInSecs=(0, l.calculateExpireTsInSec)(o),this.connectionId=null!==(e=t.id)&&void 0!==e?e:\"\",this.connectedClientId=t.ccid,this.logger.debug(\"connected client id set {connectedClientId:\".concat(this.connectedClientId,\"}\")),this.c2cUrlBase=null!==(n=t.curlb)&&void 0!==n?n:\"\",\"\"===this.c2cUrlBase){var i=t.surl.indexOf(\"://\");i>=0&&(i=t.surl.indexOf(\"/\",i+3))>=5&&\":3443\"===t.surl.substr(i-5,5)&&(this.c2cUrlBase=t.surl.substr(0,i-5));}},t.prototype.onPingResponse=function(){this.logger.debug(\"onPingResponse\"),this.connectionTracker.increasePingResponseCount(),this.clearPingResponseTimer(),this.fsm.onPingResponse();},t.prototype.clearPingResponseTimer=function(){void 0!==this.pingResponseTimerId&&(clearTimeout(this.pingResponseTimerId),this.pingResponseTimerId=void 0);},t.prototype.buildQuery=function(t){for(var e=[],n=0,o=Object.keys(t);n<o.length;n++){var i=o[n];void 0!==t[i]&&e.push(\"\".concat(i,\"=\").concat(t[i]));}return e.join(\"&\")},t.prototype.appendConnectedClientIds=function(t,e){var n=\"\";t.includes(\"ccid=\")||(n=\"ccid=\".concat(this.connectedClientId,\"&\")),this.domId&&(n+=\"dom=\".concat(this.domId,\"&\")),n.length>0&&(n=n.slice(0,-1));var o=e||t.includes(\"?\")?\"&\":\"?\";return this.appendCorrelationIds(t+o+n,e)},t.prototype.appendEndpointId=function(t,e){var n=e||t.includes(\"?\")?\"&\":\"?\";return !t.includes(\"epid\")&&this.options.endpointId?\"\".concat(t).concat(n,\"epid=\").concat(this.options.endpointId):t},t.prototype.appendCorrelationIds=function(t,e){var n=e||t.includes(\"?\")?\"&\":\"?\";return t.includes(\"cor_id\")?t:\"\".concat(t).concat(n,\"cor_id=\").concat(this.options.clientCorrelationID)+\"&con_num=\".concat(this.clientID,\"_\").concat(this.connectionAttempt)},t.prototype.safeString=function(t){return \"string\"==typeof t?t:\"\"},t.prototype.sendResponse=function(t,e){var n,o,i;if(t.timedout)return this.logger.error(\"Request \".concat(t.id,\" already timed out\")),1;if(t.replied)return this.logger.error(\"Response for request \".concat(t.id,\" already sent\")),2;clearTimeout(t.timeoutTimerId),t.timeoutTimerId=void 0,t.replied=!0,e.headers=null!==(n=e.headers)&&void 0!==n?n:{};var s=t.correlationVector;this.logger.info(\"Sending response N \".concat(t.id,\" CV \").concat(s,\" with status \").concat(e.status)),s&&(e.headers[C]=s),(null===(o=t.headers)||void 0===o?void 0:o[\"trouter-request\"])&&(e.headers[\"trouter-request\"]=t.headers[\"trouter-request\"]);var c=Date.now()-t.startTS;if(e.headers[\"trouter-client\"]=(0, l.toJson)({cd:c}),(null===(i=t.headers)||void 0===i?void 0:i[\"trouter-is-broadcast\"])&&(e.headers[\"trouter-is-broadcast\"]=t.headers[\"trouter-is-broadcast\"]),this.logger.debug(\"response: \".concat((0, l.toJson)(e))),!this.socket)return this.connectionTracker.sendResponseError(\"no socket\",t,e),4;try{return this.socket.send((0,l.toJson)(e)),e.sentTS=Date.now(),t.incrementCorrelationVector(),this.connectionTracker.trackResponse(t,c,e),\"websocket\"===this.transportTypeName&&this.sendPingRequest(),0}catch(n){var a=\"unable to send data on response.end. Error: \".concat(r(n));return this.logger.error(a),this.connectionTracker.sendResponseError(a,t,e),4}},t.prototype.sendUserActivityStateMultiple=function(t){var e=this,n=new A(\"user.activity\"),o=this.userActivityState.increaseCvAndGetEventObject();n.args=o,this.logger.debug(\"Sending user activity '\".concat(this.userActivityState.toEventJSON(),\"', remaining \").concat(t-1));var i=!1;this.sendDownstreamEvent(n,function(){if(!0!==i&&(e.logger.info(\"User activity state: \".concat(o.state,\", cv: \").concat(o.cv,\" accepted\")),e.manager.onUserActivityStateAccepted(o.cv),e.clearSentEventTimer(n.timeoutTimerId),t>1)){var r=setTimeout(function(){e.clearSentEventTimer(r),e.sendUserActivityStateMultiple(t-1);},e.options.userActivitySecondResendDelayMs);e.registerSentEventTimer(r,\"user.activity/resend\");}}),n.timeoutTimerId=setTimeout(function(){e.logger.error(\"Activity state response timeout is fired\"),i=!0,e.fsm.onActivityStateResponseTimeout(),e.clearSentEventTimer(n.timeoutTimerId);},this.timeoutOptions.userActivityResponseTimeoutMs),this.registerSentEventTimer(n.timeoutTimerId,\"user.activity/response\");},t.prototype.sendDownstreamEvent=function(t,e){this.logger.debug(\"Sending downstream event \".concat(t.name)),this.socket&&this.socket.emit(t.name,t.args,e);},t.prototype.registerSentEventTimer=function(t,e){this.logger.debug(\"registering timer \".concat(t,\" -> \").concat(e)),this.pendingSentEventTimers[t]=e;},t.prototype.clearSentEventTimer=function(t){var e=this.pendingSentEventTimers[t];this.logger.debug(\"clearing timer \".concat(t,\" -> \").concat(e)),delete this.pendingSentEventTimers[t],clearTimeout(t);},t.prototype.getRegistrationTtl=function(){var t,e,n=(0, l.calculateTtlInSec)(this.connectionExpireTimestampInSecs);if(this.logger.debug(\"Current connectionID will expire in \".concat(n,\" seconds\")),(null===(t=this.options.registration)||void 0===t?void 0:t.registrarTtlSec)&&n>0){var o=this.options.registration.registrarTtlSec<n;return [Math.min(this.options.registration.registrarTtlSec,n),o]}return (null===(e=this.options.registration)||void 0===e?void 0:e.registrarTtlSec)?[this.options.registration.registrarTtlSec,!1]:n>0?[n,!1]:[3600,!1]},t.prototype.clearIncallModeTimerId=function(){void 0!==this.incallModeTimerId&&(this.logger.debug(\"Clearing in-call mode timer\"),clearTimeout(this.incallModeTimerId),this.incallModeTimerId=void 0);},t.prototype.applyConnectionTrackerOptions=function(t){try{t.eventLogger&&\"function\"==typeof t.eventLogger.logEvent?(this.connectionTracker.mergeSettings(t.telemetrySettings),this.connectionTracker.enable(t.eventLogger)):this.logger.warn(\"Trouter client event logging disabled due to invalid configuration.\");}catch(t){this.logger.warn(\"Trouter client event logging disabled. Error: \".concat(r(t))),this.connectionTracker.disable();}},t.prototype.canRetryTokenFetchRequest=function(t){var e=this.options.retryLimitOnTokenFetch;return null===e||void 0===e||(t<e||(this.logger.warn(\"Reached limit on maximum number of token fetch request. Current count: \".concat(t,\", retry limit: \").concat(e)),!1))},t}();e.TrouterConnection=U;},function(t,e,n){Object.defineProperty(e,\"__esModule\",{value:!0}),e.MessageHandlerRegistry=void 0;var o=n(1),i=n(0),r=function(){function t(t){this.messageHandlers=[],this.logger=new i.Logger(\"MessageHandlers\",t);}return t.prototype.register=function(t){if(this.messageHandlers.some(function(e){return e===t}))throw new Error(\"Registering the same handler twice is not allowed\");this.messageHandlers.push(t);},t.prototype.clear=function(){this.logger.debug(\"Clearing message handlers\"),this.messageHandlers=[];},t.prototype.active=function(){return this.messageHandlers.length>0},t.prototype.handleMessage=function(t){for(var e={resultCode:o.UNHANDLED_MESSAGE_ACK,isHandled:!1},n=0,i=this.messageHandlers;n<i.length;n++){var r=i[n],s=this.safeExecuteHandle(r,t);if(void 0!==s&&(void 0===s.isHandled||s.isHandled))return void 0===s.resultCode&&(s.resultCode=o.HANDLED_MESSAGE_ACK),s}return e},t.prototype.safeExecuteHandle=function(t,e){try{return t.handleMessage(e)}catch(t){return void this.logger.warn(\"Trouter message handler threw an exception: \".concat(t))}},t}();e.MessageHandlerRegistry=r;},function(t,e,n){function o(t){var e,n=this;return function(o){return i(n,void 0,void 0,function(){return r(this,function(n){return o&&(e=void 0),[2,new Promise(function(n,i){t(o).then(function(t){e=t,n(t);}).catch(function(t){void 0!==e&&e.length>0&&n(e),i(t);});})]})})}}var i=this&&this.__awaiter||function(t,e,n,o){function i(t){return t instanceof n?t:new n(function(e){e(t);})}return new(n||(n=Promise))(function(n,r){function s(t){try{a(o.next(t));}catch(t){r(t);}}function c(t){try{a(o.throw(t));}catch(t){r(t);}}function a(t){t.done?n(t.value):i(t.value).then(s,c);}a((o=o.apply(t,e||[])).next());})},r=this&&this.__generator||function(t,e){function n(t){return function(e){return o([t,e])}}function o(n){if(i)throw new TypeError(\"Generator is already executing.\");for(;c&&(c=0,n[0]&&(a=0)),a;)try{if(i=1,r&&(s=2&n[0]?r.return:n[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a);}catch(t){n=[6,t],r=0;}finally{i=s=0;}if(5&n[0])throw n[1];return {value:n[0]?n[1]:void 0,done:!0}}var i,r,s,c,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},\"function\"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,\"__esModule\",{value:!0}),e.addCacheAsBackupTo=void 0,e.addCacheAsBackupTo=o;},function(t,e,n){var o=this&&this.__awaiter||function(t,e,n,o){function i(t){return t instanceof n?t:new n(function(e){e(t);})}return new(n||(n=Promise))(function(n,r){function s(t){try{a(o.next(t));}catch(t){r(t);}}function c(t){try{a(o.throw(t));}catch(t){r(t);}}function a(t){t.done?n(t.value):i(t.value).then(s,c);}a((o=o.apply(t,e||[])).next());})},i=this&&this.__generator||function(t,e){function n(t){return function(e){return o([t,e])}}function o(n){if(i)throw new TypeError(\"Generator is already executing.\");for(;c&&(c=0,n[0]&&(a=0)),a;)try{if(i=1,r&&(s=2&n[0]?r.return:n[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a);}catch(t){n=[6,t],r=0;}finally{i=s=0;}if(5&n[0])throw n[1];return {value:n[0]?n[1]:void 0,done:!0}}var i,r,s,c,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},\"function\"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,\"__esModule\",{value:!0}),e.TrouterManager=e.AudienceSubscriptionState=e.UserActivityObject=void 0;var r=n(3),s=n(2),c=n(4),a=n(0),u=n(5),h=n(18),d=n(7),l=n(6),p=n(19),g=function(){function t(t,e){this.state=t,this.correlationVector=void 0!==e?e:r.CorrelationVector.extend();}return t.prototype.getStateString=function(){switch(this.state){case s.UserActivityState.Active:return \"active\";case s.UserActivityState.Inactive:return \"inactive\";case s.UserActivityState.Unknown:return \"unknown\";default:return \"undefined\"}},t.prototype.increaseCvAndGetEventObject=function(){return this.correlationVector.increase(),this.toEventObject()},t.prototype.toEventObject=function(){return {state:this.getStateString(),cv:this.correlationVector.value()}},t.prototype.toEventJSON=function(){return (0, r.toJson)(this.toEventObject())},t}();e.UserActivityObject=g;var f=function(){function t(t,e){void 0===e&&(e=r.CorrelationVector.extend()),this.audienceSubscriptionModel=t,this.correlationVector=e;}return t.prototype.increaseCvAndGetEventObject=function(){return this.correlationVector.increase(),this.toEventObject()},t.prototype.toEventObject=function(){return {audiences:this.audienceSubscriptionModel.audienceSubscriptions,cv:this.correlationVector.value()}},t.prototype.toEventJSON=function(){return (0, r.toJson)(this.toEventObject())},t}();e.AudienceSubscriptionState=f;var v=function(){function t(t,e,n,o,i,c){var h=this;this.logFunc=t,this.options=e,this.tokenProvider=n,this.usingLegacyTokenApi=o,this.listener=i,this.tokenTypeProtocolSelector=function(t,e){return h.options.forceV4aProtocol?\"v4a\":(0, u.usedProtocol)(t,e)},this.logger=new a.Logger(\"Manager\",t),this.logger.info(\"Created TrouterManager with options \".concat((0, r.toJson)(this.options))),this.fsm=new p.TrouterManagerFsm(t,this),this.baseEndpointUrl=\"\",this.processedMessageLoss={},this.userActivityObject=new g(s.UserActivityState.Unknown),this.protocolSelector=null!==c&&void 0!==c?c:this.tokenTypeProtocolSelector.bind(this);}return t.prototype.start=function(){this.fsm.start();},t.prototype.stop=function(t){this.fsm.stop(t);},t.prototype.configure=function(t){this.options=t,void 0!==this.firstConnection&&this.firstConnection.configure(t),void 0!==this.secondConnection&&this.secondConnection.configure(t),this.logger.info(\"Reconfigured TrouterManager with options \".concat((0, r.toJson)(this.options)));},t.prototype.checkConnection=function(t){void 0!==this.firstConnection&&this.firstConnection.checkConnection(t),void 0!==this.secondConnection&&this.secondConnection.checkConnection(t);},t.prototype.resendRegistration=function(){return o(this,void 0,void 0,function(){return i(this,function(t){return void 0!==this.secondConnection?(this.logger.info(\"Resending registration on the second/new connection\"),[2,this.secondConnection.resendRegistration()]):void 0!==this.firstConnection?(this.logger.info(\"Resending registration on the first/current connection\"),[2,this.firstConnection.resendRegistration()]):(this.logger.info(\"No connection to resend registration on, will be done upon (re)connect\"),[2])})})},t.prototype.getServerState=function(){if(void 0!==this.firstConnection)return this.firstConnection.getServerState()},t.prototype.getState=function(){return this.fsm.getState()},t.prototype.isInTerminalState=function(){return this.fsm.getInternalState()===c.TrouterManagerState.TerminalError},t.prototype.reportStateInfo=function(){var t=this.firstConnection?l.State[this.firstConnection.getState()]:\"Unknown\",e=c.TrouterManagerState[this.fsm.getInternalState()];if(this.secondConnection){var n=l.State[this.secondConnection.getState()];return \"Manager \".concat(e,\"; 1st \").concat(t,\"; 2nd \").concat(n)}return \"Manager \".concat(e,\"; Connection \").concat(t)},t.prototype.startFirstConnection=function(){var t=new d.TrouterConnection(this.logFunc,this.options,this.configuredTrouterManager(),this.tokenProvider,this.usingLegacyTokenApi,this.userActivityObject,this.protocolSelector,this.audienceSubscriptionState);this.firstConnection=t,this.getConnectionCache().then(function(e){t.start(e);}).catch(function(){});},t.prototype.startSecondConnection=function(t){var e=new d.TrouterConnection(this.logFunc,this.options,this.configuredTrouterManager(),this.tokenProvider,this.usingLegacyTokenApi,this.userActivityObject,this.protocolSelector,this.audienceSubscriptionState);this.secondConnection=e,void 0!==this.firstConnection&&this.firstConnection.disableRegistrationsAndAutoReconnect(),t?this.getConnectionCache().then(function(t){e.start(t);}).catch(function(){}):e.start();},t.prototype.stopFirstConnection=function(t){void 0!==this.firstConnection&&(this.storedFirstConnection=this.firstConnection,this.firstConnection.stop(t),this.firstConnection=void 0);},t.prototype.stopSecondConnection=function(t){void 0!==this.secondConnection&&(this.secondConnection.stop(t),this.secondConnection=void 0);},t.prototype.stopSecondConnectionDelayed=function(){if(void 0!==this.secondConnection){var t=this.secondConnection;this.secondConnection=void 0,this.logger.info(\"Closing an inactive connection in \".concat(Math.round(this.options.lingeringConnectionDelayMs/1e3),\"s\")),setTimeout(function(){t.stop(!0);},this.options.lingeringConnectionDelayMs);}},t.prototype.forceStopLingeringConnection=function(){this.storedFirstConnection&&(this.storedFirstConnection.stop(!1),this.storedFirstConnection=void 0);},t.prototype.switchConnections=function(){var t=this.firstConnection;this.firstConnection=this.secondConnection,this.secondConnection=t;},t.prototype.doesSecondConnectionExist=function(){return void 0!==this.secondConnection},t.prototype.dispatchConnected=function(){if(void 0!==this.firstConnection){var t=this.firstConnection.getServerState(),e=t.url.endsWith(\"/\")?t.url.slice(0,-1):t.url,n={baseEndpointUrl:e,newEndpointUrl:e!==this.baseEndpointUrl,c2cUrlBase:t.c2cUrlBase,clientId:t.connectedClientId,connectionId:t.connectionId,connectionTtlSec:t.getRemainingTtlInSec()};this.baseEndpointUrl=e,this.listener.onTrouterConnected(t.url,n);}},t.prototype.dispatchDisconnected=function(){this.listener.onTrouterDisconnected&&this.listener.onTrouterDisconnected();},t.prototype.dispatchTerminalError=function(){this.listener.onTrouterDisconnected&&this.listener.onTrouterDisconnected();},t.prototype.dispatchRegistrationState=function(t){this.options.registrationStateCallback&&this.options.registrationStateCallback(t);},t.prototype.expediteBackoffOnConnections=function(){var t;if(void 0!==this.lastExpediteBackoffCallAt&&Date.now()-this.lastExpediteBackoffCallAt<(null!==(t=this.options.expediteBackoffOnStartMinimumDelayMs)&&void 0!==t?t:1e4))return void this.logger.info(\"Expedite backoff due to start() too frequent, skipping\");this.lastExpediteBackoffCallAt=Date.now(),void 0!==this.firstConnection&&this.firstConnection.expediteBackoff(),void 0!==this.secondConnection&&this.secondConnection.expediteBackoff();},t.prototype.onDownstreamRequest=function(t,e,n){var o={id:e.id,method:e.method,path:\"/\".concat(e.shortUrl),body:e.body,headers:e.headers},i={id:e.id,status:0,headers:{},body:\"\",send:function(){return i.status<=100||i.status>=999?3:(n.writeHead(i.status,i.headers),n.end(i.body))}};this.listener.onTrouterRequest(o,i);},t.prototype.onConnected=function(t){this.fsm.onConnected(t===this.firstConnection);},t.prototype.onRegistered=function(t){this.fsm.onRegistered(t===this.firstConnection);},t.prototype.onUnregistered=function(t){this.fsm.onUnregistered(t===this.firstConnection||t===this.storedFirstConnection);},t.prototype.onReconnecting=function(t){this.fsm.onReconnecting(t===this.firstConnection);},t.prototype.onReconnectIsRequired=function(t,e,n){this.fsm.onReconnectionRequired(t===this.firstConnection,e,n);},t.prototype.onDisconnected=function(t){this.fsm.onDisconnected(t===this.firstConnection||t==this.storedFirstConnection),this.storedFirstConnection=void 0;},t.prototype.onTerminalError=function(){this.fsm.onTerminalError(),this.storedFirstConnection=void 0;},t.prototype.onUserActivityStateAccepted=function(t){this.listener.onTrouterUserActivityStateAccepted&&this.listener.onTrouterUserActivityStateAccepted(t);},t.prototype.onAudiencesSetResolved=function(t,e){var n,o;null===(o=(n=this.listener).onAudiencesSetResolved)||void 0===o||o.call(n,t,e);},t.prototype.onConnectionParametersUpdated=function(t){this.setConnectionCache(t);},t.prototype.setUserActivityState=function(t,e){return this.userActivityObject=new g(t,r.CorrelationVector.extend(e)),void 0!==this.secondConnection?(this.logger.info(\"Setting user activity \".concat(this.userActivityObject.toEventJSON(),\" on the second/new connection\")),void this.secondConnection.setUserActivityState(this.userActivityObject)):void 0!==this.firstConnection?(this.logger.info(\"Setting user activity \".concat(this.userActivityObject.toEventJSON(),\" on the first/current connection\")),void this.firstConnection.setUserActivityState(this.userActivityObject)):void 0},t.prototype.setAudienceSubscriptionsAsync=function(t,e,n){if(this.audienceSubscriptionState=new f(t,r.CorrelationVector.extend(n)),this.secondConnection)return this.logger.info(\"Setting audience subscriptions \".concat(this.audienceSubscriptionState.toEventJSON(),\" on second/new connection\")),this.secondConnection.setAudienceSubscriptionsAsync(this.audienceSubscriptionState,e);if(this.firstConnection)return this.logger.info(\"Setting audience subscriptions \".concat(this.audienceSubscriptionState.toEventJSON(),\" on first/current connection\")),this.firstConnection.setAudienceSubscriptionsAsync(this.audienceSubscriptionState,e);throw new Error(\"No connection found\")},t.prototype.onTrouterMessageLost=function(t){var e=this;if(this.listener.onTrouterMessageLoss)if(null===t||void 0===t?void 0:t.length){var n=t.filter(function(t){return void 0!==e.processedMessageLoss[\"\".concat(t.tag,\"-\").concat(t.etag)]});if(n.length&&(this.logger.info(\"onTrouterMessageLoss - immediately acknowledging \".concat(n.length,\" seen dropped indicators\")),this.sendProcessedDroppedIndicators(n),t=t.filter(function(t){return void 0===e.processedMessageLoss[\"\".concat(t.tag,\"-\").concat(t.etag)]}),!t.length))return void this.logger.info(\"onTrouterMessageLoss - all declared dropped indicators have been seen before\");var o=this.listener.onTrouterMessageLoss(t.map(function(t){return t.tag}));if(!o)return void this.logger.warn(\"onTrouterMessageLoss - some flow tag(s) have not been processed by listeners\");t.forEach(function(t){e.processedMessageLoss[\"\".concat(t.tag,\"-\").concat(t.etag)]=\"\";}),this.sendProcessedDroppedIndicators(t);}else this.logger.warn(\"onTrouterMessageLoss - no flow tags have been provided\");},t.prototype.getConnectionCache=function(){var t=this;return this.options.connectionCache?(this.logger.debug(\"Querying host's connection cache\"),this.options.connectionCache.onGetTrouterConnectionCache().then(function(t){var e=t?JSON.parse(t):void 0;return \"object\"==typeof e?e:void 0}).catch(function(e){return t.logger.warn(\"Invalid connection cache content provided: \".concat(e)),t.connectionCache})):Promise.resolve(this.connectionCache)},t.prototype.setConnectionCache=function(t){if(this.connectionCache=t,this.options.connectionCache)try{this.options.connectionCache.onSetTrouterConnectionCache(JSON.stringify(t));}catch(t){this.logger.warn(\"Error setting external connection cache: \".concat(t));}},t.prototype.sendProcessedDroppedIndicators=function(t){return void 0!==this.firstConnection?void this.firstConnection.sendProcessedDroppedIndicators(t):void 0!==this.secondConnection?void this.secondConnection.sendProcessedDroppedIndicators(t):void 0},t.prototype.configuredTrouterManager=function(){return new h.RegistrationEnforcer(this,this.options.connectionDependsOnRegistration,this.options.delayEventsUntilRegistered)},t}();e.TrouterManager=v;},function(t,e,n){Object.defineProperty(e,\"__esModule\",{value:!0}),e.TrouterUrlPromise=void 0;var o=n(0),i=function(){function t(t){this.logger=new o.Logger(\"UrlPromise\",t);}return t.prototype.getPromise=function(){var t=this;return void 0!==this.url?(this.logger.debug(\"returning previously resolved url: \".concat(this.url)),Promise.resolve(this.url)):(void 0===this.pendingPromise?(this.logger.debug(\"creating and returning promise\"),this.pendingPromise=new Promise(function(e,n){t.pendingPromiseResolveRef=e,t.pendingPromiseRejectRef=n;})):this.logger.debug(\"returning existing promise\"),this.pendingPromise)},t.prototype.resolveUrl=function(t){this.url=t,this.logger.debug(\"got url: \".concat(this.url));var e=this.pendingPromiseResolveRef;this.pendingPromise=void 0,this.pendingPromiseResolveRef=void 0,this.pendingPromiseRejectRef=void 0,void 0!==e&&(this.logger.debug(\"resolving promise\"),e(t));},t.prototype.rejectUrl=function(t){this.logger.debug(\"aborting\");var e=this.pendingPromiseRejectRef;this.url=void 0,this.pendingPromise=void 0,this.pendingPromiseResolveRef=void 0,this.pendingPromiseRejectRef=void 0,void 0!==e&&(this.logger.debug(\"rejecting promise\"),e(t));},t.prototype.resetUrl=function(){this.logger.debug(\"resetting url\"),this.url=void 0;},t}();e.TrouterUrlPromise=i;},function(t,e,n){(function(t,n){!function(t,e){var n=t;n.version=\"0.9.6\",n.protocol=1,n.transports=[],n.j=[],n.sockets={},n.connect=function(t,o){var i,r,s=n.util.parseUri(t);e&&e.location&&(s.protocol=s.protocol||e.location.protocol.slice(0,-1),s.host=s.host||(e.document?e.document.domain:e.location.hostname),s.port=s.port||e.location.port),i=n.util.uniqueUri(s);var c={host:s.host,secure:\"https\"==s.protocol,port:s.port||(\"https\"==s.protocol?443:80),query:s.query||\"\"};return n.util.merge(c,o),!c[\"force new connection\"]&&n.sockets[i]||(r=new n.Socket(c)),!c[\"force new connection\"]&&r&&(n.sockets[i]=r),r=r||n.sockets[i],c[\"skipped handshake data\"]?r.of(\"\"):r.of(s.path.length>1?s.path:\"\")};}(n.exports,void 0===t?window:t);var o=n.exports;!function(t,e){var n=t.util={},o=/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/,i=[\"source\",\"protocol\",\"authority\",\"userInfo\",\"user\",\"password\",\"host\",\"port\",\"relative\",\"path\",\"directory\",\"file\",\"query\",\"anchor\"];n.parseUri=function(t){for(var e=o.exec(t||\"\"),n={},r=14;r--;)n[i[r]]=e[r]||\"\";return n},n.uniqueUri=function(t){var n=t.protocol,o=t.host,i=t.port;return \"document\"in e?(o=o||document.domain,i=i||(\"https\"==n&&\"https:\"!==document.location.protocol?443:document.location.port)):(o=o||\"localhost\",i||\"https\"!=n||(i=443)),(n||\"http\")+\"://\"+o+\":\"+(i||80)},n.query=function(t,e){var o=n.chunkQuery(t||\"\"),i=[];n.merge(o,n.chunkQuery(e||\"\"));for(var r in o)o.hasOwnProperty(r)&&i.push(r+\"=\"+o[r]);return i.length?\"?\"+i.join(\"&\"):\"\"},n.chunkQuery=function(t){for(var e,n={},o=t.split(\"&\"),i=0,r=o.length;i<r;++i)e=o[i].split(\"=\"),e[0]&&(n[e[0]]=e[1]);return n};var r=!1;n.load=function(t){if(\"document\"in e&&\"complete\"===document.readyState||r)return t();n.on(e,\"load\",t,!1);},n.on=function(t,e,n,o){t.attachEvent?t.attachEvent(\"on\"+e,n):t.addEventListener&&t.addEventListener(e,n,o);},n.request=function(t){if(t&&\"undefined\"!=typeof XDomainRequest)return new XDomainRequest;if(\"undefined\"!=typeof XMLHttpRequest&&(!t||n.ua.hasCORS))return new XMLHttpRequest;if(!t)try{return new(window[[\"Active\"].concat(\"Object\").join(\"X\")])(\"Microsoft.XMLHTTP\")}catch(t){}return null},\"undefined\"!=typeof window&&n.load(function(){r=!0;}),n.defer=function(t){if(!n.ua.webkit||\"undefined\"!=typeof importScripts)return t();n.load(function(){setTimeout(t,100);});},n.merge=function(t,e,o,i){var r,s=i||[],c=void 0===o?2:o;for(r in e)e.hasOwnProperty(r)&&n.indexOf(s,r)<0&&(\"object\"==typeof t[r]&&c?n.merge(t[r],e[r],c-1,s):(t[r]=e[r],s.push(e[r])));return t},n.mixin=function(t,e){n.merge(t.prototype,e.prototype);},n.inherit=function(t,e){function n(){}n.prototype=e.prototype,t.prototype=new n;},n.isArray=Array.isArray||function(t){return \"[object Array]\"===Object.prototype.toString.call(t)},n.intersect=function(t,e){for(var o=[],i=t.length>e.length?t:e,r=t.length>e.length?e:t,s=0,c=r.length;s<c;s++)~n.indexOf(i,r[s])&&o.push(r[s]);return o},n.indexOf=function(t,e,n){for(var o=t.length,n=n<0?n+o<0?0:n+o:n||0;n<o&&t[n]!==e;n++);return o<=n?-1:n},n.toArray=function(t){for(var e=[],n=0,o=t.length;n<o;n++)e.push(t[n]);return e},n.ua={},n.ua.hasCORS=\"undefined\"!=typeof XMLHttpRequest&&function(){try{var t=new XMLHttpRequest;}catch(t){return !1}return void 0!=t.withCredentials}(),n.ua.webkit=\"undefined\"!=typeof navigator&&/webkit/i.test(navigator.userAgent);}(void 0!==o?o:n.exports,void 0===t?window:t),function(t,e){function n(){}t.EventEmitter=n,n.prototype.on=function(t,n){return this.$events||(this.$events={}),this.$events[t]?e.util.isArray(this.$events[t])?this.$events[t].push(n):this.$events[t]=[this.$events[t],n]:this.$events[t]=n,this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(t,e){function n(){o.removeListener(t,n),e.apply(this,arguments);}var o=this;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,n){if(this.$events&&this.$events[t]){var o=this.$events[t];if(e.util.isArray(o)){for(var i=-1,r=0,s=o.length;r<s;r++)if(o[r]===n||o[r].listener&&o[r].listener===n){i=r;break}if(i<0)return this;o.splice(i,1),o.length||delete this.$events[t];}else (o===n||o.listener&&o.listener===n)&&delete this.$events[t];}return this},n.prototype.removeAllListeners=function(t){return this.$events&&this.$events[t]&&(this.$events[t]=null),this},n.prototype.listeners=function(t){return this.$events||(this.$events={}),this.$events[t]||(this.$events[t]=[]),e.util.isArray(this.$events[t])||(this.$events[t]=[this.$events[t]]),this.$events[t]},n.prototype.emit=function(t){if(!this.$events)return !1;var n=this.$events[t];if(!n)return !1;var o=Array.prototype.slice.call(arguments,1);if(\"function\"==typeof n)n.apply(this,o);else {if(!e.util.isArray(n))return !1;for(var i=n.slice(),r=0,s=i.length;r<s;r++)i[r].apply(this,o);}return !0};}(void 0!==o?o:n.exports,void 0!==o?o:n.parent.exports),function(t,e){if(e&&e.parse)return t.JSON={parse:e.parse,stringify:e.stringify};throw new Error(\"JSON not available\")}(void 0!==o?o:n.exports,\"undefined\"!=typeof JSON?JSON:void 0),function(t,e){var n=t.parser={},o=n.packets=[\"disconnect\",\"connect\",\"heartbeat\",\"message\",\"json\",\"event\",\"ack\",\"error\",\"noop\"],i=n.reasons=[\"transport not supported\",\"client not handshaken\",\"unauthorized\"],r=n.advice=[\"reconnect\"],s=e.JSON,c=e.util.indexOf;n.encodePacket=function(t){var e=c(o,t.type),n=t.id||\"\",a=t.endpoint||\"\",u=t.ack,h=null;switch(t.type){case\"error\":var d=t.reason?c(i,t.reason):\"\",l=t.advice?c(r,t.advice):\"\";\"\"===d&&\"\"===l||(h=d+(\"\"!==l?\"+\"+l:\"\"));break;case\"message\":\"\"!==t.data&&(h=t.data);break;case\"event\":var p={name:t.name};t.args&&t.args.length&&(p.args=t.args),h=s.stringify(p);break;case\"json\":h=s.stringify(t.data);break;case\"connect\":t.qs&&(h=t.qs);break;case\"ack\":h=t.ackId+(t.args&&t.args.length?\"+\"+s.stringify(t.args):\"\");}var g=[e,n+(\"data\"==u?\"+\":\"\"),a];return null!==h&&void 0!==h&&g.push(h),g.join(\":\")},n.encodePayload=function(t){var e=\"\";if(1==t.length)return t[0];for(var n=0,o=t.length;n<o;n++){e+=\"�\"+t[n].length+\"�\"+t[n];}return e};var a=/([^:]+):([0-9]+)?(\\+)?:([^:]+)?:?([\\s\\S]*)?/;n.decodePacket=function(t){var e=t.match(a);if(!e)return {};var n=e[2]||\"\",t=e[5]||\"\",c={type:o[e[1]],endpoint:e[4]||\"\"};switch(n&&(c.id=n,e[3]?c.ack=\"data\":c.ack=!0),c.type){case\"error\":var e=t.split(\"+\");c.reason=i[e[0]]||\"\",c.advice=r[e[1]]||\"\";break;case\"message\":c.data=t||\"\";break;case\"event\":try{var u=s.parse(t);c.name=u.name,c.args=u.args;}catch(t){}c.args=c.args||[];break;case\"json\":try{c.data=s.parse(t);}catch(t){}break;case\"connect\":c.qs=t||\"\";break;case\"ack\":var e=t.match(/^([0-9]+)(\\+)?(.*)/);if(e&&(c.ackId=e[1],c.args=[],e[3]))try{c.args=e[3]?s.parse(e[3]):[];}catch(t){}break;case\"disconnect\":c.reason=t;}return c},n.decodePayload=function(t){if(\"�\"==t.charAt(0)){for(var e=[],o=1,i=\"\";o<t.length;o++)\"�\"==t.charAt(o)?(e.push(n.decodePacket(t.substr(o+1).substr(0,i))),o+=Number(i)+1,i=\"\"):i+=t.charAt(o);return e}return [n.decodePacket(t)]};}(void 0!==o?o:n.exports,void 0!==o?o:n.parent.exports),function(t,e){function n(t,e){this.socket=t,this.sessid=e,this.connectErrorCallback=void 0,this.isOpened=!1;}t.Transport=n,e.util.mixin(n,e.EventEmitter),n.prototype.onData=function(t){if(this.clearCloseTimeout(),(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout(),\"\"!==t){var n=e.parser.decodePayload(t);if(n&&n.length)for(var o=0,i=n.length;o<i;o++)this.onPacket(n[o]);}return this},n.prototype.onPacket=function(t){return this.socket.setHeartbeatTimeout(),\"heartbeat\"==t.type?this.onHeartbeat():(\"connect\"==t.type&&\"\"==t.endpoint&&this.onConnect(),\"error\"==t.type&&\"reconnect\"==t.advice&&(this.isOpened=!1),this.socket.onPacket(t),this)},n.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var t=this;this.closeTimeout=setTimeout(function(){t.onDisconnect();},this.socket.closeTimeout);}},n.prototype.onDisconnect=function(){return this.close&&this.isOpened&&this.close(),this.clearTimeouts(),this.socket.onDisconnect(),this},n.prototype.onConnect=function(){return this.socket.onConnect(),this.connectErrorCallback=void 0,this},n.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null);},n.prototype.clearTimeouts=function(){this.clearCloseTimeout(),this.reopenTimeout&&clearTimeout(this.reopenTimeout);},n.prototype.packet=function(t){this.send(e.parser.encodePacket(t));},n.prototype.onHeartbeat=function(t){this.packet({type:\"heartbeat\"});},n.prototype.onOpen=function(){this.isOpened=!0,this.clearCloseTimeout(),this.socket.onOpen();},n.prototype.onClose=function(){this.isOpened=!1,this.socket.onClose(),this.onDisconnect();},n.prototype.prepareUrl=function(t){var n=this.socket.options;if(n[\"skipped handshake data\"])return n.rewriteUrlForProxy(n[\"skipped handshake data\"].websocketUrl+(t||\"\"));var o=this.scheme()+\"://\"+n.host+\":\"+n.port+\"/\"+n.resource+\"/\"+e.protocol+\"/\"+this.name+\"/\"+this.sessid+(t||\"\");return n.rewriteUrlForProxy(o)},n.prototype.ready=function(t,e){e.call(this);},n.prototype.clearEventHandlers=function(){return this};}(void 0!==o?o:n.exports,void 0!==o?o:n.parent.exports),function(t,e,n){function o(t){if(this.options={port:80,secure:!1,document:\"document\"in n&&document,resource:\"socket.io\",transports:e.transports.slice(),\"connect timeout\":1e4,\"try multiple transports\":!0,reconnect:!0,\"reconnection delay\":500,\"reconnection limit\":1/0,\"reopen delay\":3e3,\"max reconnection attempts\":10,\"sync disconnect on unload\":!0,\"auto connect\":!0,\"flash policy port\":10843},e.util.merge(this.options,t),this.connected=!1,this.open=!1,this.connecting=!1,this.reconnecting=!1,this.namespaces={},this.buffer=[],this.doBuffer=!1,this.disconnected=!1,this.options[\"sync disconnect on unload\"]&&(!this.isXDomain()||e.util.ua.hasCORS)){var o=this;e.util.on(n,\"unload\",function(){o.disconnectSync();},!1);}this.options[\"auto connect\"]&&this.connect();}function i(){}t.Socket=o,e.util.mixin(o,e.EventEmitter),o.prototype.of=function(t){return this.namespaces[t]||(this.namespaces[t]=new e.SocketNamespace(this,t),\"\"!==t&&this.namespaces[t].packet({type:\"connect\"})),this.namespaces[t]},o.prototype.publish=function(){this.emit.apply(this,arguments);var t;for(var e in this.namespaces)this.namespaces.hasOwnProperty(e)&&(t=this.of(e),t.$emit.apply(t,arguments));},o.prototype.handshake=function(t){function n(e){e instanceof Error?o.onError(e.message):t.apply(null,e.split(\":\"));}var o=this,r=this.options;if(!o.disconnected){var s=r.rewriteUrlForProxy([\"http\"+(r.secure?\"s\":\"\")+\":/\",r.host+\":\"+r.port,r.resource,e.protocol,e.util.query(this.options.query,\"t=\"+ +new Date)].join(\"/\"));if(this.isXDomain()&&!e.util.ua.hasCORS){var c=document.getElementsByTagName(\"script\")[0],a=document.createElement(\"script\");a.src=s+\"&jsonp=\"+e.j.length,c.parentNode.insertBefore(a,c),e.j.push(function(t){n(t),a.parentNode.removeChild(a);});}else {var u=e.util.request();u.open(\"GET\",s,!0);var h=this.options.requestHeaders;void 0!==h&&Object.keys(h).forEach(function(t){u.setRequestHeader(t,h[t]);}),u.onreadystatechange=function(){4==u.readyState&&(u.onreadystatechange=i,200==u.status?n(u.responseText):!o.reconnecting&&o.onError(u.responseText));},u.send(null);}}},o.prototype.getTransport=function(t){for(var n,o=t||this.transports,i=0;n=o[i];i++)if(e.Transport[n]&&e.Transport[n].check(this)&&(!this.isXDomain()||e.Transport[n].xdomainCheck()))return new e.Transport[n](this,this.sessionid);return null},o.prototype.connect=function(t){if(this.connecting||this.disconnected)return this;var n=this,o=function(o,i,r,s){function c(){if(!n.connected&&!n.disconnected)if(n.connecting=!1,clearTimeout(n.connectTimeoutTimer),n.options[\"try multiple transports\"]){for(;n.remainingTransports.length>0&&n.remainingTransports.splice(0,1)[0]!=n.transport.name;);n.remainingTransports.length?a(n.remainingTransports):n.publish(\"connect_failed\");}else n.publish(\"connect_failed\");}function a(t){if(n.transport&&(n.transport.clearTimeouts(),n.transport.clearEventHandlers()),n.transport=n.getTransport(t),!n.transport||n.disconnected)return n.publish(\"connect_failed\");n.transport.ready(n,function(){n.connecting=!0,n.publish(\"connecting\",n.transport.name),n.transport.open(c),n.options[\"connect timeout\"]&&(n.connectTimeoutTimer=setTimeout(function(){c();},n.options[\"connect timeout\"]));});}n.sessionid=o,n.closeTimeout=1e3*r+2e3,n.heartbeatTimeout=1e3*i+2e3,n.transports=s?e.util.intersect(s.split(\",\"),n.options.transports):n.options.transports,n.setHeartbeatTimeout(),n.remainingTransports=n.transports.slice(0),a(n.transports),n.once(\"connect\",function(){clearTimeout(n.connectTimeoutTimer),t&&\"function\"==typeof t&&t();});};if(this.options[\"skipped handshake data\"]){var i=this.options[\"skipped handshake data\"];o(\"v4c-\"+(new Date).getTime(),i.timeout,i.timeout,\"websocket\");}else this.handshake(o);return this},o.prototype.setHeartbeatTimeout=function(){clearTimeout(this.heartbeatTimeoutTimer);var t=this;this.heartbeatTimeoutTimer=setTimeout(function(){t.transport.onClose();},this.heartbeatTimeout);},o.prototype.packet=function(t){return this.connected&&!this.doBuffer?this.transport.packet(t):this.buffer.push(t),this},o.prototype.setBuffer=function(t){this.doBuffer=t,!t&&this.connected&&this.buffer.length&&(this.transport.payload(this.buffer),this.buffer=[]);},o.prototype.disconnect=function(){return (this.connected||this.connecting)&&(this.open&&this.of(\"\").packet({type:\"disconnect\"}),this.onDisconnect(\"booted\")),this.disconnected=!0,this},o.prototype.disconnectSync=function(){var t=e.util.request(),n=this.resource+\"/\"+e.protocol+\"/\"+this.sessionid;t.open(\"GET\",n,!0),this.onDisconnect(\"booted\");},o.prototype.isXDomain=function(){var t=n.location.port||(\"https:\"==n.location.protocol?443:80);return this.options.host!==n.location.hostname||this.options.port!=t},o.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit(\"connect\"));},o.prototype.onOpen=function(){this.open=!0;},o.prototype.onClose=function(){this.open=!1,clearTimeout(this.heartbeatTimeoutTimer);},o.prototype.onPacket=function(t){this.of(t.endpoint).onPacket(t);},o.prototype.onError=function(t){t&&t.advice&&\"reconnect\"===t.advice&&(this.connected||this.connecting)&&(this.disconnect(),this.options.reconnect&&this.reconnect()),this.publish(\"error\",t&&t.reason?t.reason:t);},o.prototype.onDisconnect=function(t){var e=this.connected,n=this.connecting;this.connected=!1,this.connecting=!1,this.open=!1,(e||n)&&(this.transport.close(),this.transport.clearTimeouts(),e?(this.publish(\"disconnect\",t),\"booted\"!=t&&this.options.reconnect&&!this.reconnecting&&this.reconnect()):this.publish(\"close_during_connecting\",t));},o.prototype.reconnect=function(){function t(){if(n.connected){for(var t in n.namespaces)n.namespaces.hasOwnProperty(t)&&\"\"!==t&&n.namespaces[t].packet({type:\"connect\"});n.publish(\"reconnect\",n.transport.name,n.reconnectionAttempts);}clearTimeout(n.reconnectionTimer),n.removeListener(\"connect_failed\",e),n.removeListener(\"connect\",e),n.reconnecting=!1,delete n.reconnectionAttempts,delete n.reconnectionDelay,delete n.reconnectionTimer,delete n.redoTransports,n.options[\"try multiple transports\"]=i;}function e(){if(n.reconnecting)return n.connected?t():n.connecting&&n.reconnecting?n.reconnectionTimer=setTimeout(e,1e3):void(n.reconnectionAttempts++>=o?n.redoTransports?(n.publish(\"reconnect_failed\"),t()):(n.on(\"connect_failed\",e),n.options[\"try multiple transports\"]=!0,n.transport=n.getTransport(),n.redoTransports=!0,n.connect()):(n.reconnectionDelay<r&&(n.reconnectionDelay*=2),n.connect(),n.publish(\"reconnecting\",n.reconnectionDelay,n.reconnectionAttempts),n.reconnectionTimer=setTimeout(e,n.reconnectionDelay)))}this.reconnecting=!0,this.reconnectionAttempts=0,this.reconnectionDelay=this.options[\"reconnection delay\"];var n=this,o=this.options[\"max reconnection attempts\"],i=this.options[\"try multiple transports\"],r=this.options[\"reconnection limit\"];this.options[\"try multiple transports\"]=!1,this.reconnectionTimer=setTimeout(e,this.reconnectionDelay),this.on(\"connect\",e);};}(void 0!==o?o:n.exports,void 0!==o?o:n.parent.exports,void 0===t?window:t),function(t,e){function n(t,e){this.socket=t,this.name=e||\"\",this.flags={},this.json=new o(this,\"json\"),this.ackPackets=0,this.acks={};}function o(t,e){this.namespace=t,this.name=e;}t.SocketNamespace=n,e.util.mixin(n,e.EventEmitter),n.prototype.$emit=e.EventEmitter.prototype.emit,n.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)},n.prototype.packet=function(t){return t.endpoint=this.name,this.socket.packet(t),this.flags={},this},n.prototype.send=function(t,e){var n={type:this.flags.json?\"json\":\"message\",data:t};return \"function\"==typeof e&&(n.id=++this.ackPackets,n.ack=!0,this.acks[n.id]=e),this.packet(n)},n.prototype.emit=function(t){var e=Array.prototype.slice.call(arguments,1),n=e[e.length-1],o={type:\"event\",name:t};return \"function\"==typeof n&&(o.id=++this.ackPackets,o.ack=\"data\",this.acks[o.id]=n,e=e.slice(0,e.length-1)),o.args=e,this.packet(o)},n.prototype.disconnect=function(){return \"\"===this.name?this.socket.disconnect():(this.packet({type:\"disconnect\"}),this.$emit(\"disconnect\")),this},n.prototype.onPacket=function(t){function n(){o.packet({type:\"ack\",args:e.util.toArray(arguments),ackId:t.id});}var o=this;switch(t.type){case\"connect\":this.$emit(\"connect\");break;case\"disconnect\":\"\"===this.name?this.socket.onDisconnect(t.reason||\"booted\"):this.$emit(\"disconnect\",t.reason||\"\");break;case\"message\":case\"json\":var i=[\"message\",t.data];\"data\"==t.ack?i.push(n):t.ack&&this.packet({type:\"ack\",ackId:t.id}),this.$emit.apply(this,i);break;case\"event\":var i=[t.name].concat(t.args);\"data\"==t.ack&&i.push(n),this.$emit.apply(this,i);break;case\"ack\":this.acks[t.ackId]&&(this.acks[t.ackId].apply(this,t.args),delete this.acks[t.ackId]);break;case\"error\":t.advice?this.socket.onError(t):\"unauthorized\"==t.reason?this.$emit(\"connect_failed\",t.reason):this.$emit(\"error\",t.reason);}},o.prototype.send=function(){this.namespace.flags[this.name]=!0,this.namespace.send.apply(this.namespace,arguments);},o.prototype.emit=function(){this.namespace.flags[this.name]=!0,this.namespace.emit.apply(this.namespace,arguments);};}(void 0!==o?o:n.exports,void 0!==o?o:n.parent.exports),function(t,e,n){function o(t){e.Transport.apply(this,arguments);}function i(){}t.websocket=o,e.util.inherit(o,e.Transport),o.prototype.name=\"websocket\",o.prototype.open=function(t){var o,i=e.util.query(this.socket.options.query),r=this;return this.connectErrorCallback=t,o||(o=n.MozWebSocket||n.WebSocket),this.websocket=new o(this.prepareUrl(i)),this.websocket.onopen=function(){r.onOpen(),r.socket.setBuffer(!1);},this.websocket.onmessage=function(t){r.onData(t.data);},this.websocket.onclose=function(){r.onClose(),r.socket.setBuffer(!0);},this.websocket.onerror=function(t){r.onError(t);},this},o.prototype.send=function(t){return this.websocket.send(t),this},o.prototype.payload=function(t){for(var e=0,n=t.length;e<n;e++)this.packet(t[e]);return this},o.prototype.close=function(){return this.websocket.close(),this},o.prototype.onError=function(t){void 0!==this.connectErrorCallback&&(this.connectErrorCallback(),this.connectErrorCallback=void 0),this.socket.onError(t);},o.prototype.scheme=function(){return this.socket.options.secure?\"wss\":\"ws\"},o.check=function(){return \"WebSocket\"in n&&!(\"__addTask\"in WebSocket)||\"MozWebSocket\"in n},o.xdomainCheck=function(){return !0},o.prototype.clearEventHandlers=function(){return this.websocket&&(this.websocket.onopen=this.websocket.onmessage=this.websocket.onclose=this.websocket.onerror=i),this},e.transports.push(\"websocket\");}(void 0!==o?o.Transport:n.exports,void 0!==o?o:n.parent.exports,void 0===t?window:t),function(t,e,n){function o(t){t&&e.Transport.apply(this,arguments);}function i(){}t.XHR=o,e.util.inherit(o,e.Transport),o.prototype.open=function(){return this.socket.setBuffer(!1),this.onOpen(),this.get(),this.setCloseTimeout(),this},o.prototype.payload=function(t){for(var n=[],o=0,i=t.length;o<i;o++)n.push(e.parser.encodePacket(t[o]));this.send(e.parser.encodePayload(n));},o.prototype.send=function(t){return this.post(t),this},o.prototype.post=function(t){function e(){4==this.readyState&&(this.onreadystatechange=i,200==this.status?(clearTimeout(this.ackTimeoutTimer),r.socket.setBuffer(!1)):r.onClose());}function o(){this.onload=i,r.socket.setBuffer(!1);}var r=this;this.socket.setBuffer(!0),this.sendXHR=this.request(\"POST\"),n.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=o:this.sendXHR.onreadystatechange=e,this.sendXHR.send(t),r.sendXHR.ackTimeoutTimer=setTimeout(function(){r.onClose();},r.socket.options.ackTimeoutMs);},o.prototype.close=function(){return this.onClose(),this},o.prototype.request=function(t){var n=e.util.request(this.socket.isXDomain()),o=e.util.query(this.socket.options.query,\"t=\"+ +new Date);n.open(t||\"GET\",this.prepareUrl(o),!0);var i=this.socket.options.requestHeaders;if(void 0!==i&&Object.keys(i).forEach(function(t){n.setRequestHeader(t,i[t]);}),\"POST\"==t)try{n.setRequestHeader?n.setRequestHeader(\"Content-type\",\"text/plain;charset=UTF-8\"):n.contentType=\"text/plain\";}catch(t){}return n},o.prototype.scheme=function(){return this.socket.options.secure?\"https\":\"http\"},o.check=function(t,o){try{var i=e.util.request(o),r=n.XDomainRequest&&i instanceof XDomainRequest,s=t&&t.options&&t.options.secure?\"https:\":\"http:\",c=s!=n.location.protocol;if(i&&(!r||!c))return !0}catch(t){}return !1},o.xdomainCheck=function(){return o.check(null,!0)},o.prototype.clearEventHandlers=function(){return this.sendXHR&&(this.sendXHR.onreadystatechange=this.sendXHR.onload=i),this};}(void 0!==o?o.Transport:n.exports,void 0!==o?o:n.parent.exports,void 0===t?window:t),function(t,e,n){function o(){e.Transport.XHR.apply(this,arguments);}function i(){}t[\"xhr-polling\"]=o,e.util.inherit(o,e.Transport.XHR),e.util.merge(o,e.Transport.XHR),o.prototype.name=\"xhr-polling\",o.prototype.open=function(t){var n=this;return n.connectErrorCallback=t,e.Transport.XHR.prototype.open.call(n),!1},o.prototype.get=function(){function t(){4==this.readyState&&(this.onreadystatechange=i,200==this.status?(r.connectErrorCallback=void 0,r.onData(this.responseText),r.get()):(r.onClose(),void 0!==r.connectErrorCallback&&(r.connectErrorCallback(),r.connectErrorCallback=void 0)));}function e(){r.connectErrorCallback=void 0,this.onload=i,this.onerror=i,r.onData(this.responseText),r.get();}function o(){r.onClose(),void 0!==r.connectErrorCallback&&(r.connectErrorCallback(),r.connectErrorCallback=void 0);}if(this.isOpened){var r=this;this.xhr=this.request(),n.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=e,this.xhr.onerror=o):this.xhr.onreadystatechange=t,this.xhr.send(null);}},o.prototype.onClose=function(){if(e.Transport.XHR.prototype.onClose.call(this),this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=i;try{this.xhr.abort();}catch(t){}this.xhr=null;}},o.prototype.ready=function(t,n){var o=this;e.util.defer(function(){n.call(o);});},o.prototype.clearEventHandlers=function(){return e.Transport.XHR.prototype.clearEventHandlers.call(this),this.xhr&&(this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=i),this},e.transports.push(\"xhr-polling\");}(void 0!==o?o.Transport:n.exports,void 0!==o?o:n.parent.exports,void 0===t?window:t),e.io=o;}).call(e,n(13),n(14)(t));},function(t,e){var n;n=function(){return this}();try{n=n||Function(\"return this\")()||(0,eval)(\"this\");}catch(t){\"object\"==typeof window&&(n=window);}t.exports=n;},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,\"loaded\",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,\"id\",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t};},function(t,e,n){Object.defineProperty(e,\"__esModule\",{value:!0}),e.ConnectionTracker=e.Properties=e.TrackerStep=e.ClientEventName=e.ResponseData=void 0;var o=n(3),i=n(1),r=n(0),s=function(){function t(t){this.id=t,this.status=200,this.headers={},this.body=\"\";}return t}();e.ResponseData=s;var c;!function(t){t.Connected=\"trouter_js_client_connected\",t.Disconnected=\"trouter_js_client_disconnected\",t.Error=\"trouter_js_client_error\",t.Progress=\"trouter_js_client_progress\",t.Response=\"trouter_js_client_response\",t.Request=\"trouter_js_client_request\",t.CheckConnection=\"trouter_js_client_check_connection\",t.Registration=\"trouter_js_client_registration\",t.Unregistration=\"trouter_js_client_unregistration\";}(c||(e.ClientEventName=c={}));var a=function(){function t(t,e,n,o,i){this.stepName=t,this.operation=e,this.delta=n,this.ts=o,this.error=i;}return t}();e.TrackerStep=a;var u=function(){function t(){}return t}();e.Properties=u;var h=function(){function t(){this.numberOfPingReplies=0,this.connectedTimestamp=0,this.isNewUrl=!1,this.transportType=\"\",this.connectionNumber=0;}return t}(),d=function(){function t(){this.enabled=!1,this.numberOfStepsToMaintain=40,this.logHealthCheckError=!1,this.sendProgressTimeoutSecs=55,this.logSendPingError=!1,this.maxBackoffInMs=12e4,this.trouter_js_client_connected=!1,this.trouter_js_client_disconnected=!1,this.trouter_js_client_error=!1,this.trouter_js_client_progress=!1,this.trouter_js_client_response=!1,this.trouter_js_client_request=!1,this.trouter_js_client_registration=!1,this.trouter_js_client_unregistration=!1,this.trouter_js_client_check_connection=!0;}return t}(),l=function(){function t(t,e,n,i,s,c,a){this.clientId=e,this.clientInfo=n,this.getServerState=i,this.endpointId=s,this.clientCorrelationID=c,this.environment=a,this.logger=new r.Logger(\"ConnectionTracker\",t),this.clientCorrelationID=void 0!==c?c:\"\",this.steps=[],this.connectionAttempt=0,this.totalStepCount=0,this.beginTimestamp=new o.Timespan,this.eventLogSettings=new d,this.connectedInfo=new h;}return t.prototype.enable=function(t){this.eventLogSettings.enabled=!0,this.eventLogger=t;},t.prototype.disable=function(){this.eventLogSettings.enabled=!1;},t.prototype.sendProgress=function(t){this.steps.length>0&&this.sendTelemetry(c.Progress,t,this.steps);},t.prototype.cancelProgressTimer=function(){void 0!==this.progressTimeout&&(clearTimeout(this.progressTimeout),this.progressTimeout=void 0);},t.prototype.resetProgressSendTimer=function(){var t=this;this.cancelProgressTimer(),void 0!==this.eventLogSettings.sendProgressTimeoutSecs&&this.eventLogSettings.sendProgressTimeoutSecs>0&&(this.progressTimeout=setTimeout(function(){t.sendProgress({reason:\"timeout\",timeoutSecs:t.eventLogSettings.sendProgressTimeoutSecs});},1e3*this.eventLogSettings.sendProgressTimeoutSecs));},t.prototype.setConnectedInfo=function(t,e){this.connectedInfo.numberOfPingReplies=0,this.connectedInfo.connectedTimestamp=Date.now(),this.connectedInfo.isNewUrl=t,this.connectedInfo.transportType=e,++this.connectedInfo.connectionNumber;},t.prototype.clearConnectedInfo=function(){this.connectedInfo.numberOfPingReplies=0,this.connectedInfo.connectedTimestamp=0,this.connectedInfo.isNewUrl=!0,this.connectedInfo.transportType=\"\";},t.prototype.copyProperties=function(t,e){for(var n=0,o=Object.keys(e);n<o.length;n++){var i=o[n];void 0!==e[i]&&(t[i.replace(/-/g,\"_\")]={value:e[i]});}},t.prototype.increasePingResponseCount=function(){++this.connectedInfo.numberOfPingReplies;},t.prototype.sendTelemetry=function(t,e,n){try{if(!0===this.eventLogSettings.enabled&&!0===this.eventLogSettings[t]&&void 0!==this.eventLogger){var r=this.getServerState(),s={name:t,properties:{connectionAttempt:{value:this.connectionAttempt},epid:{value:this.endpointId},clientCorrelationID:{value:this.clientCorrelationID},steps:{value:(0,o.toJson)(n)},clientID:{value:this.clientId},eventVersion:{value:3},environment:{value:this.environment},cv:{value:i.CLIENT_VERSION},ua:{value:this.clientInfo.ua},connectionId:{value:r.connectionId},connectedClientId:{value:r.connectedClientId},domId:{value:r.domId},url:{value:r.unsecureUrl},surl:{value:r.url},ttlInSecs:{value:r.getRemainingTtlInSec()},numberOfPingReplies:{value:this.connectedInfo.numberOfPingReplies},connectedTimestamp:{value:this.connectedInfo.connectedTimestamp},isNewUrl:{value:this.connectedInfo.isNewUrl},transportType:{value:this.connectedInfo.transportType},connectionNumber:{value:this.connectedInfo.connectionNumber}}};this.copyProperties(s.properties,e),this.eventLogger.logEvent(s);}}catch(e){this.logger.warn(\"error in sending event \".concat(t,\": \").concat((0, o.toJson)(e)));}},t.prototype.createStep=function(t,e,n){return new a(t,e,this.beginTimestamp.duration,Date.now(),n)},t.prototype.addStep=function(t,e,n){if(!1!==this.eventLogSettings.enabled&&(0===this.steps.length&&this.beginTimestamp.reset(),this.steps.push(this.createStep(t,e,n)),++this.totalStepCount,void 0!==this.eventLogSettings.numberOfStepsToMaintain&&this.steps.length>this.eventLogSettings.numberOfStepsToMaintain)){var o=this.steps.slice(0);this.steps.length=0,this.sendTelemetry(c.Progress,{reason:\"flush\"},o);}},t.prototype.trackStart=function(t){this.addStep(t,\"start\");},t.prototype.trackEnd=function(t){this.addStep(t,\"end\");},t.prototype.trackError=function(t,e,n,o){void 0===n&&(n=!0),\"health\"===t&&!0!==this.eventLogSettings.logHealthCheckError||\"ping\"===t&&!1===this.eventLogSettings.logSendPingError||(void 0===o&&(o=\"error\"),!0===n&&this.addStep(t,o,e),this.sendTelemetry(c.Error,{},[this.createStep(t,o,e)]));},t.prototype.trackProgress=function(t,e){this.addStep(t,e);},t.prototype.trackConnected=function(t,e){this.setConnectedInfo(t,e);var n=this.steps.slice(0),o=this.totalStepCount,i=this.beginTimestamp.duration;this.steps.length=0,this.totalStepCount=0,this.sendTelemetry(c.Connected,{stepCount:n.length,totalStepCount:o,connectionEstablishmentMs_Total:i},n),this.cancelProgressTimer();},t.prototype.getSessionLength=function(){return Date.now()-this.connectedInfo.connectedTimestamp},t.prototype.trackDisconnected=function(t){t.sessionLengthMS=this.getSessionLength(),this.sendTelemetry(c.Disconnected,t,[]),this.resetProgressSendTimer();},t.prototype.trackNewConnection=function(){++this.connectionAttempt;},t.prototype.trackRequest=function(t,e){var n={};void 0!==e&&(n.hasError=!0,n.error=e);try{if(t){n.requestID=t.id,n.httpMethod=t.method,n.url=t.url,n.bodyLength=t.body.length,n.shortUrl=t.shortUrl,n.requestTimeStamp=t.startTS,n.correlationVector=t.correlationVector;for(var i=t.headers,r=0,s=Object.keys(i);r<s.length;r++){var a=s[r];n[a]=i[a];}}}catch(t){n.hasError=!0,n.error=\"\".concat(n.error,\" error creating request context \").concat((0, o.toJson)(t));}this.sendTelemetry(c.Request,n,[]);},t.prototype.trackResponse=function(t,e,n,i){var r={};void 0!==i&&(r.hasError=!0,r.error=i);try{if(r.responseTimestamp=void 0!==n?n.sentTS:Date.now(),t){r.requestID=t.id,r.httpMethod=t.method,r.shortUrl=t.shortUrl,r.correlationVector=t.correlationVector;for(var s=t.headers,a=0,u=Object.keys(s);a<u.length;a++){var h=u[a];r[h]=s[h];}}n&&(r.latencyMS=e,r.responseCode=n.status,r.responseLength=n.body.length);}catch(t){r.hasError=!0,r.error=\"\".concat(r.error,\" error creating response context \").concat((0, o.toJson)(t));}this.sendTelemetry(c.Response,r,[]);},t.prototype.sendResponseError=function(t,e,n){this.trackResponse(e,void 0,n,t);},t.prototype.close=function(){this.sendProgress({reason:\"closed\"}),this.steps.length=0,this.cancelProgressTimer();},t.prototype.mergeSettings=function(t){if(t){this.eventLogSettings.numberOfStepsToMaintain=Math.min(40,Math.max(10,void 0!==t.numberOfStepsToMaintain?t.numberOfStepsToMaintain:0));var e=Math.min(3600,Math.max(55,void 0!==t.sendProgressTimeoutSecs?t.sendProgressTimeoutSecs:0));this.eventLogSettings.logHealthCheckError=t.logHealthCheckError,this.eventLogSettings.logSendPingError=t.logSendPingError;for(var n=0,o=Object.keys(c).map(function(t){return c[t]});n<o.length;n++){var i=o[n];void 0!==t[i]&&(this.eventLogSettings[i]=t[i]);}this.eventLogSettings.sendProgressTimeoutSecs!==e&&(this.eventLogSettings.sendProgressTimeoutSecs=e,this.resetProgressSendTimer());}},t}();e.ConnectionTracker=l;},function(t,e,n){Object.defineProperty(e,\"__esModule\",{value:!0}),e.DisconnectReason=void 0;var o=function(){function t(t,e,n){this.reason=t,this.claims=e,this.details=n;}return t.fromRawReason=function(e,n){if(\"\"===e||\"dup\"===e)return new t(e);try{var o=JSON.parse(e);return \"object\"!=typeof o||void 0===o.reason?(null===n||void 0===n||n.error(\"invalid disconnect reason format\"),new t(\"unknown\",void 0,e)):new t(o.reason,o.claims,o.details)}catch(n){return new t(\"disconnect\",void 0,e)}},t.fromSocketIoEventData=function(e,n){return \"string\"==typeof n?new t(e,void 0,n):void 0},t.prototype.toTelemetryString=function(){return \"socketerror\"===this.reason||\"reconnecterror\"===this.reason||\"disconnect\"===this.reason?this.details:this.reason},t}();e.DisconnectReason=o;},function(t,e,n){function o(t,e,n){if(void 0===t||void 0===e)return !1;var o=Date.now()-t;return o>e*n.tolerance&&o>n.minimumWaitMs}Object.defineProperty(e,\"__esModule\",{value:!0}),e.ExponentialBackoff=void 0;var i=function(){function t(t,e,n){void 0===n&&(n={tolerance:2,minimumWaitMs:1e4}),this.logger=t,this.maxBackoffInMs=e,this.gapDetectionSettings=n,this.backoffId=0,this.backoffCount=0;}return t.calculateNextBackoffMs=function(t,e){var n=1+.4*(Math.random()-.5),o=1e3*Math.pow(2,t)*n;return o=Math.round(o),Math.min(e,o)},t.prototype.setMaxBackoffMs=function(t){this.maxBackoffInMs=t;},t.prototype.backoff=function(e,n){var i=this;if(void 0!==this.timerHandle&&(this.logger.debug(\"Clearing current back off\"),clearTimeout(this.timerHandle),this.timerHandle=void 0),void 0!==this.previousCompleteTime){var r=Date.now()-this.previousCompleteTime;r>this.maxBackoffInMs*this.gapDetectionSettings.tolerance&&r>this.gapDetectionSettings.minimumWaitMs&&(this.logger.info(\"Back off for \".concat(e,\" with ID \").concat(this.backoffId,\" will be reset due to a lot of time having passed since the previous backoff (\").concat(r,\" ms)\")),this.backoffCount=0,this.previousCompleteTime=void 0);}var s=t.calculateNextBackoffMs(this.backoffCount,this.maxBackoffInMs);this.backoffId++,this.backoffCount++,this.logger.info(\"Backing off \".concat(e,\" for \").concat(s,\" milliseconds with ID \").concat(this.backoffId)),this.callback=function(t,r){o(t,r,i.gapDetectionSettings)&&(i.logger.info(\"Back off for \".concat(e,\" with ID \").concat(i.backoffId,\" will be reset due to the wait (\").concat(Date.now()-(null!==t&&void 0!==t?t:0),\" ms) being longer than expected (\").concat(r,\" ms)\")),i.backoffCount=0),i.logger.info(\"Back off for \".concat(e,\" with ID \").concat(i.backoffId,\" complete, invoking handler\")),i.timerHandle=void 0,i.callback=void 0,i.previousCompleteTime=Date.now(),n();};var c=Date.now();this.timerHandle=setTimeout(function(){var t;return null===(t=i.callback)||void 0===t?void 0:t.call(i,c,s)},s);},t.prototype.reset=function(){void 0!==this.timerHandle&&(this.logger.debug(\"Resetting back off with ID \".concat(this.backoffId)),clearTimeout(this.timerHandle),this.timerHandle=void 0,this.callback=void 0),this.backoffCount=0;},t.prototype.expediteIfPending=function(){if(this.backoffCount=0,void 0!==this.timerHandle){this.logger.debug(\"Expediting back off with ID \".concat(this.backoffId)),clearTimeout(this.timerHandle),this.timerHandle=void 0;var t=this.callback;this.callback=void 0,t&&t();}},t}();e.ExponentialBackoff=i;},function(t,e,n){var o=this&&this.__spreadArray||function(t,e,n){if(n||2===arguments.length)for(var o,i=0,r=e.length;i<r;i++)!o&&i in e||(o||(o=Array.prototype.slice.call(e,0,i)),o[i]=e[i]);return t.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(e,\"__esModule\",{value:!0}),e.LoggingManagerConsumer=e.RegistrationEnforcer=void 0;var i=n(6),r=function(){function t(t,e,n){this.wrapped=t,this.shouldConnectionDependOnRegistration=e,this.shouldHoldBackEvents=n,this.isRegistered=!1,this.heldBackEvents=[];}return t.prototype.onDownstreamRequest=function(t,e,n){this.passIfRegisteredOrNotNeeded(\"onDownstreamRequest\",t,e,n);},t.prototype.onConnected=function(t){this.passIfRegisteredOrNotNeeded(\"onConnected\",t);},t.prototype.onRegistered=function(t){this.isRegistered=!0,this.wrapped.onRegistered(t),this.fireHeldBackEvents();},t.prototype.onUnregistered=function(t){this.isRegistered=!1,this.wrapped.onUnregistered(t),t.getState()===i.State.Connected&&this.shouldConnectionDependOnRegistration()&&t.forceReconnectDueToNoRegistration();},t.prototype.onReconnecting=function(t){this.wrapped.onReconnecting(t);},t.prototype.onReconnectIsRequired=function(t,e,n){this.wrapped.onReconnectIsRequired(t,e,n);},t.prototype.onDisconnected=function(t){this.isRegistered=!1,this.dropHeldBackEvents(),this.wrapped.onDisconnected(t);},t.prototype.onTerminalError=function(t){this.wrapped.onTerminalError(t);},t.prototype.onConnectionParametersUpdated=function(t){this.wrapped.onConnectionParametersUpdated(t);},t.prototype.onTrouterMessageLost=function(t){this.passIfRegisteredOrNotNeeded(\"onTrouterMessageLost\",t);},t.prototype.onUserActivityStateAccepted=function(t){this.passIfRegisteredOrNotNeeded(\"onUserActivityStateAccepted\",t);},t.prototype.onAudiencesSetResolved=function(t,e){this.passIfRegisteredOrNotNeeded(\"onAudiencesSetResolved\",t,e);},t.prototype.getState=function(){return this.wrapped.getState()},t.prototype.holdBackEvent=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.heldBackEvents.push({kind:t,args:e});},t.prototype.passIfRegisteredOrNotNeeded=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=this.shouldConnectionDependOnRegistration(),s=this.shouldHoldBackEvents();r&&s||this.fireHeldBackEvents(r?function(t){return \"onConnected\"!==t.kind}:void 0),this.isRegistered||!r||!1===s&&\"onConnected\"!==t?(e=this.wrapped)[t].apply(e,n):this.holdBackEvent.apply(this,o([t],n,!1));},t.prototype.fireHeldBackEvents=function(t){for(var e,n=0,o=this.heldBackEvents;n<o.length;n++){var i=o[n];(void 0===t||t(i))&&(e=this.wrapped)[i.kind].apply(e,i.args);}this.heldBackEvents=void 0===t?[]:this.heldBackEvents.filter(function(e){return !t(e)});},t.prototype.dropHeldBackEvents=function(){this.heldBackEvents=[];},t}();e.RegistrationEnforcer=r;var s=function(){function t(t,e,n,o){this.wrapped=t,this.prefix=e,this.logger=n,this.onEventAction=o;}return t.prototype.onEvent=function(t,e){var n;void 0!==this.onEventAction?this.onEventAction(t,e):(null!==(n=this.logger)&&void 0!==n?n:console).log(\"\".concat(this.prefix,\" TracingEnforcer: \").concat(t,\"(\").concat(e,\")\"));},t.prototype.onDownstreamRequest=function(t,e,n){this.onEvent(\"onDownstreamRequest\",JSON.stringify({request:e,response:n})),this.wrapped.onDownstreamRequest(t,e,n);},t.prototype.onConnected=function(t){this.onEvent(\"onConnected\",t.getState().toString()),this.wrapped.onConnected(t);},t.prototype.onRegistered=function(t){this.onEvent(\"onRegistered\",t.getState().toString()),this.wrapped.onRegistered(t);},t.prototype.onUnregistered=function(t){this.onEvent(\"onUnregistered\",t.getState().toString()),this.wrapped.onUnregistered(t);},t.prototype.onReconnecting=function(t){this.onEvent(\"onReconnecting\",t.getState().toString()),this.wrapped.onReconnecting(t);},t.prototype.onReconnectIsRequired=function(t,e,n){this.onEvent(\"onReconnectIsRequired\",JSON.stringify({connection:t.getState().toString(),useConnectParamsFromCache:e,reason:n})),this.wrapped.onReconnectIsRequired(t,e,n);},t.prototype.onDisconnected=function(t){this.onEvent(\"onDisconnected\",t.getState().toString()),this.wrapped.onDisconnected(t);},t.prototype.onTerminalError=function(t){this.onEvent(\"onTerminalError\",JSON.stringify({connection:t})),this.wrapped.onTerminalError(t);},t.prototype.onConnectionParametersUpdated=function(t){this.onEvent(\"onConnectionParametersUpdated\",JSON.stringify({connectParams:t})),this.wrapped.onConnectionParametersUpdated(t);},t.prototype.onTrouterMessageLost=function(t){this.onEvent(\"onTrouterMessageLost\",JSON.stringify({flowTags:t})),this.wrapped.onTrouterMessageLost(t);},t.prototype.onUserActivityStateAccepted=function(t){this.onEvent(\"onUserActivityStateAccepted\",JSON.stringify({cv:t})),this.wrapped.onUserActivityStateAccepted(t);},t.prototype.onAudiencesSetResolved=function(t,e){this.onEvent(\"onAudiencesSetResolved\",JSON.stringify({audienceSubscriptionsResponse:t,cv:e})),this.wrapped.onAudiencesSetResolved(t,e);},t.prototype.getState=function(){return this.wrapped.getState()},t}();e.LoggingManagerConsumer=s;},function(t,e,n){Object.defineProperty(e,\"__esModule\",{value:!0}),e.TrouterManagerFsm=void 0;var o=n(2),i=n(4),r=n(0),s=n(7),c=function(){function t(t,e){this.worker=e,this.state=i.TrouterManagerState.Unknown,this.logger=new r.Logger(\"ManagerFsm\",t);}return t.prototype.start=function(){this.state===i.TrouterManagerState.Unknown?(this.setState(i.TrouterManagerState.Disconnected),this.worker.forceStopLingeringConnection(),this.worker.startFirstConnection()):(this.logger.info(\"start called in state '\".concat(i.TrouterManagerState[this.state],\"', expediting pending backoffs, if any\")),this.worker.expediteBackoffOnConnections());},t.prototype.stop=function(t){this.state!==i.TrouterManagerState.Unknown?(this.setState(i.TrouterManagerState.Unknown),this.worker.stopFirstConnection(!0===t),this.worker.stopSecondConnection(!0===t)):this.showIgnored(\"stop\");},t.prototype.getState=function(){switch(this.state){case i.TrouterManagerState.Unknown:case i.TrouterManagerState.Connected:case i.TrouterManagerState.Disconnected:case i.TrouterManagerState.Switching:return this.state;case i.TrouterManagerState.TerminalError:return o.TrouterState.Disconnected}},t.prototype.getInternalState=function(){return this.state},t.prototype.onConnected=function(t){this.state===i.TrouterManagerState.Disconnected&&t?this.worker.doesSecondConnectionExist()?this.setState(i.TrouterManagerState.Switching):(this.setState(i.TrouterManagerState.Connected),this.worker.dispatchConnected()):this.showIgnored(\"onConnected(\".concat(t,\")\"));},t.prototype.onRegistered=function(t){this.state!==i.TrouterManagerState.Disconnected||t?this.state!==i.TrouterManagerState.Switching||t?this.state===i.TrouterManagerState.Disconnected&&t&&(this.setState(i.TrouterManagerState.Connected),this.worker.dispatchConnected()):(this.setState(i.TrouterManagerState.Connected),this.worker.switchConnections(),this.worker.stopSecondConnectionDelayed(),this.worker.dispatchConnected()):(this.setState(i.TrouterManagerState.Connected),this.worker.switchConnections(),this.worker.stopSecondConnection(!0),this.worker.dispatchConnected()),this.worker.dispatchRegistrationState(!0);},t.prototype.onUnregistered=function(t){t&&this.worker.dispatchRegistrationState(!1);},t.prototype.onReconnecting=function(t){this.state!==i.TrouterManagerState.Connected&&this.state!==i.TrouterManagerState.Switching||!t?this.showIgnored(\"onReconnecting(\".concat(t,\")\")):(this.setState(i.TrouterManagerState.Disconnected),this.worker.dispatchDisconnected());},t.prototype.onReconnectionRequired=function(t,e,n){this.state===i.TrouterManagerState.Connected&&t?(this.setState(i.TrouterManagerState.Switching),this.worker.startSecondConnection(e)):this.state===i.TrouterManagerState.Disconnected&&t?this.worker.startSecondConnection(e):this.state===i.TrouterManagerState.Switching&&t&&n===s.ReconnectReason.Configuration?(this.logger.debug(\"onReconnectionRequired: switch requested while already in Switching state\"),this.worker.stopSecondConnection(!0),this.worker.startSecondConnection(e)):this.showIgnored(\"onReconnectionRequired(\".concat(t,\")\"));},t.prototype.onDisconnected=function(t){this.state==i.TrouterManagerState.Unknown&&t?this.worker.dispatchDisconnected():this.state==i.TrouterManagerState.Switching&&t?(this.worker.switchConnections(),this.worker.stopSecondConnection(!1),this.setState(i.TrouterManagerState.Disconnected),this.worker.dispatchDisconnected()):this.showIgnored(\"onDisconnected(\".concat(t,\")\"));},t.prototype.onTerminalError=function(){this.setState(i.TrouterManagerState.TerminalError),this.worker.dispatchTerminalError();},t.prototype.showIgnored=function(t){this.logger.info(\"Ignoring event '\".concat(t,\"' in state '\").concat(i.TrouterManagerState[this.state],\"'\"));},t.prototype.setState=function(t){if(this.logger.info(\"Switching from state '\".concat(i.TrouterManagerState[this.state],\"' to state '\").concat(i.TrouterManagerState[t],\"'\")),this.state===t)return void this.logger.error(\"Attempt to switch to the current state '\".concat(i.TrouterManagerState[t],\"'\"));this.state=t;},t}();e.TrouterManagerFsm=c;},function(t,e,n){function o(t,e){if(!e)return t;var n=h(h({},t),{enabled:e.TelemetryEnabled});return void 0!==e.ClientTelemetryEventEnabled&&(n=h(h({},n),e.ClientTelemetryEventEnabled)),n}function i(t,e,n){var i,r,s,c,a,u,d,l,p,g,f=function(n){return t.proxyUrlRewrite?(e.info(\"Using rewritten URL for proxy\"),t.proxyUrlRewrite(n)):n};return {clientInfo:{ua:t.trouterSettings.productName,v:t.trouterSettings.version},ioOptions:{ackTimeoutMs:5e3,rewriteUrlForProxy:f},clientCorrelationID:t.trouterSettings.sessionId,environment:t.trouterSettings.environment,telemetrySettings:o(t.telemetryConfig.settings,n),eventLogger:t.telemetryConfig.eventLogger,endpointId:t.trouterSettings.registrationId,trouterUrl:(null===n||void 0===n?void 0:n.TrouterConnectionUrl)||t.trouterSettings.trouterServiceUrl,registration:t.trouterSettings.registrarServiceUrl?{registrarUrl:t.trouterSettings.registrarServiceUrl,registrationId:null!==(i=t.trouterSettings.registrationId)&&void 0!==i?i:\"\",pnhAppId:null!==(r=t.trouterSettings.pnhAppId)&&void 0!==r?r:\"\",platform:null!==(s=t.trouterSettings.platform)&&void 0!==s?s:\"\",pnhTemplateKey:null!==(c=t.trouterSettings.pnhTemplate)&&void 0!==c?c:\"\",platformUIVersion:null!==(a=t.trouterSettings.platformUIVersion)&&void 0!==a?a:\"\",productContext:t.trouterSettings.pnhProductContext||void 0,context:null!==(u=t.trouterSettings.pnhContext)&&void 0!==u?u:\"\",registrarTtlSec:(null!==(d=t.trouterSettings.maxRegistrationTimeInMs)&&void 0!==d?d:0)/1e3}:void 0,connectionDependsOnRegistration:void 0===t.trouterSettings.registrarServiceUrl?function(){return !1}:null!==(l=t.trouterSettings.connectionDependsOnRegistration)&&void 0!==l?l:function(){return !1},delayEventsUntilRegistered:null!==(p=t.trouterSettings.delayEventsUntilRegistered)&&void 0!==p?p:function(){return !1},timeoutOptions:h({connectionTimeoutMs:t.trouterSettings.trouterConnectTimeoutInMs||3e4,fetchTimeoutMs:1e4,pingTimeoutMs:4e4,pongTimeoutMs:5e3,maxBackoffMs:\"TeamsCDL\"===t.trouterSettings.productName?3e5:3e4,requestTimeoutMs:5e3,userActivityResponseTimeoutMs:1e4},t.trouterSettings.timeoutOptions),incallTimeoutOptions:h({connectionTimeoutMs:1e4,fetchTimeoutMs:5e3,pingTimeoutMs:5e3,pongTimeoutMs:2e3,maxBackoffMs:\"TeamsCDL\"===t.trouterSettings.productName?3e5:1e4,requestTimeoutMs:5e3,userActivityResponseTimeoutMs:1e4},t.trouterSettings.incallTimeoutOptions),incallModeTimeoutMs:null!==(g=t.trouterSettings.incallModeTimeoutMs)&&void 0!==g?g:0,lingeringConnectionDelayMs:6e4,userActivitySecondResendDelayMs:t.trouterSettings.userActivitySecondResendDelayMs||1e4,duplicateDisconnectThresholdMs:1e4,connectionCache:t.connectionCache,registrationStateCallback:t.registrationStateCallbackForAcsDoNotUse,rewriteUrlForProxy:f,retryLimitOnTokenFetch:t.trouterSettings.retryLimitOnTokenFetch,extraConnectionHeaders:t.trouterSettings.extraConnectionHeaders,expediteBackoffOnStartMinimumDelayMs:1e4,toJSON:function(){return h(h({},this),{connectionCache:this.connectionCache?{}:this.connectionCache})}}}function r(t){return new S(t)}function s(){return p.CLIENT_VERSION}function c(t,e){var n=t.indexOf(\"://\");if(n>=0){var o=t.indexOf(\"/\",n+3);if(o>=0)return e+t.substr(o)}return \"\"}function a(t){var e=this;return function(n){return d(e,void 0,void 0,function(){var e;return l(this,function(o){switch(o.label){case 0:return e={},[4,t(n.needFresh)];case 1:return [2,(e.token=o.sent(),e.tokenType=\"skype\",e)]}})})}}function u(t,e){var n,o=this;return function(i){return d(o,void 0,void 0,function(){var o,r,s;return l(this,function(c){switch(c.label){case 0:o=new Date,r=setInterval(function(){var e=Math.round((Date.now()-o.getTime())/6e4);t.warn(\"Note: Trouter auth token request promise from \".concat(o.toISOString(),\" has not been resolved for \").concat(e,\" minutes. The client is blocked from operating properly\"));},3e5),c.label=1;case 1:return c.trys.push([1,,3,4]),[4,e(i)];case 2:return s=c.sent(),i.needFresh&&s.token===n&&t.error(\"API violation: Trouter auth token provider got a request with needRefresh=true, but returned the same token as last time anyway. Please fix the host app\"),n=s.token,[2,s];case 3:return clearInterval(r),[7];case 4:return [2]}})})}}var h=this&&this.__assign||function(){return h=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);}return t},h.apply(this,arguments)},d=this&&this.__awaiter||function(t,e,n,o){function i(t){return t instanceof n?t:new n(function(e){e(t);})}return new(n||(n=Promise))(function(n,r){function s(t){try{a(o.next(t));}catch(t){r(t);}}function c(t){try{a(o.throw(t));}catch(t){r(t);}}function a(t){t.done?n(t.value):i(t.value).then(s,c);}a((o=o.apply(t,e||[])).next());})},l=this&&this.__generator||function(t,e){function n(t){return function(e){return o([t,e])}}function o(n){if(i)throw new TypeError(\"Generator is already executing.\");for(;c&&(c=0,n[0]&&(a=0)),a;)try{if(i=1,r&&(s=2&n[0]?r.return:n[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,n[1])).done)return s;switch(r=0,s&&(n=[2&n[0],s.value]),n[0]){case 0:case 1:s=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,r=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(s=a.trys,!(s=s.length>0&&s[s.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!s||n[1]>s[0]&&n[1]<s[3])){a.label=n[1];break}if(6===n[0]&&a.label<s[1]){a.label=s[1],s=n;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(n);break}s[2]&&a.ops.pop(),a.trys.pop();continue}n=e.call(t,a);}catch(t){n=[6,t],r=0;}finally{i=s=0;}if(5&n[0])throw n[1];return {value:n[0]?n[1]:void 0,done:!0}}var i,r,s,c,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:n(0),throw:n(1),return:n(2)},\"function\"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(e,\"__esModule\",{value:!0}),e.replaceTrouterUrlBase=e.getTrouterServiceVersion=e.createTrouterService=e.TrouterService=e.UserActivityState=e.TrouterState=void 0;var p=n(1),g=n(2);Object.defineProperty(e,\"TrouterState\",{enumerable:!0,get:function(){return g.TrouterState}}),Object.defineProperty(e,\"UserActivityState\",{enumerable:!0,get:function(){return g.UserActivityState}});var f=n(0),v=n(8),m=n(9),y=n(10),T=n(11),S=function(){function t(t){this.logProvider=t,this.stateChangedListeners=[],this.logger=new f.Logger(\"Trouter\",t),this.trouterUrlPromise=new T.TrouterUrlPromise(t),this.messageHandlers=new v.MessageHandlerRegistry(t),this.listeners={},this.connectionInfo=null,this.logger.info(\"Created TrouterService version \".concat(p.CLIENT_VERSION));}return t.prototype.start=function(t){var e;if(this.logger.info(\"Start\"),!t.skypeTokenProvider&&!t.authTokenProvider)throw new Error(\"no token provider has been configured, either skypeTokenProvider or authTokenProvider must be populated\");t.skypeTokenProvider&&!t.trouterSettings.disableInternalSkypeTokenCache&&(t.skypeTokenProvider=(0, m.addCacheAsBackupTo)(t.skypeTokenProvider)),this.trouterCfg=t;var n=i(t,this.logger,this.ecsCfg);!1===t.internalEnableV4cProtocol&&(n.forceV4aProtocol=!0);var o=u(this.logger,null!==(e=t.authTokenProvider)&&void 0!==e?e:a(t.skypeTokenProvider));void 0===this.trouterServer&&(this.trouterServer=new y.TrouterManager(this.logProvider,n,o,void 0===t.authTokenProvider,this)),void 0!==this.pendingActivityState&&(this.trouterServer.setUserActivityState(this.pendingActivityState[0],this.pendingActivityState[1]),this.pendingActivityState=void 0),this.trouterServer.start();},t.prototype.stop=function(t){this.logger.info(\"close connection\"),this.trouterUrlPromise.rejectUrl(new Error(\"TrouterService is stopped\")),void 0!==this.trouterServer&&this.trouterServer.stop(t);},t.prototype.setEcsConfig=function(t){return d(this,void 0,void 0,function(){var e=this;return l(this,function(n){return [2,new Promise(function(n){if(e.ecsCfg=t.TrouterJScriptClient,e.logger.info(\"Setting ECS configuration to \".concat(JSON.stringify(e.ecsCfg))),void 0!==e.trouterServer&&void 0!==e.trouterCfg){var o=i(e.trouterCfg,e.logger,e.ecsCfg);e.trouterServer.configure(o);}n();})]})})},t.prototype.checkConnection=function(t){void 0!==this.trouterServer&&this.trouterServer.checkConnection(null!==t&&void 0!==t&&t);},t.prototype.resendRegistration=function(){return d(this,void 0,void 0,function(){return l(this,function(t){if(!this.trouterServer)throw new Error(\"resendRegistration called too early\");return [2,this.trouterServer.resendRegistration()]})})},t.prototype.registerListener=function(t,e){return \"\"===e||!e.startsWith(\"/\")||e.includes(\"?\")||e.includes(\"#\")?(this.logger.error(\"Listener path '\".concat(e,\"' is not valid\")),!1):this.listeners[e]?(this.logger.error(\"Another listener is already registered for path '\".concat(e,\"'\")),!1):(this.listeners[e]=t,this.logger.debug(\"Listener for path '\".concat(e,\"' registered\")),this.connectionInfo&&t.onTrouterConnected(this.connectionInfo.baseEndpointUrl+e,this.connectionInfo),!0)},t.prototype.unregisterListener=function(t){for(var e=[],n=0,o=Object.keys(this.listeners);n<o.length;n++){var i=o[n];this.listeners[i]===t&&e.push(i);}if(0===e.length)return !1;for(var r=0,s=e;r<s.length;r++){var i=s[r];delete this.listeners[i];}return this.logger.debug(\"Listener for path(s) '\".concat(e.join(\"', '\"),\"' unregistered\")),!0},t.prototype.onTrouterConnected=function(t,e){this.logger.debug(\"Trouter is now connected\");for(var n=0,o=Object.keys(this.listeners);n<o.length;n++){var i=o[n];try{this.listeners[i].onTrouterConnected(e.baseEndpointUrl+i,e);}catch(t){this.logger.error(\"Listener '\".concat(i,\"' threw an exception from onTrouterConnected(): \").concat(t));}}this.connectionInfo=e,this.trouterUrlPromise.resolveUrl(t),this.notifyStateChanged(g.TrouterState.Connected,{url:t,getRemainingTtlInSec:function(){return e.connectionTtlSec}});},t.prototype.onTrouterDisconnected=function(){this.logger.debug(\"Trouter is now disconnected\"),this.connectionInfo=null;for(var t=0,e=Object.keys(this.listeners);t<e.length;t++){var n=e[t],o=this.listeners[n];if(o.onTrouterDisconnected)try{o.onTrouterDisconnected();}catch(t){this.logger.error(\"Listener '\".concat(n,\"' threw an exception from onTrouterDisconnected(): \").concat(t));}}this.notifyStateChanged(g.TrouterState.Disconnected);},t.prototype.onTrouterRequest=function(t,e){for(var n=\"\",o=0,i=Object.keys(this.listeners);o<i.length;o++){var r=i[o];t.path.startsWith(r)&&r.length>n.length&&(n=r);}if(\"\"===n)this.tryMessageHandlers(t,e)||(e.status=404,e.headers={\"Trouter-Responder\":\"ClientLib\"},e.send());else try{this.listeners[n].onTrouterRequest(t,e);}catch(t){this.logger.error(\"Listener '\".concat(n,\"' threw an exception from onTrouterRequest(): \").concat(t)),e.status=500,e.headers={\"Trouter-Responder\":\"ClientLib\"},e.send();}},t.prototype.onTrouterMessageLoss=function(t){this.logger.info(\"onTrouterMessageLoss called with tags [\".concat(t,\"]\"));for(var e=!0,n=0,o=Object.keys(this.listeners);n<o.length;n++){var i=o[n],r=this.listeners[i];if(r.onTrouterMessageLoss)try{e=r.onTrouterMessageLoss(t)&&e,void 0===e&&(this.logger.error(\"Listener '\".concat(i,\"' did not return a boolean value from onTrouterMessageLoss()\")),e=!1);}catch(t){this.logger.error(\"Listener '\".concat(i,\"' threw an exception from onTrouterMessageLoss(): \").concat(t)),e=!1;}}return e},t.prototype.onTrouterUserActivityStateAccepted=function(t){this.logger.debug(\"onTrouterUserActivityStateAccepted cv: \".concat(t));for(var e=0,n=Object.keys(this.listeners);e<n.length;e++){var o=n[e],i=this.listeners[o];if(i.onTrouterUserActivityStateAccepted)try{i.onTrouterUserActivityStateAccepted(t);}catch(t){this.logger.error(\"Listener '\".concat(o,\"' threw an exception from onTrouterUserActivityStateAccepted(): \").concat(t));}}},t.prototype.onAudiencesSetResolved=function(t,e){this.logger.debug(\"onAudiencesSetResolved cv: \".concat(e));for(var n=0,o=Object.keys(this.listeners);n<o.length;n++){var i=o[n],r=this.listeners[i];if(r.onAudiencesSetResolved)try{r.onAudiencesSetResolved(t,e);}catch(t){this.logger.error(\"Listener '\".concat(i,\"' threw an exception from onAudienceSubscribed(): \").concat(t));}}},t.prototype.setUserActivityState=function(t,e){if(t!==g.UserActivityState.Active&&t!==g.UserActivityState.Inactive)throw new Error(\"setUserActivityState called with unsupported value \".concat(t));this.logger.info(\"setUserActivityState called with value \".concat(g.UserActivityState[t])),this.trouterServer&&this.state()!==g.TrouterState.Unknown?this.trouterServer.setUserActivityState(t,e):(this.pendingActivityState=[t,e],this.logger.warn(\"setUserActivityState called before start() or after stop()\"));},t.prototype.setAudienceSubscriptions=function(t,e){if(t.audienceSubscriptions.length>1)throw new Error(\"Only singular audience subscription is supported\");if(this.trouterServer&&this.state()!==g.TrouterState.Unknown)return this.trouterServer.setAudienceSubscriptionsAsync(t,15e3,e);throw new Error(\"audience subscribe called before start() or after stop()\")},t.prototype.state=function(){return void 0!==this.trouterServer?this.trouterServer.getState():g.TrouterState.Unknown},t.prototype.isInTerminalState=function(){return void 0!==this.trouterServer&&this.trouterServer.isInTerminalState()},t.prototype.reportStateInfo=function(){return void 0===this.trouterServer?\"\":this.trouterServer.reportStateInfo()},t.prototype.getServerState=function(){if(void 0!==this.trouterServer)return this.trouterServer.getServerState()},t.prototype.getTrouterUrlAsync=function(){return void 0!==this.trouterServer?this.trouterUrlPromise.getPromise():Promise.reject(new Error(\"TrouterService has not been started\"))},t.prototype.onStateChanged=function(t){if(this.logger.info(\"onStateChanged called\"),void 0===t)this.stateChangedListeners=this.stateChangedListeners.filter(function(t){return void 0===t.wrappedCallback});else {this.offStateChanged(t);var e=function(e,n){t(e,n?n.url:\"\");};e.wrappedCallback=t,this.stateChangedListeners.push(e);}},t.prototype.offStateChanged=function(t){this.logger.info(\"offStateChanged called\");var e=this.stateChangedListeners.length;return this.stateChangedListeners=this.stateChangedListeners.filter(function(e){return e.wrappedCallback!==t}),e>this.stateChangedListeners.length},t.prototype.addCallback=function(t){this.logger.info(\"addListener called\"),-1===this.stateChangedListeners.indexOf(t,0)&&void 0!==t&&this.stateChangedListeners.push(t);},t.prototype.removeCallback=function(t){this.logger.info(\"removeListener called\");var e=this.stateChangedListeners.indexOf(t,0);return e>-1&&(this.stateChangedListeners.splice(e,1),!0)},t.prototype.registerMessageHandler=function(t){this.logger.info(\"registerMessageHandler is called\"),this.messageHandlers.register(t);},t.prototype.clearMessageHandlers=function(){this.logger.info(\"clearMessageHandlers is called\"),this.messageHandlers.clear();},t.prototype.notifyStateChanged=function(t,e){var n=this;this.logger.info(\"notifyStateChanged called, will forward to \".concat(this.stateChangedListeners.length,\" listeners\")),this.stateChangedListeners.forEach(function(o){try{o(t,e);}catch(t){n.logger.error(\"Error in callback \".concat(t));}});},t.prototype.tryMessageHandlers=function(t,e){if(!this.messageHandlers.active())return !1;var n,o=null;try{n=JSON.parse(t.body),o=n&&(n.evt||n.eventId)||null;}catch(t){}var i={eventId:o,url:(this.connectionInfo?this.connectionInfo.baseEndpointUrl:\"\")+t.path,body:n,rawBody:t.body,headers:t.headers},r=this.messageHandlers.handleMessage(i);return !!r.isHandled&&(e.status=r.resultCode,r.responseHeaders&&(e.headers=r.responseHeaders),r.responseBody&&(e.body=r.responseBody),e.send(),!0)},t}();e.TrouterService=S,e.createTrouterService=r,e.getTrouterServiceVersion=s,e.replaceTrouterUrlBase=c;},function(e,n){e.exports=t;}])});\n\n});\n\nunwrapExports(tstrouter);\n\nvar chat = createCommonjsModule(function (module, exports) {\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeleteReason = void 0;\nvar DeleteReason;\n(function (DeleteReason) {\n    DeleteReason[\"DeletedByPolicy\"] = \"deletedByPolicy\";\n    DeleteReason[\"DeletedByUser\"] = \"deletedByUser\";\n})(DeleteReason || (exports.DeleteReason = DeleteReason = {}));\n});\n\nunwrapExports(chat);\nchat.DeleteReason;\n\nvar constants = createCommonjsModule(function (module, exports) {\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PACKAGE_VERSION = exports.CONFIG_API_VERSION = exports.EudbCountries = exports.CloudPrefix = exports.CloudType = exports.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES = void 0;\nexports.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES = 3;\n// Gov cloud types\nvar CloudType;\n(function (CloudType) {\n    CloudType[\"Public\"] = \"Public\";\n    CloudType[\"GccHigh\"] = \"GCC High\";\n    CloudType[\"Dod\"] = \"DoD\";\n})(CloudType || (exports.CloudType = CloudType = {}));\nvar CloudPrefix;\n(function (CloudPrefix) {\n    CloudPrefix[\"OrgId\"] = \"orgid\";\n    CloudPrefix[\"Acs\"] = \"acs\";\n    CloudPrefix[\"Spool\"] = \"spool\";\n    CloudPrefix[\"GccHigh\"] = \"gcch\";\n    CloudPrefix[\"GccHighAcs\"] = \"gcch-acs\";\n    CloudPrefix[\"Dod\"] = \"dod\";\n    CloudPrefix[\"DodAcs\"] = \"dod-acs\";\n})(CloudPrefix || (exports.CloudPrefix = CloudPrefix = {}));\nexports.EudbCountries = [\"europe\", \"france\", \"germany\", \"norway\", \"switzerland\", \"sweden\"];\nexports.CONFIG_API_VERSION = \"2024-09-01\";\nexports.PACKAGE_VERSION = \"1.0.0-beta.34\";\n});\n\nunwrapExports(constants);\nconstants.PACKAGE_VERSION;\nconstants.CONFIG_API_VERSION;\nconstants.EudbCountries;\nconstants.CloudPrefix;\nconstants.CloudType;\nconstants.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES;\n\nvar chat_1 = chat;\n\nvar constants_1 = constants;\n\nvar TrouterUtils = createCommonjsModule(function (module, exports) {\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nvar __awaiter = (commonjsGlobal && commonjsGlobal.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isEudbLocation = exports.parseTokenCredential = exports.base64decode = exports.toTelemetrySender = exports.toLogProvider = exports.toMessageHandler = void 0;\nexports.generateUuid = generateUuid;\n\n\n\n\nconst eventIds = new Map([\n    [\"chatMessageReceived\", 200],\n    [\"typingIndicatorReceived\", 245],\n    [\"readReceiptReceived\", 246],\n    [\"chatMessageEdited\", 247],\n    [\"chatMessageDeleted\", 248],\n    [\"chatThreadCreated\", 257],\n    [\"chatThreadPropertiesUpdated\", 258],\n    [\"chatThreadDeleted\", 259],\n    [\"participantsAdded\", 260],\n    [\"participantsRemoved\", 261],\n]);\nconst publicTeamsUserPrefix = \"8:orgid:\";\nconst dodTeamsUserPrefix = \"8:dod:\";\nconst gcchTeamsUserPrefix = \"8:gcch:\";\nconst teamsVisitorUserPrefix = \"8:teamsvisitor:\";\nconst phoneNumberPrefix = \"4:\";\nconst acsUserPrefix = \"8:acs:\";\nconst acsGcchUserPrefix = \"8:gcch-acs:\";\nconst acsDodUserPrefix = \"8:dod-acs:\";\nconst spoolUserPrefix = \"8:spool:\";\nconst toMessageHandler = (event, listener, resourceEndpoint, gatewayApiVersion) => {\n    const eventId = eventIds.get(event);\n    return {\n        handleMessage(message) {\n            let genericPayload = null;\n            if (message === null || message === void 0 ? void 0 : message.rawBody) {\n                genericPayload = JSON.parse(message.rawBody);\n            }\n            if (genericPayload === null || genericPayload.eventId !== eventId) {\n                return undefined;\n            }\n            const eventPayload = toEventPayload(event, genericPayload, resourceEndpoint, gatewayApiVersion);\n            if (eventPayload === null) {\n                return undefined;\n            }\n            listener(eventPayload);\n            return { isHandled: true, resultCode: 200 };\n        },\n    };\n};\nexports.toMessageHandler = toMessageHandler;\nfunction toChatMessageReceivedEvent(payload, resourceEndpoint, gatewayApiVersion) {\n    return {\n        threadId: payload.groupId,\n        sender: constructIdentifierKindFromMri(payload.senderId),\n        senderDisplayName: payload.senderDisplayName,\n        recipient: constructIdentifierKindFromMri(payload.recipientMri),\n        id: payload.messageId,\n        createdOn: new Date(payload.originalArrivalTime),\n        version: payload.version,\n        type: payload.messageType,\n        message: payload.messageBody,\n        metadata: parseJsonString(payload.acsChatMessageMetadata) || {},\n        attachments: transformEndpoint(parseJsonString(payload.attachments) || [], resourceEndpoint, gatewayApiVersion),\n    };\n}\nfunction toChatMessageEditedEvent(payload, resourceEndpoint, gatewayApiVersion) {\n    return Object.assign(Object.assign({}, toChatMessageReceivedEvent(payload, resourceEndpoint, gatewayApiVersion)), { editedOn: new Date(payload.edittime) });\n}\nconst toEventPayload = (event, genericPayload, resourceEndpoint, gatewayApiVersion) => {\n    if (event === \"chatMessageReceived\") {\n        const payload = genericPayload;\n        return toChatMessageReceivedEvent(payload, resourceEndpoint, gatewayApiVersion);\n    }\n    if (event === \"chatMessageEdited\") {\n        const payload = genericPayload;\n        return toChatMessageEditedEvent(payload, resourceEndpoint, gatewayApiVersion);\n    }\n    if (event === \"chatMessageDeleted\") {\n        const payload = genericPayload;\n        const eventPayload = {\n            threadId: payload.groupId,\n            sender: constructIdentifierKindFromMri(payload.senderId),\n            senderDisplayName: payload.senderDisplayName,\n            recipient: constructIdentifierKindFromMri(payload.recipientMri),\n            id: payload.messageId,\n            createdOn: new Date(payload.originalArrivalTime),\n            version: payload.version,\n            deletedOn: new Date(payload.deletetime),\n            type: payload.messageType,\n        };\n        return eventPayload;\n    }\n    if (event === \"typingIndicatorReceived\") {\n        const payload = genericPayload;\n        const eventPayload = {\n            threadId: payload.groupId,\n            sender: constructIdentifierKindFromMri(payload.senderId),\n            senderDisplayName: payload.senderDisplayName,\n            recipient: constructIdentifierKindFromMri(payload.recipientMri),\n            version: payload.version,\n            receivedOn: new Date(payload.originalArrivalTime),\n        };\n        return eventPayload;\n    }\n    if (event === \"readReceiptReceived\") {\n        const payload = genericPayload;\n        const readReceiptMessageBody = JSON.parse(payload.messageBody);\n        const consumptionHorizon = readReceiptMessageBody.consumptionhorizon.split(\";\");\n        const eventPayload = {\n            threadId: payload.groupId,\n            sender: constructIdentifierKindFromMri(payload.senderId),\n            senderDisplayName: \"\",\n            recipient: constructIdentifierKindFromMri(payload.recipientMri),\n            chatMessageId: payload.messageId,\n            readOn: new Date(+consumptionHorizon[1]),\n        };\n        return eventPayload;\n    }\n    if (event === \"chatThreadCreated\") {\n        const payload = genericPayload;\n        const createdByPayload = JSON.parse(unescape(payload.createdBy));\n        const membersPayload = JSON.parse(unescape(payload.members));\n        const createdBy = toChatParticipant(createdByPayload);\n        const chatParticipants = membersPayload.map((m) => {\n            return toChatParticipant(m);\n        });\n        const eventPayload = {\n            threadId: payload.threadId,\n            createdOn: new Date(payload.createTime),\n            createdBy: createdBy,\n            version: payload.version,\n            participants: chatParticipants,\n            properties: toThreadProperties(JSON.parse(unescape(payload.properties))),\n            retentionPolicy: getRetentionPolicy(JSON.parse(unescape(payload.properties))),\n        };\n        return eventPayload;\n    }\n    if (event === \"chatThreadPropertiesUpdated\") {\n        const payload = genericPayload;\n        const updatedByPayload = JSON.parse(unescape(payload.editedBy));\n        const updatedBy = toChatParticipant(updatedByPayload);\n        const eventPayload = {\n            threadId: payload.threadId,\n            updatedOn: new Date(payload.editTime),\n            updatedBy: updatedBy,\n            version: payload.version,\n            properties: toThreadProperties(JSON.parse(unescape(payload.properties))),\n            retentionPolicy: getRetentionPolicy(JSON.parse(unescape(payload.properties))),\n        };\n        return eventPayload;\n    }\n    if (event === \"chatThreadDeleted\") {\n        const payload = genericPayload;\n        const deletedBy = genericPayload.reason == chat_1.DeleteReason.DeletedByPolicy\n            ? null\n            : toChatParticipant(JSON.parse(unescape(payload.deletedBy)));\n        const eventPayload = {\n            threadId: payload.threadId,\n            deletedOn: new Date(payload.deleteTime),\n            deletedBy: deletedBy,\n            version: payload.version,\n            reason: payload.reason,\n        };\n        return eventPayload;\n    }\n    if (event === \"participantsAdded\") {\n        const payload = genericPayload;\n        const addedByPayload = JSON.parse(unescape(payload.addedBy));\n        const participantsAddedPayload = JSON.parse(unescape(payload.participantsAdded));\n        const addedBy = toChatParticipant(addedByPayload);\n        const chatParticipants = participantsAddedPayload.map((m) => {\n            return toChatParticipant(m);\n        });\n        const eventPayload = {\n            threadId: payload.threadId,\n            addedOn: new Date(payload.time),\n            addedBy: addedBy,\n            version: payload.version,\n            participantsAdded: chatParticipants,\n        };\n        return eventPayload;\n    }\n    if (event === \"participantsRemoved\") {\n        const payload = genericPayload;\n        const removedByPayload = JSON.parse(unescape(payload.removedBy));\n        const participantsRemovedPayload = JSON.parse(unescape(payload.participantsRemoved));\n        const removedBy = toChatParticipant(removedByPayload);\n        const chatParticipants = participantsRemovedPayload.map((m) => {\n            return toChatParticipant(m);\n        });\n        const eventPayload = {\n            threadId: payload.threadId,\n            removedOn: new Date(payload.time),\n            removedBy: removedBy,\n            version: payload.version,\n            participantsRemoved: chatParticipants,\n        };\n        return eventPayload;\n    }\n    return null;\n};\nconst toChatParticipant = (payload) => {\n    var _a;\n    const participant = {\n        id: constructIdentifierKindFromMri(payload.participantId),\n        displayName: payload.displayName,\n        metadata: parseJsonString((_a = payload.memberMetaData) !== null && _a !== void 0 ? _a : \"\") || {},\n    };\n    if (payload.shareHistoryTime) {\n        participant.shareHistoryTime = new Date(payload.shareHistoryTime);\n    }\n    return participant;\n};\nconst toThreadProperties = (payload) => {\n    var _a;\n    return {\n        topic: payload.topic,\n        metadata: parseJsonString((_a = payload.acsChatThreadMetadata) !== null && _a !== void 0 ? _a : \"\") || {},\n    };\n};\nconst getRetentionPolicy = (payload) => {\n    const raw = payload.retentionPolicy;\n    // No policy string ⇒ “none”\n    if (!raw) {\n        return { kind: \"none\" };\n    }\n    let parsed;\n    try {\n        parsed = JSON.parse(raw);\n    }\n    catch (_a) {\n        return { kind: \"none\" };\n    }\n    // Expected executeAfter format dd.hh:mm:ss if more than 1 day. Or hh:mm:ss if less than one day.\n    if (parsed.retentionPolicyType === \"DeleteAfterCreationTime\" &&\n        typeof parsed.executeAfter === \"string\") {\n        // Handle sign, spaces\n        const s = parsed.executeAfter.trim().replace(/^[+-]/, \"\");\n        // only take the part before the dot, otherwise 0\n        const daysPart = s.includes(\".\") ? s.split(\".\")[0] : \"0\";\n        const days = parseInt(daysPart, 10);\n        return {\n            kind: \"threadCreationDate\",\n            deleteThreadAfterDays: isNaN(days) ? 0 : days,\n        };\n    }\n    return { kind: \"none\" };\n};\nconst toLogProvider = (logger) => {\n    return {\n        log: (...message) => logger.info(message),\n        warn: (...message) => logger.warning(message),\n        error: (...message) => logger.error(message),\n        debug: (...message) => logger.verbose(message),\n        info: (...message) => logger.verbose(message),\n    };\n};\nexports.toLogProvider = toLogProvider;\nconst toTelemetrySender = (logger) => {\n    return {\n        logEvent: (clientEvent) => logger.info(clientEvent),\n    };\n};\nexports.toTelemetrySender = toTelemetrySender;\nconst constructIdentifierKindFromMri = (mri) => {\n    if (mri.startsWith(publicTeamsUserPrefix)) {\n        return {\n            kind: \"microsoftTeamsUser\",\n            rawId: mri,\n            microsoftTeamsUserId: mri.substring(publicTeamsUserPrefix.length),\n            isAnonymous: false,\n            cloud: \"public\",\n        };\n    }\n    else if (mri.startsWith(dodTeamsUserPrefix)) {\n        return {\n            kind: \"microsoftTeamsUser\",\n            rawId: mri,\n            microsoftTeamsUserId: mri.substring(dodTeamsUserPrefix.length),\n            isAnonymous: false,\n            cloud: \"dod\",\n        };\n    }\n    else if (mri.startsWith(gcchTeamsUserPrefix)) {\n        return {\n            kind: \"microsoftTeamsUser\",\n            rawId: mri,\n            microsoftTeamsUserId: mri.substring(gcchTeamsUserPrefix.length),\n            isAnonymous: false,\n            cloud: \"gcch\",\n        };\n    }\n    else if (mri.startsWith(teamsVisitorUserPrefix)) {\n        return {\n            kind: \"microsoftTeamsUser\",\n            rawId: mri,\n            microsoftTeamsUserId: mri.substring(teamsVisitorUserPrefix.length),\n            isAnonymous: true,\n        };\n    }\n    else if (mri.startsWith(phoneNumberPrefix)) {\n        return {\n            kind: \"phoneNumber\",\n            rawId: mri,\n            phoneNumber: mri.substring(phoneNumberPrefix.length),\n        };\n    }\n    else if (mri.startsWith(acsUserPrefix) ||\n        mri.startsWith(acsGcchUserPrefix) ||\n        mri.startsWith(acsDodUserPrefix) ||\n        mri.startsWith(spoolUserPrefix)) {\n        return { kind: \"communicationUser\", communicationUserId: mri };\n    }\n    else {\n        return { kind: \"unknown\", id: mri };\n    }\n};\nconst parseJsonString = (str) => {\n    if (str === undefined ||\n        str === null ||\n        str === \"\" ||\n        str === \"null\" ||\n        str === \"{}\" ||\n        str === \"[]\") {\n        return undefined;\n    }\n    return JSON.parse(str);\n};\nconst createMediaUrlString = (urlString, resourceEndpoint, gatewayApiVersion) => {\n    let url;\n    try {\n        url = new URL(urlString);\n        if (url.protocol === \"http:\" || url.protocol === \"https:\") {\n            // If its already a full url, substitute the origin\n            url = new URL(url.pathname, resourceEndpoint);\n        }\n    }\n    catch (_) {\n        // urlString is a likely a relative URL, so create a new one with the resourceEndpoint as base\n        try {\n            url = new URL(urlString, resourceEndpoint);\n        }\n        catch (_) {\n            // If we get here, then the urlString passed in is likely incorrect, so just pass it along\n            // As there's nothing we can do at this point.\n            return urlString;\n        }\n    }\n    // Append api-version query and return string\n    url.searchParams.set(\"api-version\", gatewayApiVersion);\n    return url.toString();\n};\nconst isValidURL = (str) => {\n    let url;\n    try {\n        url = new URL(str);\n    }\n    catch (_) {\n        return false;\n    }\n    return url.protocol === \"http:\" || url.protocol === \"https:\";\n};\nconst transformEndpoint = (attachments, resourceEndpoint, gatewayApiVersion) => {\n    if (resourceEndpoint === undefined ||\n        resourceEndpoint === null ||\n        resourceEndpoint === \"\" ||\n        !isValidURL(resourceEndpoint)) {\n        return attachments;\n    }\n    attachments\n        .filter((e) => e.attachmentType.toLowerCase() === \"image\".toLowerCase())\n        .map((attachment) => {\n        if (attachment.previewUrl) {\n            attachment.previewUrl = createMediaUrlString(attachment.previewUrl, resourceEndpoint, gatewayApiVersion);\n        }\n        if (attachment.url) {\n            attachment.url = createMediaUrlString(attachment.url, resourceEndpoint, gatewayApiVersion);\n        }\n    });\n    return attachments;\n};\nconst base64decode = (encodedString) => !coreUtil__default[\"default\"].isNodeLike ? atob(encodedString) : Buffer.from(encodedString, \"base64\").toString();\nexports.base64decode = base64decode;\nconst parseJWT = (token) => {\n    let [, payload] = token === null || token === void 0 ? void 0 : token.split(\".\");\n    if (payload === undefined) {\n        throw new Error(\"Invalid token\");\n    }\n    payload = payload.replace(/-/g, \"+\").replace(/_/g, \"/\");\n    return JSON.parse(decodeURIComponent(escape((0, exports.base64decode)(payload))));\n};\nconst parseTokenCredential = (credential) => __awaiter(void 0, void 0, void 0, function* () {\n    const accessToken = yield credential.getToken();\n    const jwtToken = accessToken === null || accessToken === void 0 ? void 0 : accessToken.token;\n    const parsedJwtToken = parseJWT(jwtToken);\n    const identityMri = parsedJwtToken.skypeid;\n    const acsResourceId = parsedJwtToken.resourceId;\n    const cloudType = getCloudTypeFromSkypeId(identityMri);\n    const resourceLocation = parsedJwtToken.resourceLocation || \"\";\n    return { jwtToken, acsResourceId, identityMri, cloudType, resourceLocation };\n});\nexports.parseTokenCredential = parseTokenCredential;\n/**\n * Generated Universally Unique Identifier\n *\n * @returns RFC4122 v4 UUID.\n * @internal\n */\nfunction generateUuid() {\n    return (0, uuid__default[\"default\"].v4)();\n}\nconst isEudbLocation = (location) => !!location && !!constants_1.EudbCountries.find((euLocation) => euLocation === location);\nexports.isEudbLocation = isEudbLocation;\nfunction getCloudTypeFromSkypeId(skypeId) {\n    const cloudPrefix = skypeId.substring(0, skypeId.indexOf(\":\"));\n    switch (cloudPrefix) {\n        case constants_1.CloudPrefix.OrgId:\n        case constants_1.CloudPrefix.Acs:\n        case constants_1.CloudPrefix.Spool: {\n            return constants_1.CloudType.Public;\n        }\n        case constants_1.CloudPrefix.GccHigh:\n        case constants_1.CloudPrefix.GccHighAcs: {\n            return constants_1.CloudType.GccHigh;\n        }\n        case constants_1.CloudPrefix.Dod:\n        case constants_1.CloudPrefix.DodAcs: {\n            return constants_1.CloudType.Dod;\n        }\n        default: {\n            return constants_1.CloudType.Public;\n        }\n    }\n}\n});\n\nunwrapExports(TrouterUtils);\nTrouterUtils.isEudbLocation;\nTrouterUtils.parseTokenCredential;\nTrouterUtils.base64decode;\nTrouterUtils.toTelemetrySender;\nTrouterUtils.toLogProvider;\nTrouterUtils.toMessageHandler;\nTrouterUtils.generateUuid;\n\nvar TrouterConfigClient_1$1 = createCommonjsModule(function (module, exports) {\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nvar __createBinding = (commonjsGlobal && commonjsGlobal.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (commonjsGlobal && commonjsGlobal.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (commonjsGlobal && commonjsGlobal.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __awaiter = (commonjsGlobal && commonjsGlobal.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RealTimeNotificationConfiguration = exports.TrouterConfigClient = void 0;\nconst coreClient = __importStar(coreClient__default[\"default\"]); // External library import\n // Grouped imports from the same module\n\nclass TrouterConfigClient extends coreClient.ServiceClient {\n    constructor(endpoint, options) {\n        // Initializing default values for options\n        if (!options) {\n            options = {};\n        }\n        const packageDetails = `azsdk-js-communication-signaling/${constants_1.PACKAGE_VERSION}`;\n        const userAgentPrefix = options.userAgentOptions && options.userAgentOptions.userAgentPrefix\n            ? `${options.userAgentOptions.userAgentPrefix} ${packageDetails}`\n            : `${packageDetails}`;\n        const clientOptions = Object.assign(Object.assign({}, options), { userAgentOptions: {\n                userAgentPrefix,\n            }, additionalPolicies: options.additionalPolicies });\n        super(clientOptions);\n        this.apiVersion = constants_1.CONFIG_API_VERSION;\n        this.endpoint = endpoint;\n        this.httpClient = (0, coreRestPipeline__default[\"default\"].createDefaultHttpClient)();\n    }\n    fetchServiceUrls(credential) {\n        return __awaiter(this, void 0, void 0, function* () {\n            try {\n                const token = (yield credential.getToken()).token;\n                const request = (0, coreRestPipeline__default[\"default\"].createPipelineRequest)({\n                    url: `${this.endpoint}/chat/config/realTimeNotifications?api-version=${this.apiVersion}`,\n                    method: \"GET\",\n                    headers: (0, coreRestPipeline__default[\"default\"].createHttpHeaders)({\n                        Authorization: `Bearer ${token}`,\n                    }),\n                });\n                const response = yield this.pipeline.sendRequest(this.httpClient, request);\n                if (response.status !== 200 || !response.bodyAsText) {\n                    throw new Error(`Failed to fetch service URLs. Status: ${response.status}, Body: ${response.bodyAsText || \"No response body\"}`);\n                }\n                const data = JSON.parse(response.bodyAsText);\n                // Ensure all necessary data fields are present\n                if (!data.trouterServiceUrl || !data.registrarServiceUrl || !data.cloudType) {\n                    throw new Error(\"One or more required fields are missing in the response data\");\n                }\n                return new RealTimeNotificationConfiguration(data.trouterServiceUrl, data.registrarServiceUrl, data.cloudType);\n            }\n            catch (error) {\n                throw new Error(`Error fetching real-time notification configuration from Chat Gateway: ${error.message}`);\n            }\n        });\n    }\n}\nexports.TrouterConfigClient = TrouterConfigClient;\nclass RealTimeNotificationConfiguration {\n    constructor(trouterServiceUrl, registrarServiceUrl, cloudType) {\n        this.trouterServiceUrl = trouterServiceUrl;\n        this.registrarServiceUrl = registrarServiceUrl;\n        this.cloudType = cloudType;\n    }\n}\nexports.RealTimeNotificationConfiguration = RealTimeNotificationConfiguration;\n});\n\nunwrapExports(TrouterConfigClient_1$1);\nTrouterConfigClient_1$1.RealTimeNotificationConfiguration;\nTrouterConfigClient_1$1.TrouterConfigClient;\n\nvar TrouterUtils_1 = TrouterUtils;\n\nvar TrouterConfigClient_1 = TrouterConfigClient_1$1;\n\nvar TrouterSettings = createCommonjsModule(function (module, exports) {\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nvar __awaiter = (commonjsGlobal && commonjsGlobal.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.defaultTelemetrySettings = exports.createSettings = void 0;\n\n\nconst defaultSettings = {\n    version: \"1.0.0\", // SignalingClient version, required for trouter connection\n    registrationId: \"\", // Required for trouter connection\n    sessionId: \"\", // Required for trouter connection\n    pnhAppId: \"AcsWeb\",\n    pnhTemplate: \"AcsWeb_Chat_2.1\",\n    platform: \"SPOOL\",\n    platformUIVersion: \"0.0.0\",\n    environment: \"\", // TBD\n    productName: \"acs-chat-web\",\n    trouterServiceUrl: \"\",\n    registrarServiceUrl: \"\",\n    registrarRefreshTimeoutInMs: 350000,\n    timeoutOptions: {\n        connectionTimeoutMs: 20000,\n        fetchTimeoutMs: 10000,\n        pingTimeoutMs: 40000,\n        pongTimeoutMs: 5000,\n        maxBackoffMs: 50000,\n        requestTimeoutMs: 5000,\n    },\n    maxRegistrationTimeInMs: 7200000,\n};\n// Main function to create settings based on environment\nconst createSettings = (credential, options) => __awaiter(void 0, void 0, void 0, function* () {\n    var _a;\n    const endpoint = options === null || options === void 0 ? void 0 : options.resourceEndpoint;\n    // Throw an error if resourceEndpoint is null or undefined\n    if (endpoint === undefined) {\n        throw new Error(\"'endpoint' cannot be null\");\n    }\n    // Initialize the settings by cloning the default ones\n    const settings = Object.assign({}, defaultSettings);\n    settings.registrationId = (0, TrouterUtils_1.generateUuid)(); // Generate unique IDs\n    settings.sessionId = (0, TrouterUtils_1.generateUuid)();\n    // Fetch the real time configuration from the service\n    const trouterConfigClient = new TrouterConfigClient_1.TrouterConfigClient(endpoint, options);\n    const realTimeNotificationConfiguration = yield trouterConfigClient.fetchServiceUrls(credential);\n    // Append suffix to trouterServiceUrl and registrarServiceUrl\n    settings.trouterServiceUrl = `${realTimeNotificationConfiguration.trouterServiceUrl}/v4/a`;\n    settings.registrarServiceUrl = `${realTimeNotificationConfiguration.registrarServiceUrl}/v3/registrations`;\n    // Customize settings if the environment is INT\n    if (realTimeNotificationConfiguration.cloudType === \"int\") {\n        settings.pnhAppId = \"cns-e2e-test\";\n        settings.pnhTemplate = \"cns-e2e-test:1.8\";\n    }\n    settings.maxRegistrationTimeInMs =\n        (_a = options === null || options === void 0 ? void 0 : options.registrationTimeInMs) !== null && _a !== void 0 ? _a : defaultSettings.maxRegistrationTimeInMs;\n    return settings;\n});\nexports.createSettings = createSettings;\nexports.defaultTelemetrySettings = {\n    // TBD Can we hook up OpenTelemetry?\n    enabled: false,\n};\n});\n\nunwrapExports(TrouterSettings);\nTrouterSettings.defaultTelemetrySettings;\nTrouterSettings.createSettings;\n\nvar TrouterSettings_1 = TrouterSettings;\n\nvar SignalingClient = createCommonjsModule(function (module, exports) {\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nvar __awaiter = (commonjsGlobal && commonjsGlobal.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CommunicationSignalingClient = exports.ConnectionState = void 0;\n\n\n\n\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"Unknown\"] = 0] = \"Unknown\";\n    ConnectionState[ConnectionState[\"Connected\"] = 2] = \"Connected\";\n    ConnectionState[ConnectionState[\"Disconnected\"] = 3] = \"Disconnected\";\n    ConnectionState[ConnectionState[\"Switching\"] = 9] = \"Switching\";\n})(ConnectionState || (exports.ConnectionState = ConnectionState = {}));\nclass CommunicationSignalingClient {\n    constructor(credential, logger, options) {\n        this.credential = credential;\n        this.logger = logger;\n        this.options = options;\n        this.stateChangedListener = null;\n        this.tokenFetchRetries = 0;\n        this.trouter = (0, tstrouter.createTrouterService)((0, TrouterUtils_1.toLogProvider)(logger));\n    }\n    start() {\n        return __awaiter(this, void 0, void 0, function* () {\n            var _a, _b;\n            this.resourceEndpoint = (_a = this.options) === null || _a === void 0 ? void 0 : _a.resourceEndpoint;\n            if (this.resourceEndpoint === undefined) {\n                throw new Error(\"'endpoint' cannot be null\");\n            }\n            this.gatewayApiVersion = ((_b = this.options) === null || _b === void 0 ? void 0 : _b.gatewayApiVersion) || \"2024-03-07\";\n            if (this.config === undefined) {\n                this.config = {\n                    trouterSettings: yield (0, TrouterSettings_1.createSettings)(this.credential, this.options),\n                    skypeTokenProvider: (forceRefresh) => __awaiter(this, void 0, void 0, function* () {\n                        if (forceRefresh) {\n                            this.tokenFetchRetries += 1;\n                            if (this.tokenFetchRetries > constants_1.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES) {\n                                yield this.stop(true);\n                                throw new Error(`Access token is expired and failed to fetch a valid one after ${constants_1.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES} retries`);\n                            }\n                        }\n                        else {\n                            this.tokenFetchRetries = 0;\n                        }\n                        return Promise.resolve((yield this.credential.getToken()).token);\n                    }),\n                    telemetryConfig: {\n                        eventLogger: (0, TrouterUtils_1.toTelemetrySender)(this.logger),\n                        settings: TrouterSettings_1.defaultTelemetrySettings,\n                    },\n                };\n            }\n            this.trouter.start(this.config);\n            this.trouter.setUserActivityState(tstrouter.UserActivityState.Active);\n        });\n    }\n    stop(isTokenExpired) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.trouter.offStateChanged(this.stateChangedListener);\n            this.trouter.clearMessageHandlers();\n            this.trouter.stop(isTokenExpired !== null && isTokenExpired !== void 0 ? isTokenExpired : this.tokenFetchRetries > constants_1.MAX_NUMBER_OF_TOKEN_FETCH_RETRIES);\n        });\n    }\n    on(event, listener) {\n        if (event === \"connectionChanged\") {\n            this.trouter.offStateChanged(this.stateChangedListener);\n            this.stateChangedListener = (state, _url) => listener(state);\n            this.trouter.onStateChanged(this.stateChangedListener);\n            return;\n        }\n        this.trouter.registerMessageHandler((0, TrouterUtils_1.toMessageHandler)(event, listener, this.resourceEndpoint, this.gatewayApiVersion));\n    }\n}\nexports.CommunicationSignalingClient = CommunicationSignalingClient;\n});\n\nunwrapExports(SignalingClient);\nSignalingClient.CommunicationSignalingClient;\nSignalingClient.ConnectionState;\n\nvar require$$0 = SignalingClient;\n\nvar src = createCommonjsModule(function (module, exports) {\n// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\nvar __createBinding = (commonjsGlobal && commonjsGlobal.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (commonjsGlobal && commonjsGlobal.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require$$0, exports);\n});\n\nvar index = unwrapExports(src);\n\nmodule.exports = index;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}