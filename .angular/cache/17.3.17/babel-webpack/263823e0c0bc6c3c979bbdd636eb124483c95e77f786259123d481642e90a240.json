{"ast":null,"code":"// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\nimport { bearerTokenAuthenticationPolicy, createDefaultHttpClient, createPipelineFromOptions } from \"@azure/core-rest-pipeline\";\nimport { isTokenCredential } from \"@azure/core-auth\";\nimport { apiVersionPolicy } from \"./apiVersionPolicy.js\";\nimport { keyCredentialAuthenticationPolicy } from \"./keyCredentialAuthenticationPolicy.js\";\nlet cachedHttpClient;\n/**\n * Adds a credential policy to the pipeline if a credential is provided. If none is provided, no policy is added.\n */\nexport function addCredentialPipelinePolicy(pipeline, endpoint, options = {}) {\n  var _a, _b, _c, _d;\n  const {\n    credential,\n    clientOptions\n  } = options;\n  if (!credential) {\n    return;\n  }\n  if (isTokenCredential(credential)) {\n    const tokenPolicy = bearerTokenAuthenticationPolicy({\n      credential,\n      scopes: (_b = (_a = clientOptions === null || clientOptions === void 0 ? void 0 : clientOptions.credentials) === null || _a === void 0 ? void 0 : _a.scopes) !== null && _b !== void 0 ? _b : `${endpoint}/.default`\n    });\n    pipeline.addPolicy(tokenPolicy);\n  } else if (isKeyCredential(credential)) {\n    if (!((_c = clientOptions === null || clientOptions === void 0 ? void 0 : clientOptions.credentials) === null || _c === void 0 ? void 0 : _c.apiKeyHeaderName)) {\n      throw new Error(`Missing API Key Header Name`);\n    }\n    const keyPolicy = keyCredentialAuthenticationPolicy(credential, (_d = clientOptions === null || clientOptions === void 0 ? void 0 : clientOptions.credentials) === null || _d === void 0 ? void 0 : _d.apiKeyHeaderName);\n    pipeline.addPolicy(keyPolicy);\n  }\n}\n/**\n * Creates a default rest pipeline to re-use accross Rest Level Clients\n */\nexport function createDefaultPipeline(endpoint, credential, options = {}) {\n  const pipeline = createPipelineFromOptions(options);\n  pipeline.addPolicy(apiVersionPolicy(options));\n  addCredentialPipelinePolicy(pipeline, endpoint, {\n    credential,\n    clientOptions: options\n  });\n  return pipeline;\n}\nfunction isKeyCredential(credential) {\n  return credential.key !== undefined;\n}\nexport function getCachedDefaultHttpsClient() {\n  if (!cachedHttpClient) {\n    cachedHttpClient = createDefaultHttpClient();\n  }\n  return cachedHttpClient;\n}","map":{"version":3,"names":["bearerTokenAuthenticationPolicy","createDefaultHttpClient","createPipelineFromOptions","isTokenCredential","apiVersionPolicy","keyCredentialAuthenticationPolicy","cachedHttpClient","addCredentialPipelinePolicy","pipeline","endpoint","options","_a","_b","_c","_d","credential","clientOptions","tokenPolicy","scopes","credentials","addPolicy","isKeyCredential","apiKeyHeaderName","Error","keyPolicy","createDefaultPipeline","key","undefined","getCachedDefaultHttpsClient"],"sources":["D:/Project/github-teams/teams-app-new/node_modules/@azure-rest/core-client/dist/browser/clientHelpers.js"],"sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT License.\nimport { bearerTokenAuthenticationPolicy, createDefaultHttpClient, createPipelineFromOptions, } from \"@azure/core-rest-pipeline\";\nimport { isTokenCredential } from \"@azure/core-auth\";\nimport { apiVersionPolicy } from \"./apiVersionPolicy.js\";\nimport { keyCredentialAuthenticationPolicy } from \"./keyCredentialAuthenticationPolicy.js\";\nlet cachedHttpClient;\n/**\n * Adds a credential policy to the pipeline if a credential is provided. If none is provided, no policy is added.\n */\nexport function addCredentialPipelinePolicy(pipeline, endpoint, options = {}) {\n    var _a, _b, _c, _d;\n    const { credential, clientOptions } = options;\n    if (!credential) {\n        return;\n    }\n    if (isTokenCredential(credential)) {\n        const tokenPolicy = bearerTokenAuthenticationPolicy({\n            credential,\n            scopes: (_b = (_a = clientOptions === null || clientOptions === void 0 ? void 0 : clientOptions.credentials) === null || _a === void 0 ? void 0 : _a.scopes) !== null && _b !== void 0 ? _b : `${endpoint}/.default`,\n        });\n        pipeline.addPolicy(tokenPolicy);\n    }\n    else if (isKeyCredential(credential)) {\n        if (!((_c = clientOptions === null || clientOptions === void 0 ? void 0 : clientOptions.credentials) === null || _c === void 0 ? void 0 : _c.apiKeyHeaderName)) {\n            throw new Error(`Missing API Key Header Name`);\n        }\n        const keyPolicy = keyCredentialAuthenticationPolicy(credential, (_d = clientOptions === null || clientOptions === void 0 ? void 0 : clientOptions.credentials) === null || _d === void 0 ? void 0 : _d.apiKeyHeaderName);\n        pipeline.addPolicy(keyPolicy);\n    }\n}\n/**\n * Creates a default rest pipeline to re-use accross Rest Level Clients\n */\nexport function createDefaultPipeline(endpoint, credential, options = {}) {\n    const pipeline = createPipelineFromOptions(options);\n    pipeline.addPolicy(apiVersionPolicy(options));\n    addCredentialPipelinePolicy(pipeline, endpoint, { credential, clientOptions: options });\n    return pipeline;\n}\nfunction isKeyCredential(credential) {\n    return credential.key !== undefined;\n}\nexport function getCachedDefaultHttpsClient() {\n    if (!cachedHttpClient) {\n        cachedHttpClient = createDefaultHttpClient();\n    }\n    return cachedHttpClient;\n}\n"],"mappings":"AAAA;AACA;AACA,SAASA,+BAA+B,EAAEC,uBAAuB,EAAEC,yBAAyB,QAAS,2BAA2B;AAChI,SAASC,iBAAiB,QAAQ,kBAAkB;AACpD,SAASC,gBAAgB,QAAQ,uBAAuB;AACxD,SAASC,iCAAiC,QAAQ,wCAAwC;AAC1F,IAAIC,gBAAgB;AACpB;AACA;AACA;AACA,OAAO,SAASC,2BAA2BA,CAACC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,GAAG,CAAC,CAAC,EAAE;EAC1E,IAAIC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE;EAClB,MAAM;IAAEC,UAAU;IAAEC;EAAc,CAAC,GAAGN,OAAO;EAC7C,IAAI,CAACK,UAAU,EAAE;IACb;EACJ;EACA,IAAIZ,iBAAiB,CAACY,UAAU,CAAC,EAAE;IAC/B,MAAME,WAAW,GAAGjB,+BAA+B,CAAC;MAChDe,UAAU;MACVG,MAAM,EAAE,CAACN,EAAE,GAAG,CAACD,EAAE,GAAGK,aAAa,KAAK,IAAI,IAAIA,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACG,WAAW,MAAM,IAAI,IAAIR,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACO,MAAM,MAAM,IAAI,IAAIN,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAG,GAAGH,QAAQ;IAC7M,CAAC,CAAC;IACFD,QAAQ,CAACY,SAAS,CAACH,WAAW,CAAC;EACnC,CAAC,MACI,IAAII,eAAe,CAACN,UAAU,CAAC,EAAE;IAClC,IAAI,EAAE,CAACF,EAAE,GAAGG,aAAa,KAAK,IAAI,IAAIA,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACG,WAAW,MAAM,IAAI,IAAIN,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACS,gBAAgB,CAAC,EAAE;MAC5J,MAAM,IAAIC,KAAK,CAAC,6BAA6B,CAAC;IAClD;IACA,MAAMC,SAAS,GAAGnB,iCAAiC,CAACU,UAAU,EAAE,CAACD,EAAE,GAAGE,aAAa,KAAK,IAAI,IAAIA,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACG,WAAW,MAAM,IAAI,IAAIL,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACQ,gBAAgB,CAAC;IACxNd,QAAQ,CAACY,SAAS,CAACI,SAAS,CAAC;EACjC;AACJ;AACA;AACA;AACA;AACA,OAAO,SAASC,qBAAqBA,CAAChB,QAAQ,EAAEM,UAAU,EAAEL,OAAO,GAAG,CAAC,CAAC,EAAE;EACtE,MAAMF,QAAQ,GAAGN,yBAAyB,CAACQ,OAAO,CAAC;EACnDF,QAAQ,CAACY,SAAS,CAAChB,gBAAgB,CAACM,OAAO,CAAC,CAAC;EAC7CH,2BAA2B,CAACC,QAAQ,EAAEC,QAAQ,EAAE;IAAEM,UAAU;IAAEC,aAAa,EAAEN;EAAQ,CAAC,CAAC;EACvF,OAAOF,QAAQ;AACnB;AACA,SAASa,eAAeA,CAACN,UAAU,EAAE;EACjC,OAAOA,UAAU,CAACW,GAAG,KAAKC,SAAS;AACvC;AACA,OAAO,SAASC,2BAA2BA,CAAA,EAAG;EAC1C,IAAI,CAACtB,gBAAgB,EAAE;IACnBA,gBAAgB,GAAGL,uBAAuB,CAAC,CAAC;EAChD;EACA,OAAOK,gBAAgB;AAC3B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}