{"ast":null,"code":"import { __awaiter as n } from \"../../../../node_modules/.pnpm/@rollup_plugin-typescript@11.1.6_rollup@4.24.4_tslib@2.6.3_typescript@4.9.5/node_modules/tslib/tslib.es6.js\";\nimport { Communication as r, callFunctionInHostAndHandleResponse as t } from \"../internal/communication.js\";\nimport { GlobalVars as i } from \"../internal/globalVars.js\";\nimport { ensureInitialized as e, isCurrentSDKVersionAtLeast as o } from \"../internal/internalAPIs.js\";\nimport { getApiVersionTag as s } from \"../internal/telemetry.js\";\nimport { HostClientType as a, errorNotSupportedOnPlatform as p } from \"./constants.js\";\nimport { runtime as u, legacyTeamsMobileVersionForDeeplyNestedAuth as l } from \"./runtime.js\";\nconst c = \"v2\",\n  d = {\n    validate: n => Array.isArray(n) || \"object\" == typeof n,\n    deserialize: n => n\n  };\nvar m;\nfunction h() {\n  var n;\n  return null !== (n = e(u) && (u.isNAAChannelRecommended || !!(e(u) && y() && u.isLegacyTeams && u.supports.nestedAppAuth))) && void 0 !== n && n;\n}\nfunction f() {\n  return e(u), r.parentOrigin;\n}\nfunction A() {\n  var n;\n  return null !== (n = e(u) && u.canParentManageNAATrustedOrigins) && void 0 !== n && n;\n}\nfunction v() {\n  var n;\n  return null !== (n = e(u) && (u.isDeeplyNestedAuthSupported || !!(e(u) && y() && u.isLegacyTeams && o(l)))) && void 0 !== n && n;\n}\nfunction y() {\n  return i.hostClientType === a.android || i.hostClientType === a.ios || i.hostClientType === a.ipados || i.hostClientType === a.visionOS;\n}\nfunction g(r) {\n  return n(this, void 0, void 0, function* () {\n    if (!A()) throw p;\n    const n = r.map(E);\n    return T(m.ADD, n);\n  });\n}\nfunction w(r) {\n  return n(this, void 0, void 0, function* () {\n    if (!A()) throw p;\n    const n = r.map(E);\n    return T(m.DELETE, n);\n  });\n}\nfunction T(r, i) {\n  return n(this, void 0, void 0, function* () {\n    if (window.parent !== window.top) throw new Error(\"This API is only available in the top-level parent.\");\n    if (!Array.isArray(i) || 0 === i.length) throw new Error(`The '${i}' parameter is required and must be a non-empty array.`);\n    const n = [new D(r, i)];\n    return t(\"nestedAppAuth.manageNAATrustedOrigins\", n, d, s(c, \"nestedAppAuth.manageNAATrustedOrigins\"));\n  });\n}\nfunction E(n) {\n  try {\n    return new URL(n).origin.toLowerCase();\n  } catch (r) {\n    throw new Error(`Invalid origin provided: ${n}`);\n  }\n}\n!function (n) {\n  n.ADD = \"ADD\", n.DELETE = \"DELETE\";\n}(m || (m = {}));\nclass D {\n  constructor(n, r) {\n    this.action = n, this.appOrigins = r;\n  }\n  serialize() {\n    return {\n      action: this.action,\n      appOrigins: this.appOrigins\n    };\n  }\n}\nexport { g as addNAATrustedOrigins, A as canParentManageNAATrustedOrigins, w as deleteNAATrustedOrigins, f as getParentOrigin, v as isDeeplyNestedAuthSupported, h as isNAAChannelRecommended };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}